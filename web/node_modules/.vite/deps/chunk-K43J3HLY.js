import {
  __awaiter,
  __classPrivateFieldGet,
  __classPrivateFieldSet
} from "./chunk-C4K4ZQL2.js";

// node_modules/@descope/web-component/dist/esm/constants/general.js
var e = "undefined" != typeof localStorage;
var o = "J151000";
var t = "J151001";
var n = "E103205";
var E = "E102004";
var a = "E103202";

// node_modules/@descope/web-component/dist/esm/constants/content.js
var e2 = e && localStorage.getItem("base.content.url") || "";
var o2 = "https://static.descope.com/pages";
var a2 = "v2-beta";
var s = "v2-alpha";
var c = "config.json";

// node_modules/@descope/web-component/dist/esm/constants/uiComponents.js
var o3 = "base.ui.components.url";
e && localStorage.getItem(o3), e && localStorage.getItem(o3);

// node_modules/@descope/web-component/dist/esm/types.js
var r;
!function(r5) {
  r5.backward = "backward", r5.forward = "forward";
}(r || (r = {}));

// node_modules/@descope/web-component/dist/esm/constants/index.js
var e3 = "descope-login-flow";
var t2 = "t";
var a3 = "code";
var i = "redirect_mode";
var d = "err";
var o4 = "ra-challenge";
var r2 = "ra-callback";
var _ = "ra-backup-callback";
var p = "ra-initiator";
var c2 = "data-descope-";
var l = "data-exclude-field";
var s2 = "data-exclude-next";
var n2 = "dls_last_auth";
var u = "state_id";
var m = "saml_idp_state_id";
var E2 = "saml_idp_username";
var b = "descope_idp_initiated";
var h = "sso_app_id";
var R = "third_party_app_id";
var S = "third_party_app_state_id";
var x = "oidc_login_hint";
var N = "oidc_prompt";
var O = "oidc_resource";
var g = "oidc_error_redirect_uri";
var C = "application_scopes";
var T = "data-type";
var F = "sdkScriptsResults";
var L = { redirect: "redirect", poll: "poll", webauthnCreate: "webauthnCreate", webauthnGet: "webauthnGet", nativeBridge: "nativeBridge", loadForm: "loadForm" };
var w = { submit: "submit", polling: "polling" };
var f = "data-has-dynamic-attr-values";
var k = ["descope-multi-select-combo-box", "descope-text-area"];
var y = 5e3;

// node_modules/@descope/web-component/dist/esm/constants/customScreens.js
var r3 = ["cssVars", "componentsConfig", "inputs", "errorText", "errorType", "clientScripts"];

// node_modules/@descope/web-component/dist/esm/helpers/helpers.js
var U = ["descope-enriched-text"];
function x2(e5) {
  return new URLSearchParams(window.location.search).get(e5);
}
function T2(e5) {
  if (window.history.replaceState && x2(e5)) {
    const t4 = new URL(window.location.href), n6 = new URLSearchParams(t4.search);
    n6.delete(e5), t4.search = n6.toString(), window.history.replaceState({}, "", t4.toString());
  }
}
function $(t4, n6) {
  return __awaiter(this, void 0, void 0, function* () {
    const e5 = yield fetch(t4, { cache: "default" });
    if (!e5.ok) throw Error(`Error fetching URL ${t4} [${e5.status}]`);
    return { body: yield e5[n6](), headers: Object.fromEntries(e5.headers.entries()) };
  });
}
function j({ projectId: e5, filename: t4, assetsFolder: n6 = a2, baseUrl: o6 }) {
  const r5 = new URL(e2 || o6 || o2);
  return r5.pathname = ((...e6) => e6.join("/").replace(/\/+/g, "/"))(r5.pathname, e5, n6, t4), r5.toString();
}
function R2(e5, t4) {
  if (!t4) return;
  const n6 = +e5, o6 = +t4;
  return Number.isNaN(n6) || Number.isNaN(o6) ? void 0 : n6 > o6 ? r.forward : n6 < o6 ? r.backward : void 0;
}
var O2 = (e5) => {
  let [n6 = "", o6 = ""] = (x2(e3) || "").split("_");
  const r5 = ((e6) => {
    var t4;
    return (null === (t4 = /(.*)\|#\|.*/.exec(e6)) || void 0 === t4 ? void 0 : t4[1]) || "";
  })(n6);
  return (!e5 || r5 && r5 !== e5) && (n6 = "", o6 = ""), { executionId: n6, stepId: o6, executionFlowId: r5 };
};
function F2() {
  return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
}
function N2() {
  T2(e3);
}
function H() {
  return x2(t2) || void 0;
}
function B() {
  T2(t2);
}
function q() {
  return x2(a3) || void 0;
}
function M() {
  return "popup" === x2(i);
}
function W() {
  return x2(d) || void 0;
}
function _2() {
  T2(a3);
}
function Q() {
  T2(i);
}
function z() {
  T2(d);
}
function D() {
  return { redirectAuthCodeChallenge: x2(o4), redirectAuthCallbackUrl: x2(r2), redirectAuthBackupCallbackUri: x2(_), redirectAuthInitiator: x2(p) };
}
function G() {
  return x2(u);
}
function V() {
  T2(u);
}
function J() {
  return x2(m);
}
function K() {
  T2(m);
}
function X() {
  return x2(E2);
}
function Y() {
  T2(E2);
}
function Z() {
  return x2(b);
}
function ee() {
  T2(b);
}
function te() {
  return x2(h);
}
function ne() {
  return x2(R);
}
function oe() {
  T2(h);
}
function re() {
  T2(R);
}
function ie() {
  return x2(S);
}
function ce() {
  T2(S);
}
function ae() {
  return x2(C);
}
function ue() {
  T2(C);
}
function se() {
  return x2(x);
}
function de() {
  T2(x);
}
function le() {
  return x2(N);
}
function pe() {
  T2(N);
}
function fe() {
  return x2(g);
}
function me() {
  T2(g);
}
function ve() {
  return x2(O);
}
function he() {
  T2(O);
}
var we = (e5) => e5.replace(/-./g, (e6) => e6[1].toUpperCase());
var ge = (e5, t4) => (n6) => e5[n6] !== t4[n6];
var Ae = (e5) => Array.from((null == e5 ? void 0 : e5.attributes) || []).reduce((e6, t4) => {
  var n6;
  const o6 = null === (n6 = new RegExp(`^${c2}(\\S+)$`).exec(t4.name)) || void 0 === n6 ? void 0 : n6[1];
  return o6 ? Object.assign(e6, { [o6]: t4.value }) : e6;
}, {});
var be = (e5, t4) => {
  const { executionId: n6, stepId: o6, executionFlowId: r5 } = O2(e5);
  if (r5 && e5 !== r5) return t4.debug("Flow id does not match the execution flow id, skipping url params handling"), { ssoQueryParams: {} };
  (n6 || o6) && N2();
  const i3 = H();
  i3 && B();
  const c4 = q();
  c4 && _2();
  const a4 = M();
  a4 && Q();
  const u2 = W();
  u2 && z();
  const { redirectAuthCodeChallenge: s3, redirectAuthCallbackUrl: d2, redirectAuthBackupCallbackUri: l2, redirectAuthInitiator: p2 } = D(), f3 = G();
  f3 && V();
  const m2 = J();
  m2 && K();
  const v = X();
  m2 && Y();
  const h2 = Z();
  h2 && ee();
  const w2 = te();
  w2 && oe();
  const g2 = ne();
  g2 && re();
  const A = ie();
  A && ce();
  const b2 = ae();
  b2 && ue();
  const S2 = se();
  S2 && de();
  const y2 = le();
  y2 && pe();
  const I = fe();
  I && me();
  const C2 = ve();
  C2 && he();
  return { executionId: n6, stepId: o6, token: i3, code: c4, isPopup: a4, exchangeError: u2, redirectAuthCodeChallenge: s3, redirectAuthCallbackUrl: d2, redirectAuthBackupCallbackUri: l2, redirectAuthInitiator: p2, ssoQueryParams: { oidcIdpStateId: f3, samlIdpStateId: m2, samlIdpUsername: v, descopeIdpInitiated: "true" === h2, ssoAppId: w2, oidcLoginHint: S2, oidcPrompt: y2, oidcErrorRedirectUri: I, oidcResource: C2, thirdPartyAppId: g2, thirdPartyAppStateId: A, applicationScopes: b2 } };
};
var Se = (e5) => {
  let t4, n6;
  return Object.assign((...o6) => {
    return t4 && (i3 = o6, (r5 = t4).length === i3.length && r5.every((e6, t5) => e6 === i3[t5])) || (t4 = o6, n6 = e5(...o6)), n6;
    var r5, i3;
  }, { reset: () => {
    t4 = void 0, n6 = void 0;
  } });
};
var ye = (e5, t4, n6) => {
  if (true === t4 || "skipFirstScreen" === t4 && !n6) {
    const t5 = e5.querySelector("*[name]");
    setTimeout(() => {
      null == t5 || t5.focus();
    });
  }
};
var Ie = (e5) => {
  e5.querySelectorAll("*[name]").forEach((t4) => {
    t4.addEventListener("blur", () => {
      var n6;
      const o6 = () => {
        var e6;
        const n7 = t4.focus;
        t4.focus = () => {
        }, null === (e6 = t4.reportValidity) || void 0 === e6 || e6.call(t4), setTimeout(() => {
          t4.focus = n7;
        });
      };
      if ("true" === t4.getAttribute("invalid") || (null === (n6 = t4.value) || void 0 === n6 ? void 0 : n6.length)) return void o6();
      const r5 = { timer: void 0 }, i3 = (e6) => {
        "true" === e6.target.getAttribute("formnovalidate") && (clearTimeout(r5.timer), r5.timer = void 0);
      };
      r5.timer = setTimeout(() => {
        e5.removeEventListener("click", i3), o6(), r5.timer = void 0;
      }, 150), e5.addEventListener("click", i3, { once: true });
    });
  });
};
function Ce(e5, t4, n6) {
  return new Promise((o6, r5) => {
    let i3 = false;
    const c4 = setTimeout(() => {
      i3 = true, void 0 !== n6 ? o6(n6) : r5(new Error(`Promise timed out after ${e5} ms`));
    }, e5);
    t4.then((e6) => {
      i3 || (clearTimeout(c4), o6(e6));
    }).catch((e6) => {
      i3 || (clearTimeout(c4), r5(e6));
    });
  });
}
var Le = () => {
  var e5;
  const t4 = null === (e5 = null === navigator || void 0 === navigator ? void 0 : navigator.userAgentData) || void 0 === e5 ? void 0 : e5.brands, n6 = null == t4 ? void 0 : t4.find(({ brand: e6, version: t5 }) => "Chromium" === e6 && parseFloat(t5));
  return n6 ? n6.version : 0;
};
var ke = (e5, { oidcIdpStateId: t4, samlIdpStateId: n6, samlIdpUsername: o6, ssoAppId: r5, oidcLoginHint: i3, oidcPrompt: c4, oidcErrorRedirectUri: a4, oidcResource: u2, thirdPartyAppId: s3, thirdPartyAppStateId: d2, applicationScopes: l2 }) => !(!e5 || t4 || n6 || o6 || r5 || i3 || c4 || a4 || u2 || s3 || d2 || l2);
var Ee = (e5, t4, n6, o6) => {
  const r5 = document.createElement("form");
  r5.method = "POST", r5.action = e5, r5.innerHTML = `
  <input type="hidden" role="saml-response" name="SAMLResponse" value="${t4}" />
  <input type="hidden" role="saml-relay-state" name="RelayState" value="${n6}" />
  <input style="display: none;" id="SAMLSubmitButton" type="submit" value="Continue" />
  `, document.body.appendChild(r5), o6(r5);
};
var Pe = (e5) => null == e5 ? void 0 : e5.submit();
var Ue = (e5, t4) => {
  const n6 = t4.find((t5) => e5[t5]);
  return n6 ? e5[n6] : null;
};
var xe = (e5, t4 = 100) => {
  let n6;
  return function(...o6) {
    n6 || e5.apply(this, o6), clearTimeout(n6), n6 = setTimeout(() => {
      n6 = null;
    }, t4);
  };
};
function Te(e5) {
  if (e5) return { locale: e5.toLowerCase(), fallback: e5.toLowerCase() };
  const t4 = navigator.language;
  return t4 ? t4.includes("-") ? { locale: t4.toLowerCase(), fallback: t4.split("-")[0].toLowerCase() } : { locale: t4.toLowerCase(), fallback: t4.toLowerCase() } : { locale: "", fallback: "" };
}
var $e = () => {
  document.querySelectorAll('[data-hidden-input="true"]').forEach((e5) => e5.remove());
};
var je = (e5) => U.includes(e5);
var Re = (e5) => {
  var t4, n6, o6;
  const r5 = (i3 = e5.screenState, c4 = (e6, t5) => r3.includes(t5) || t5.startsWith("_"), Object.fromEntries(Object.entries(i3).filter(([e6, t5]) => !c4(t5, e6))));
  var i3, c4;
  const { screenState: { errorText: a4, errorType: u2 } } = e5;
  return (a4 || u2) && (r5.error = { text: a4, type: u2 }), e5.action && (r5.action = e5.action), (null === (o6 = null === (n6 = null === (t4 = e5.screenState) || void 0 === t4 ? void 0 : t4.componentsConfig) || void 0 === n6 ? void 0 : n6.thirdPartyAppApproveScopes) || void 0 === o6 ? void 0 : o6.data) && (r5.inboundAppApproveScopes = e5.screenState.componentsConfig.thirdPartyAppApproveScopes.data), r5;
};
var Oe = (e5) => {
  const t4 = Object.assign({}, e5);
  return e5.inboundAppApproveScopes && (t4.thirdPartyAppApproveScopes = e5.inboundAppApproveScopes), t4;
};
function Fe(e5, t4) {
  return `${F}.${t4 ? `${e5}_${t4}` : e5}`;
}
var Ne = (e5, t4, n6, o6) => {
  const r5 = void 0 !== window.screenLeft ? window.screenLeft : window.screen.left, i3 = void 0 !== window.screenTop ? window.screenTop : window.screen.top, c4 = ((window.innerWidth || document.documentElement.clientWidth || window.screen.width) - n6) / 2 + r5, a4 = ((window.innerHeight || document.documentElement.clientHeight || window.screen.height) - o6) / 2 + i3, u2 = window.open(e5, t4, `width=${n6},height=${o6},top=${a4},left=${c4},scrollbars=yes,resizable=yes`);
  return u2.focus(), u2;
};

// node_modules/@descope/web-component/dist/esm/helpers/state.js
var r4;
var i2;
var f2;
var n3;
function o5(t4, e5) {
  const s3 = Object.getOwnPropertyNames(t4), r5 = Object.getOwnPropertyNames(e5);
  if (s3.length !== r5.length) return false;
  for (let r6 = 0; r6 < s3.length; r6 += 1) {
    const i3 = s3[r6], f3 = t4[i3], n6 = e5[i3];
    if (null === f3 || null === n6) {
      if (f3 !== n6) return false;
    } else if ("object" == typeof f3 && "object" == typeof n6) {
      if (!o5(f3, n6)) return false;
    } else if (f3 !== n6) return false;
  }
  return true;
}
var c3 = class {
  constructor(c4 = {}, { forceUpdate: h2 = false } = {}) {
    r4.set(this, void 0), i2.set(this, {}), f2.set(this, 0), n3.set(this, true), this.update = (f3) => {
      const c5 = "function" == typeof f3 ? f3(__classPrivateFieldGet(this, r4, "f")) : f3, h3 = Object.assign(Object.assign({}, __classPrivateFieldGet(this, r4, "f")), c5), u2 = __classPrivateFieldGet(this, r4, "f");
      __classPrivateFieldSet(this, r4, h3, "f"), Object.freeze(__classPrivateFieldGet(this, r4, "f")), setTimeout(() => {
        Object.values(__classPrivateFieldGet(this, i2, "f")).forEach(({ cb: e5, selector: r5, forceUpdate: i3 }) => {
          const f4 = r5(u2), c6 = r5(h3);
          (__classPrivateFieldGet(this, n3, "f") || i3 || (function(t4) {
            if ("object" != typeof t4 || null === t4) return false;
            const e6 = Object.getPrototypeOf(t4);
            return e6 === Object.prototype || null === e6;
          }(c6) ? !o5(f4, c6) : f4 !== c6)) && e5(c6, f4, ge(c6, f4));
        });
      }, 0);
    }, __classPrivateFieldSet(this, r4, c4, "f"), __classPrivateFieldSet(this, n3, h2, "f");
  }
  get current() {
    return Object.assign({}, __classPrivateFieldGet(this, r4, "f"));
  }
  set forceUpdate(t4) {
    __classPrivateFieldSet(this, n3, t4, "f");
  }
  subscribe(s3, r5 = (t4) => t4, { forceUpdate: n6 = false } = {}) {
    return __classPrivateFieldSet(this, f2, __classPrivateFieldGet(this, f2, "f") + 1, "f"), __classPrivateFieldGet(this, i2, "f")[__classPrivateFieldGet(this, f2, "f")] = { cb: s3, selector: r5, forceUpdate: n6 }, __classPrivateFieldGet(this, f2, "f").toString();
  }
  unsubscribe(e5) {
    const s3 = !!__classPrivateFieldGet(this, i2, "f")[e5];
    return s3 && delete __classPrivateFieldGet(this, i2, "f")[e5], s3;
  }
  unsubscribeAll() {
    return __classPrivateFieldSet(this, i2, {}, "f"), true;
  }
};
r4 = /* @__PURE__ */ new WeakMap(), i2 = /* @__PURE__ */ new WeakMap(), f2 = /* @__PURE__ */ new WeakMap(), n3 = /* @__PURE__ */ new WeakMap();

// node_modules/@descope/escape-markdown/dist/index.esm.js
var e4 = ["*", "#", "/", "(", ")", "[", "]", "_", "<", ">", "`"];
var t3 = (t4) => {
  const n6 = e4.map((e5) => `${t4}${e5}`).join("|");
  return new RegExp(`(${n6})`, "g");
};
var n4 = (e5) => "string" != typeof e5 ? e5 : e5.replace(t3("\\"), "\\$1");

// node_modules/@descope/web-component/dist/esm/helpers/webauthn.js
var n5 = Se(() => __awaiter(void 0, void 0, void 0, function* () {
  var i3, e5;
  if (!window.PublicKeyCredential || !PublicKeyCredential.isConditionalMediationAvailable || !PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable) return false;
  try {
    const n6 = Promise.all([null === (i3 = window.PublicKeyCredential) || void 0 === i3 ? void 0 : i3.isConditionalMediationAvailable(), null === (e5 = window.PublicKeyCredential) || void 0 === e5 ? void 0 : e5.isUserVerifyingPlatformAuthenticatorAvailable()]).then((i4) => i4.every((i5) => !!i5)), r5 = Le() >= 108;
    return yield Ce(100, n6, r5);
  } catch (i4) {
    return console.error("Conditional login check failed", i4), false;
  }
}));

export {
  e,
  o,
  t,
  n,
  E,
  a,
  s,
  c,
  e3 as e2,
  t2,
  a3 as a2,
  l,
  s2,
  n2,
  T,
  L,
  w,
  f,
  k,
  y,
  $,
  j,
  R2 as R,
  O2 as O,
  F2 as F,
  N2 as N,
  we,
  Ae,
  be,
  Se,
  ye,
  Ie,
  Ce,
  ke,
  Ee,
  Pe,
  Ue,
  xe,
  Te,
  $e,
  je,
  Re,
  Oe,
  Fe,
  Ne,
  c3 as c2,
  n4 as n3,
  n5 as n4
};
//# sourceMappingURL=chunk-K43J3HLY.js.map
