{
  "version": 3,
  "sources": ["../../@descope/sdk-mixins/src/mixins/createValidateAttributesMixin/commonValidators.ts", "../../@descope/sdk-mixins/src/mixins/createValidateAttributesMixin/createValidateAttributesMixin.ts", "../../@descope/sdk-mixins/src/mixins/projectIdMixin.ts", "../../@descope/sdk-mixins/src/mixins/baseUrlMixin.ts", "../../@descope/sdk-mixins/src/constants.ts", "../../@descope/sdk-mixins/src/mixins/staticResourcesMixin/constants.ts", "../../@descope/sdk-mixins/src/mixins/staticResourcesMixin/fetchWithFallbacks.ts", "../../@descope/sdk-mixins/src/mixins/staticResourcesMixin/staticResourcesMixin.ts", "../../@descope/sdk-mixins/src/mixins/configMixin/constants.ts", "../../@descope/sdk-mixins/src/mixins/resetMixin.ts", "../../@descope/sdk-mixins/src/mixins/configMixin/configMixin.ts", "../../@descope/sdk-mixins/src/mixins/injectNpmLibMixin/constants.ts", "../../@descope/sdk-mixins/src/mixins/injectNpmLibMixin/helpers.ts", "../../@descope/sdk-mixins/src/mixins/injectNpmLibMixin/injectNpmLibMixin.ts", "../../@descope/sdk-mixins/src/mixins/descopeUiMixin/helpers.ts", "../../@descope/sdk-mixins/src/mixins/descopeUiMixin/constants.ts", "../../@descope/sdk-mixins/src/mixins/descopeUiMixin/descopeUiMixin.ts", "../../@descope/sdk-mixins/src/mixins/initElementMixin.ts", "../../@descope/sdk-mixins/src/mixins/themeMixin/constants.ts", "../../@descope/sdk-mixins/src/mixins/themeMixin/helpers.ts", "../../@descope/sdk-mixins/src/mixins/themeMixin/themeMixin.ts"],
  "sourcesContent": ["export const missingAttrValidator = (attrName: string, value: string | null) =>\n  !value &&\n  `${attrName} cannot be empty, please make sure to set this attribute`;\n", "import { compose } from '@descope/sdk-helpers';\nimport { observeAttributesMixin } from '../observeAttributesMixin';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { loggerMixin } from '../loggerMixin';\nimport { missingAttrValidator } from './commonValidators';\n\nconst createValidateAttributesMixin =\n  (mappings: Record<string, CheckValueFn | string>) =>\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      loggerMixin,\n      initLifecycleMixin,\n      observeAttributesMixin,\n    )(superclass);\n    const mappingsNames = Object.keys(mappings);\n\n    return class ValidateAttributesMixinClass extends BaseClass {\n      #handleError(attrName: string, newValue: string | null) {\n        const onError = mappings[attrName];\n\n        const error =\n          typeof onError === 'function' ? onError(attrName, newValue) : onError;\n\n        if (error) {\n          this.logger.error(error);\n        }\n      }\n\n      constructor(...args: any) {\n        super(...args);\n\n        this.observeAttributes(mappingsNames, this.#handleError.bind(this));\n      }\n\n      async init() {\n        // check attributes initial values\n        mappingsNames.forEach((attr) =>\n          this.#handleError(attr, this.getAttribute(attr)),\n        );\n        await super.init?.();\n      }\n    };\n  };\n\ncreateValidateAttributesMixin.missingAttrValidator = missingAttrValidator;\n\nexport type CheckValueFn = (\n  attrName: string,\n  value: string | null,\n) => false | string;\n\nexport { createValidateAttributesMixin };\n", "import { createSingletonMixin, compose } from '@descope/sdk-helpers';\nimport { missingAttrValidator } from './createValidateAttributesMixin/commonValidators';\nimport { createValidateAttributesMixin } from './createValidateAttributesMixin';\n\nexport const projectIdMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      createValidateAttributesMixin({ 'project-id': missingAttrValidator }),\n    )(superclass);\n\n    return class ProjectIdMixinClass extends BaseClass {\n      get projectId() {\n        return this.getAttribute('project-id');\n      }\n    };\n  },\n);\n", "import { createSingletonMixin } from '@descope/sdk-helpers';\n\nexport const baseUrlMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    return class BaseUrlMixinClass extends superclass {\n      get baseUrl() {\n        return this.getAttribute('base-url') || '';\n      }\n    };\n  },\n);\n", "export const IS_LOCAL_STORAGE = typeof localStorage !== 'undefined';\n", "import { IS_LOCAL_STORAGE } from '../../constants';\n\nconst BASE_CONTENT_URL_KEY = 'base.content.url';\n\nexport const BASE_CONTENT_URL = 'https://static.descope.com/pages';\n\nexport const OVERRIDE_CONTENT_URL =\n  (IS_LOCAL_STORAGE && localStorage.getItem(BASE_CONTENT_URL_KEY)) || '';\n\nexport const ASSETS_FOLDER = 'v2-beta';\nexport const PREV_VER_ASSETS_FOLDER = 'v2-alpha';\n", "import { Logger } from '../loggerMixin';\n\ntype FetchParams = Parameters<typeof fetch>;\nconst notLastMsgSuffix = 'Trying the next fallback URL...';\n\n// reties in case on network error\nconst fetchWithRetry = async (\n  url: string,\n  init: FetchParams['1'],\n  { logger }: { logger?: Logger } = {},\n) => {\n  try {\n    return await fetch(url, init);\n  } catch (e) {\n    // if there is an exception, we want to retry\n    // so we can overcome network errors\n    logger?.debug(\n      `Network error fetching URL ${url} [${e.message}], retrying...`,\n    );\n    return fetch(url, init);\n  }\n};\n\nexport const fetchWithFallbacks = async (\n  fallbacks: FetchParams['0'] | FetchParams['0'][],\n  init: FetchParams['1'],\n  {\n    logger,\n    onSuccess,\n  }: { logger?: Logger; onSuccess?: (urlIndex: number) => void } = {},\n): ReturnType<typeof fetch> => {\n  const fallbacksArr = Array.isArray(fallbacks) ? fallbacks : [fallbacks];\n\n  for (let index = 0; index < fallbacksArr.length; index++) {\n    const url = fallbacksArr[index];\n    const isLast = index === fallbacksArr.length - 1;\n\n    try {\n      const res = await fetchWithRetry(url.toString(), init, { logger });\n      if (res.ok) {\n        onSuccess?.(index);\n        logger?.debug(`Successfully fetched URL ${url}`);\n        return res;\n      }\n\n      const errMsg = `Error fetching URL ${url} [${res.status}]`;\n\n      if (isLast) throw new Error(errMsg);\n\n      logger?.debug(`${errMsg}. ${notLastMsgSuffix}`);\n    } catch (e) {\n      const errMsg = `Error fetching URL ${url} [${e.message}]`;\n\n      if (isLast) throw new Error(errMsg);\n\n      logger?.debug(`${errMsg}. ${notLastMsgSuffix}`);\n    }\n  }\n};\n", "import { pathJoin, compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { loggerMixin } from '../loggerMixin';\nimport {\n  ASSETS_FOLDER,\n  BASE_CONTENT_URL,\n  OVERRIDE_CONTENT_URL,\n} from './constants';\nimport { projectIdMixin } from '../projectIdMixin';\nimport { baseUrlMixin } from '../baseUrlMixin';\nimport { fetchWithFallbacks } from './fetchWithFallbacks';\n\ntype Format = 'text' | 'json';\n\ntype CustomUrl = URL & { baseUrl: string };\n\nexport function getResourceUrl({\n  projectId,\n  filename,\n  assetsFolder = ASSETS_FOLDER,\n  baseUrl = BASE_CONTENT_URL,\n}: {\n  projectId: string;\n  filename: string;\n  assetsFolder?: string;\n  baseUrl?: string;\n}) {\n  const url: CustomUrl = new URL(baseUrl) as any;\n  url.pathname = pathJoin(url.pathname, projectId, assetsFolder, filename);\n  // we want to keep the baseUrl so we can use it later\n  url.baseUrl = baseUrl;\n\n  return url;\n}\n\nexport const staticResourcesMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      loggerMixin,\n      projectIdMixin,\n      baseUrlMixin,\n    )(superclass);\n\n    // the logic should be as following:\n    // if there is a local storage override, use it\n    // otherwise, if there is a base-static-url attribute, use it\n    // otherwise, try to use base-url, and check if it's working\n    // if it's working, use it\n    // if not, use the default content url\n    return class StaticResourcesMixinClass extends BaseClass {\n      #lastBaseUrl?: string;\n      #workingBaseUrl?: string;\n\n      #getResourceUrls(filename: string): CustomUrl[] | CustomUrl {\n        const overrideUrl = OVERRIDE_CONTENT_URL || this.baseStaticUrl;\n\n        if (overrideUrl) {\n          return getResourceUrl({\n            projectId: this.projectId,\n            filename,\n            baseUrl: overrideUrl,\n          });\n        }\n\n        const isBaseUrlUpdated = this.#lastBaseUrl !== this.baseUrl;\n        const shouldFallbackFetch = isBaseUrlUpdated && !!this.baseUrl;\n\n        // if the base url has changed, reset the working base url\n        if (isBaseUrlUpdated) {\n          this.#lastBaseUrl = this.baseUrl;\n          this.#workingBaseUrl = undefined;\n        }\n\n        const resourceUrl = getResourceUrl({\n          projectId: this.projectId,\n          filename,\n          baseUrl: this.#workingBaseUrl,\n        });\n\n        // if there is no reason to check the baseUrl, generate the resource url according to the priority\n        if (!shouldFallbackFetch) {\n          return resourceUrl;\n        }\n\n        const resourceUrlFromBaseUrl = getResourceUrl({\n          projectId: this.projectId,\n          filename,\n          baseUrl: this.baseUrl + '/pages',\n        });\n\n        return [resourceUrlFromBaseUrl, resourceUrl];\n      }\n\n      async fetchStaticResource<F extends Format>(\n        filename: string,\n        format: F,\n      ): Promise<{\n        body: F extends 'json' ? Record<string, any> : string;\n        headers: Record<string, string>;\n      }> {\n        const resourceUrls = this.#getResourceUrls(filename);\n\n        // if there are multiple resource urls, it means that there are fallbacks,\n        // if one of the options (which is not the last) is working, we want to keep using it by updating the workingBaseUrl\n        const onSuccess = !Array.isArray(resourceUrls)\n          ? null\n          : (index: number) => {\n              if (index !== resourceUrls.length - 1) {\n                const { baseUrl } = resourceUrls[index];\n                this.#workingBaseUrl = baseUrl;\n              }\n            };\n\n        try {\n          const res = await fetchWithFallbacks(\n            resourceUrls,\n            { cache: 'default' },\n            { logger: this.logger, onSuccess },\n          );\n\n          return {\n            body: await res[format](),\n            headers: Object.fromEntries(res.headers.entries()),\n          };\n        } catch (e) {\n          this.logger.error(e.message);\n        }\n      }\n\n      get baseStaticUrl() {\n        return this.getAttribute('base-static-url') || '';\n      }\n    };\n  },\n);\n", "export const CONFIG_FILENAME = 'config.json';\n", "import { createSingletonMixin, compose } from '@descope/sdk-helpers';\nimport { missingAttrValidator } from './createValidateAttributesMixin/commonValidators';\nimport { createValidateAttributesMixin } from './createValidateAttributesMixin';\n\nexport const resetMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      createValidateAttributesMixin({ 'project-id': missingAttrValidator }),\n    )(superclass);\n\n    return class ResetMixinClass extends BaseClass {\n      #callbacks = new Map<string, () => void>();\n\n      onReset(sectionId: string, callback: () => void | Promise<void>) {\n        if (!this.#callbacks.has(sectionId)) {\n          this.#callbacks.set(sectionId, callback);\n          return () => {\n            this.#callbacks.delete(sectionId);\n          };\n        } else {\n          throw new Error(`Callback for sectionId ${sectionId} already exists`);\n        }\n      }\n\n      async reset(...sectionIds: string[]) {\n        if (sectionIds.length === 0) {\n          await Promise.all(\n            Array.from(this.#callbacks.values()).map((callback) => callback()),\n          );\n        } else {\n          await Promise.all(\n            sectionIds.map((sectionId) => {\n              if (!this.#callbacks.has(sectionId)) {\n                throw new Error(\n                  `Callback for sectionId ${sectionId} does not exist`,\n                );\n              }\n              return this.#callbacks.get(sectionId)?.();\n            }),\n          );\n        }\n      }\n    };\n  },\n);\n", "/* eslint-disable no-underscore-dangle */\nimport { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { staticResourcesMixin } from '../staticResourcesMixin';\nimport { CONFIG_FILENAME } from './constants';\nimport { Config, ProjectConfiguration } from './types';\nimport { resetMixin } from '../resetMixin';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\n\nexport const configMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      staticResourcesMixin,\n      resetMixin,\n      initLifecycleMixin,\n    )(superclass);\n\n    return class ConfigMixinClass extends BaseClass {\n      async init() {\n        await super.init();\n        this.onReset('config', this.#configCacheClear.bind(this));\n      }\n\n      get config() {\n        if (!this.#_configResource) {\n          this.#_configResource = this.#fetchConfig();\n        }\n\n        return this.#_configResource;\n      }\n\n      #configCacheClear() {\n        this.#_configResource = undefined;\n      }\n\n      #_configResource: Promise<Config>;\n\n      #fetchConfig: () => Promise<Config> = async () => {\n        try {\n          const {\n            body,\n            headers,\n          }: { body: ProjectConfiguration; headers: Record<string, any> } =\n            await (<any>this.fetchStaticResource(CONFIG_FILENAME, 'json'));\n          return {\n            projectConfig: body as ProjectConfiguration,\n            executionContext: { geo: headers['x-geo'] },\n          };\n        } catch (e) {\n          this.logger.error(\n            'Cannot fetch config file',\n            'make sure that your projectId & flowId are correct',\n          );\n        }\n\n        return undefined;\n      };\n    };\n  },\n);\n", "export const BASE_URLS = [\n  'https://descopecdn.com',\n  'https://static.descope.com',\n  'https://cdn.jsdelivr.net',\n];\n", "const getExistingScript = (scriptId: string): HTMLScriptElement => {\n  return document.querySelector(`script#${scriptId}`);\n};\n\nconst isScriptLoaded = (script: HTMLScriptElement) => {\n  return script.getAttribute('status') === 'loaded';\n};\n\nconst isScriptError = (script: HTMLScriptElement) => {\n  return script.getAttribute('status') === 'error';\n};\n\nconst hashUrl = (url: URL) => {\n  let hash = 0;\n  const urlStr = url.toString();\n\n  for (let i = 0; i < urlStr.length; i++) {\n    const char = urlStr.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32-bit integer\n  }\n\n  return `${Math.abs(hash).toString()}`;\n};\n\nconst setupScript = (id: string) => {\n  const scriptEle = document.createElement('script');\n  scriptEle.id = id;\n\n  return scriptEle;\n};\n\ntype ScriptData = {\n  id: string;\n  url: URL;\n};\n\nconst injectScript = (scriptId: string, url: URL) => {\n  return new Promise((res, rej) => {\n    const scriptEle = setupScript(scriptId);\n\n    scriptEle.onerror = (error) => {\n      scriptEle.setAttribute('status', 'error');\n      rej(error);\n    };\n    scriptEle.onload = () => {\n      scriptEle.setAttribute('status', 'loaded');\n      res(scriptEle);\n    };\n\n    scriptEle.src = url.toString();\n\n    document.body.appendChild(scriptEle);\n  });\n};\n\nconst handleExistingScript = (existingScript: HTMLScriptElement) => {\n  if (isScriptLoaded(existingScript)) {\n    return Promise.resolve(existingScript);\n  }\n\n  if (isScriptError(existingScript)) {\n    return Promise.reject();\n  }\n\n  return new Promise((res, rej) => {\n    existingScript.addEventListener('load', () => {\n      res(existingScript);\n    });\n\n    existingScript.addEventListener('error', (error) => {\n      rej(error);\n    });\n  });\n};\n\nexport const injectScriptWithFallbacks = async (\n  scriptsData: ScriptData[],\n  onError: (scriptData: ScriptData, existingScript: boolean) => void,\n) => {\n  for (const scriptData of scriptsData) {\n    const { id, url } = scriptData;\n    const existingScript = getExistingScript(id);\n    if (existingScript) {\n      try {\n        await handleExistingScript(existingScript);\n        return scriptData;\n      } catch (e) {\n        onError(scriptData, true);\n      }\n    } else {\n      try {\n        await injectScript(id, url);\n        return scriptData;\n      } catch (e) {\n        onError(scriptData, false);\n      }\n    }\n  }\n  throw new Error('All scripts failed to load');\n};\n\nexport const generateLibUrls = (\n  baseUrls: string[],\n  libName: string,\n  version: string,\n  path = '',\n) =>\n  baseUrls.reduce((prev, curr) => {\n    const baseUrl = curr;\n    if (!baseUrl) {\n      return prev;\n    }\n\n    let url: URL;\n    try {\n      url = new URL(baseUrl);\n    } catch (e) {\n      throw new Error(`Invalid URL: ${baseUrl}`);\n    }\n\n    const isUrlIncludesPath = url.pathname !== '/';\n\n    if (!isUrlIncludesPath) {\n      url.pathname = `/npm/${libName}@${version}/${path}`;\n    }\n\n    return [\n      ...prev,\n      {\n        url: url,\n        id: `npmlib-${libName\n          .replaceAll('@', '')\n          .replaceAll('/', '_')}-${hashUrl(url)}`,\n      },\n    ];\n  }, []);\n", "import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { loggerMixin } from '../loggerMixin';\nimport { BASE_URLS } from './constants';\nimport { generateLibUrls, injectScriptWithFallbacks } from './helpers';\n\n// scripts load to window under descope object\ndeclare global {\n  var descope: any;\n}\n\nexport const injectNpmLibMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(loggerMixin)(superclass);\n\n    return class InjectNpmLibMixinClass extends BaseClass {\n      get baseCdnUrl() {\n        return this.getAttribute('base-cdn-url') || '';\n      }\n\n      injectNpmLib(\n        libName: string,\n        version: string,\n        filePath = '',\n        overrides: string[] = [],\n      ) {\n        this.logger.debug(\n          `Injecting npm lib: \"${libName}\" with version: \"${version}\"`,\n        );\n        return injectScriptWithFallbacks(\n          generateLibUrls(\n            [...overrides, this.baseCdnUrl, ...BASE_URLS],\n            libName,\n            version,\n            filePath,\n          ),\n          (scriptData, existingScript) => {\n            if (existingScript) {\n              this.logger.error(\n                `Existing script cannot be loaded: \"${scriptData.url}\"`,\n              );\n              return;\n            }\n            this.logger.error(\n              `Cannot load script from URL, Make sure this URL is valid and return the correct script: \"${scriptData.url}\"`,\n            );\n          },\n        );\n      }\n    };\n  },\n);\n", "export const setupScript = (id: string) => {\n  const scriptEle = document.createElement('script');\n  scriptEle.id = id;\n\n  return scriptEle;\n};\n\nexport const getDescopeUiComponentsList = (template: HTMLTemplateElement) => [\n  ...Array.from(template.content.querySelectorAll('*')).reduce<Set<string>>(\n    (acc, el: Element) =>\n      el.localName.startsWith('descope-') ? acc.add(el.localName) : acc,\n    new Set(),\n  ),\n];\n", "import { IS_LOCAL_STORAGE } from '../../constants';\n\nexport const UI_COMPONENTS_URL_KEY = 'base.ui.components.url';\nexport const LOCAL_STORAGE_OVERRIDE =\n  IS_LOCAL_STORAGE && localStorage.getItem(UI_COMPONENTS_URL_KEY);\nexport const JS_FILE_PATH = 'dist/umd/index.js';\nexport const WEB_COMPONENTS_UI_LIB_NAME = '@descope/web-components-ui';\n", "import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { configMixin } from '../configMixin';\nimport { injectNpmLibMixin } from '../injectNpmLibMixin';\nimport { loggerMixin } from '../loggerMixin';\nimport { getDescopeUiComponentsList } from './helpers';\nimport {\n  JS_FILE_PATH,\n  LOCAL_STORAGE_OVERRIDE,\n  WEB_COMPONENTS_UI_LIB_NAME,\n} from './constants';\n\nexport const descopeUiMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      loggerMixin,\n      configMixin,\n      injectNpmLibMixin,\n    )(superclass);\n\n    return class DescopeUiMixinClass extends BaseClass {\n      // eslint-disable-next-line class-methods-use-this\n      async #getComponentsVersion() {\n        const config = await this.config;\n        const componentsVersion = config?.projectConfig?.componentsVersion;\n\n        if (!componentsVersion) {\n          this.logger.error('Could not get components version');\n        } else {\n          this.logger.debug(`Got component version \"${componentsVersion}\"`);\n        }\n\n        return componentsVersion;\n      }\n\n      #descopeUi: Promise<any>;\n\n      get descopeUi() {\n        if (!this.#descopeUi) {\n          this.#descopeUi = this.#getDescopeUi();\n        }\n\n        return this.#descopeUi;\n      }\n\n      async #loadDescopeUiComponent(componentName: string) {\n        const isComponentAlreadyDefined = !!customElements.get(componentName);\n\n        if (isComponentAlreadyDefined) {\n          this.logger.debug(\n            `Loading component \"${componentName}\" is skipped as it is already defined`,\n          );\n          return undefined;\n        }\n\n        const descopeUI = await this.descopeUi;\n\n        if (!descopeUI[componentName]) {\n          this.logger.error(\n            `Cannot load UI component \"${componentName}\"`,\n            `Descope UI does not have a component named \"${componentName}\", available components are: \"${Object.keys(\n              descopeUI,\n            ).join(', ')}\"`,\n          );\n          return undefined;\n        }\n\n        try {\n          // eslint-disable-next-line @typescript-eslint/return-await\n          return await descopeUI[componentName]();\n        } catch (e) {\n          // this error is thrown when trying to register a component which is already registered\n          // when running 2 flows on the same page, it might happen that the register fn is called twice\n          // in case it happens, we are silently ignore the error\n          if (e.name === 'NotSupportedError') {\n            // eslint-disable-next-line no-console\n            console.debug(\n              `Encountered an error while attempting to define the \"${componentName}\" component, it is likely that this component is already defined`,\n            );\n          } else {\n            throw e;\n          }\n        }\n\n        return undefined;\n      }\n\n      async #getDescopeUi() {\n        if (globalThis.DescopeUI) {\n          return globalThis.DescopeUI;\n        }\n\n        try {\n          await this.injectNpmLib(\n            WEB_COMPONENTS_UI_LIB_NAME,\n            await this.#getComponentsVersion(),\n            JS_FILE_PATH,\n            [LOCAL_STORAGE_OVERRIDE],\n          );\n          this.logger.debug('DescopeUI was loaded');\n          return globalThis.DescopeUI;\n        } catch (error) {\n          this.logger.error(error);\n          throw new Error('DescopeUI was not loaded');\n        }\n      }\n\n      async loadDescopeUiComponents(\n        templateOrComponentNames: HTMLTemplateElement | string[],\n      ) {\n        const descopeUiComponentsList = Array.isArray(templateOrComponentNames)\n          ? templateOrComponentNames\n          : getDescopeUiComponentsList(templateOrComponentNames);\n\n        return Promise.all(\n          descopeUiComponentsList.map((componentName: string) =>\n            this.#loadDescopeUiComponent(componentName),\n          ),\n        );\n      }\n    };\n  },\n);\n", "import { compose, createSingletonMixin } from '@descope/sdk-helpers';\nimport { injectStyleMixin } from './injectStyleMixin';\n\nconst CONTENT_ROOT_ID = 'content-root';\nconst ROOT_ID = 'root';\n\nexport const initElementMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(injectStyleMixin)(superclass);\n    return class InitElementMixinClass extends BaseClass {\n      // the content of contentRootElement is being replaced dynamically\n      // do not place content which is not dynamic inside\n      contentRootElement: HTMLElement;\n\n      rootElement: HTMLElement;\n\n      constructor(...rest) {\n        super(...rest);\n\n        this.attachShadow({ mode: 'open' }).innerHTML = `\n          <div id=\"${ROOT_ID}\">\n            <div id=\"${CONTENT_ROOT_ID}\"></div>\n          </div>\n          `;\n\n        this.injectStyle(`\n            #${ROOT_ID}, #${CONTENT_ROOT_ID} {\n              height: 100%;\n            }\n            #${ROOT_ID} {\n              position: relative;\n              height: fit-content;\n            }\n          `);\n\n        this.contentRootElement =\n          this.shadowRoot?.getElementById(CONTENT_ROOT_ID)!;\n        this.rootElement = this.shadowRoot?.getElementById(ROOT_ID)!;\n      }\n    };\n  },\n);\n", "// Those files are saved on a new folder to prevent breaking changes\nexport const DEFAULT_STYLE_ID = 'theme';\nexport const CONFIG_FILENAME = 'config.json';\n", "import { UI_COMPONENTS_URL_KEY } from '../descopeUiMixin/constants';\n\nexport const loadFont = (url: string) => {\n  const font = document.createElement('link');\n  font.href = url;\n  font.rel = 'stylesheet';\n  document.head.appendChild(font);\n};\n\nexport const loadDevTheme = async () => {\n  const componentsUrl = localStorage.getItem(UI_COMPONENTS_URL_KEY);\n  const descopeDevUrl = componentsUrl?.replace(/[^\\/]+$/, 'DescopeDev.js');\n\n  // eslint-disable-next-line no-console\n  console.warn('Trying to load DescopeDev.js from', descopeDevUrl);\n  const scriptEle = document.createElement('script');\n  scriptEle.src = descopeDevUrl;\n  document.body.appendChild(scriptEle);\n\n  await new Promise((resolve, reject) => {\n    scriptEle.onload = resolve;\n    scriptEle.onerror = reject;\n  });\n\n  if (globalThis.DescopeDev) {\n    const { themeToStyle, defaultTheme, darkTheme } = globalThis.DescopeDev;\n\n    return {\n      light: themeToStyle(defaultTheme),\n      dark: themeToStyle(darkTheme),\n    };\n  }\n};\n", "/* eslint-disable no-underscore-dangle */\nimport { createSingletonMixin, compose } from '@descope/sdk-helpers';\nimport { configMixin } from '../configMixin';\nimport { createValidateAttributesMixin } from '../createValidateAttributesMixin';\nimport { descopeUiMixin } from '../descopeUiMixin';\nimport { initElementMixin } from '../initElementMixin';\nimport { initLifecycleMixin } from '../initLifecycleMixin';\nimport { staticResourcesMixin } from '../staticResourcesMixin';\nimport { DEFAULT_STYLE_ID } from './constants';\nimport { loadDevTheme, loadFont } from './helpers';\nimport { observeAttributesMixin } from '../observeAttributesMixin';\nimport { UI_COMPONENTS_URL_KEY } from '../descopeUiMixin/constants';\nimport { InjectedStyle, injectStyleMixin } from '../injectStyleMixin';\n\nconst themeValidation = (_: string, theme: string | null) =>\n  (theme || false) &&\n  theme !== 'light' &&\n  theme !== 'dark' &&\n  'Supported theme values are \"light\", \"dark\", or leave empty for using the OS theme';\n\nexport type ThemeOptions = 'light' | 'dark' | 'os';\n\nexport const themeMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) => {\n    const BaseClass = compose(\n      createValidateAttributesMixin({ theme: themeValidation }),\n      staticResourcesMixin,\n      initLifecycleMixin,\n      descopeUiMixin,\n      configMixin,\n      initElementMixin,\n      observeAttributesMixin,\n      injectStyleMixin,\n    )(superclass);\n\n    return class ThemeMixinClass extends BaseClass {\n      #globalStyle: InjectedStyle;\n\n      get theme(): ThemeOptions {\n        const theme = this.getAttribute('theme') as ThemeOptions | null;\n\n        if (theme === 'os') {\n          const isOsDark =\n            window.matchMedia &&\n            window.matchMedia?.('(prefers-color-scheme: dark)')?.matches;\n\n          return isOsDark ? 'dark' : 'light';\n        }\n\n        return theme || 'light';\n      }\n\n      get styleId(): string {\n        return this.getAttribute('style-id') || DEFAULT_STYLE_ID;\n      }\n\n      #_themeResource: Promise<void | Record<string, any>>;\n\n      async #fetchTheme() {\n        try {\n          const { body: fetchedTheme } = await this.fetchStaticResource(\n            `${this.styleId}.json`,\n            'json',\n          );\n\n          // In development mode, we sometimes want to override the UI components URL\n          // The override components might have a different theme, so we need to merge it with the project theme in order to see the components correctly\n          if (process.env.NODE_ENV === 'development') {\n            if (localStorage?.getItem(UI_COMPONENTS_URL_KEY)) {\n              try {\n                this.logger.warn(\n                  'You are in DEV mode, and UI components override URL was found\\ntrying to merge project theme with the default theme of the UI components',\n                );\n                const devTheme = await loadDevTheme();\n\n                if (devTheme) {\n                  fetchedTheme.light.components = {\n                    ...fetchedTheme.light.components,\n                    ...devTheme.light.components,\n                  };\n                  fetchedTheme.dark.components = {\n                    ...fetchedTheme.dark.components,\n                    ...devTheme.dark.components,\n                  };\n\n                  this.logger.warn('Theme was merged successfully');\n\n                  // eslint-disable-next-line no-console\n                  console.log(\n                    '%cNOTICE! This is not the theme that will be used in production!\\n\\nMake sure to test it without the override UI components URL!',\n                    'color: black; background-color:yellow; font-size: x-large',\n                  );\n                }\n              } catch (e) {\n                this.logger.error('Failed to merge UI components theme\\n', e);\n              }\n            }\n          }\n\n          return fetchedTheme;\n        } catch (e) {\n          this.logger.error(\n            'Cannot fetch theme file',\n            'make sure that your projectId & flowId are correct',\n          );\n        }\n\n        return undefined;\n      }\n\n      get #themeResource() {\n        if (!this.#_themeResource) {\n          this.#_themeResource = this.#fetchTheme();\n          this.#_themeResource.then((theme) =>\n            this.logger.debug('Fetched theme', theme),\n          );\n        }\n\n        // eslint-disable-next-line no-underscore-dangle\n        return this.#_themeResource;\n      }\n\n      async #loadGlobalStyle() {\n        const theme = await this.#themeResource;\n        if (!theme) return;\n\n        if (!this.#globalStyle) {\n          this.#globalStyle = this.injectStyle('');\n        }\n\n        this.#globalStyle.replaceSync(\n          (theme?.light?.globals || '') + (theme?.dark?.globals || ''),\n        );\n      }\n\n      async #loadComponentsStyle() {\n        const theme = await this.#themeResource;\n        if (!theme) return;\n\n        const descopeUi = await this.descopeUi;\n        if (descopeUi?.componentsThemeManager) {\n          descopeUi.componentsThemeManager.themes = {\n            light: theme?.light?.components,\n            dark: theme?.dark?.components,\n          };\n        }\n      }\n\n      async #getFontsConfig() {\n        const { projectConfig } = (await this.config) || {};\n\n        const newConfig = projectConfig?.styles?.[this.styleId];\n        const oldConfig = projectConfig?.cssTemplate;\n\n        const config = newConfig || oldConfig;\n\n        const fonts: Record<string, { url?: string }> | undefined =\n          config?.[this.theme]?.fonts;\n\n        return fonts;\n      }\n\n      async #loadFonts() {\n        const fonts = await this.#getFontsConfig();\n        if (fonts) {\n          Object.values(fonts).forEach((font) => {\n            if (font.url) {\n              this.logger.debug(`Loading font from URL \"${font.url}\"`);\n              loadFont(font.url);\n            }\n          });\n        } else {\n          this.logger.debug('No fonts to load');\n        }\n      }\n\n      async #applyTheme() {\n        this.rootElement.setAttribute('data-theme', this.theme);\n        const descopeUi = await this.descopeUi;\n        if (descopeUi?.componentsThemeManager) {\n          descopeUi.componentsThemeManager.currentThemeName = this.theme;\n        }\n      }\n\n      #onThemeChange = () => {\n        this.#loadTheme();\n        this.#toggleOsThemeChangeListener(this.getAttribute('theme') === 'os');\n      };\n\n      #loadTheme() {\n        this.#loadFonts();\n        this.#applyTheme();\n      }\n\n      // add or remove os theme change listener\n      #toggleOsThemeChangeListener = (listen: boolean) => {\n        const method = listen ? 'addEventListener' : 'removeEventListener';\n        window\n          .matchMedia?.('(prefers-color-scheme: dark)')\n          ?.[method]?.('change', () => this.#loadTheme());\n      };\n\n      async init() {\n        await super.init?.();\n\n        this.#onThemeChange();\n        await Promise.all([\n          this.#loadGlobalStyle(),\n          this.#loadComponentsStyle(),\n        ]);\n\n        this.observeAttributes(['theme'], this.#onThemeChange);\n\n        this.observeAttributes(['style-id'], () => {\n          this.#_themeResource = null;\n          this.#loadFonts();\n          this.#loadGlobalStyle();\n          this.#loadComponentsStyle();\n        });\n      }\n    };\n  },\n);\n"],
  "mappings": ";;;;;;;;;;;;;;;AAAO,IAAM,uBAAuB,CAAC,UAAkB,UACrD,CAAC,SACD,GAAG,QAAQ;;;ACIP,IAAA,gCACJ,CAAC,aACD,CAAqC,eAAiB;;AACpD,QAAM,YAAY,EAChB,aACA,oBACA,sBAAsB,EACtB,UAAU;AACZ,QAAM,gBAAgB,OAAO,KAAK,QAAQ;AAE1C,SAAO,KAAA,MAAM,qCAAqC,UAAS;IAYzD,eAAe,MAAS;AACtB,YAAM,GAAG,IAAI;;AAEb,WAAK,kBAAkB,eAAe,uBAAA,MAAiB,yCAAA,KAAA,yCAAA,EAAC,KAAK,IAAI,CAAC;;IAGpE,MAAM,OAAI;;AAER,oBAAc,QAAQ,CAAC,SACrB,uBAAA,MAAiB,yCAAA,KAAA,yCAAA,EAAA,KAAjB,MAAkB,MAAM,KAAK,aAAa,IAAI,CAAC,CAAC;AAElD,cAAM,KAAA,MAAM,UAAI,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,IAAA;;EAEnB,4EAxBc,4CAAA,SAAAA,2CAAA,UAAkB,UAAuB;AACpD,UAAM,UAAU,SAAS,QAAQ;AAEjC,UAAM,QACJ,OAAO,YAAY,aAAa,QAAQ,UAAU,QAAQ,IAAI;AAEhE,QAAI,OAAO;AACT,WAAK,OAAO,MAAM,KAAK;;KAiB3B;AACJ;AAEF,8BAA8B,uBAAuB;;;ICxCxC,iBAAiB,EAC5B,CAAqC,eAAiB;AACpD,QAAM,YAAY,EAChB,8BAA8B,EAAE,cAAc,qBAAoB,CAAE,CAAC,EACrE,UAAU;AAEZ,SAAO,MAAM,4BAA4B,UAAS;IAChD,IAAI,YAAS;AACX,aAAO,KAAK,aAAa,YAAY;;;AAG3C,CAAC;;;ICbU,eAAe,EAC1B,CAAqC,eAAiB;AACpD,SAAO,MAAM,0BAA0B,WAAU;IAC/C,IAAI,UAAO;AACT,aAAO,KAAK,aAAa,UAAU,KAAK;;;AAG9C,CAAC;;;ICTU,mBAAmB,OAAO,iBAAiB;;;ACExD,IAAM,uBAAuB;AAEtB,IAAM,mBAAmB;AAEnB,IAAA,uBACV,oBAAoB,aAAa,QAAQ,oBAAoB,KAAM;AAE/D,IAAM,gBAAgB;;;ACN7B,IAAM,mBAAmB;AAGzB,IAAM,iBAAiB,OACrB,KACA,MACA,EAAE,OAAM,IAA0B,CAAA,MAChC;AACF,MAAI;AACF,WAAO,MAAM,MAAM,KAAK,IAAI;WACrB,GAAG;AAGV,eAAA,QAAA,WAAA,SAAA,SAAA,OAAQ,MACN,8BAA8B,GAAG,KAAK,EAAE,OAAO,gBAAgB;AAEjE,WAAO,MAAM,KAAK,IAAI;;AAE1B;AAEa,IAAA,qBAAqB,OAChC,WACA,MACA,EACE,QACA,UAAS,IACsD,CAAA,MACrC;AAC5B,QAAM,eAAe,MAAM,QAAQ,SAAS,IAAI,YAAY,CAAC,SAAS;AAEtE,WAAS,QAAQ,GAAG,QAAQ,aAAa,QAAQ,SAAS;AACxD,UAAM,MAAM,aAAa,KAAK;AAC9B,UAAM,SAAS,UAAU,aAAa,SAAS;AAE/C,QAAI;AACF,YAAM,MAAM,MAAM,eAAe,IAAI,SAAQ,GAAI,MAAM,EAAE,OAAM,CAAE;AACjE,UAAI,IAAI,IAAI;AACV,sBAAS,QAAT,cAAS,SAAA,SAAT,UAAY,KAAK;AACjB,mBAAM,QAAN,WAAM,SAAA,SAAN,OAAQ,MAAM,4BAA4B,GAAG,EAAE;AAC/C,eAAO;;AAGT,YAAM,SAAS,sBAAsB,GAAG,KAAK,IAAI,MAAM;AAEvD,UAAI;AAAQ,cAAM,IAAI,MAAM,MAAM;AAElC,iBAAA,QAAA,WAAA,SAAA,SAAA,OAAQ,MAAM,GAAG,MAAM,KAAK,gBAAgB,EAAE;aACvC,GAAG;AACV,YAAM,SAAS,sBAAsB,GAAG,KAAK,EAAE,OAAO;AAEtD,UAAI;AAAQ,cAAM,IAAI,MAAM,MAAM;AAElC,iBAAA,QAAA,WAAA,SAAA,SAAA,OAAQ,MAAM,GAAG,MAAM,KAAK,gBAAgB,EAAE;;;AAGpD;;;AC3CgB,SAAA,eAAe,EAC7B,WACA,UACA,eAAe,eACf,UAAU,iBAAgB,GAM3B;AACC,QAAM,MAAiB,IAAI,IAAI,OAAO;AACtC,MAAI,WAAW,EAAS,IAAI,UAAU,WAAW,cAAc,QAAQ;AAEvE,MAAI,UAAU;AAEd,SAAO;AACT;IAEa,uBAAuB,EAClC,CAAqC,eAAiB;;AACpD,QAAM,YAAY,EAChB,aACA,gBACA,YAAY,EACZ,UAAU;AAQZ,SAAO,KAAA,MAAM,kCAAkC,UAAS;IAAjD,cAAA;;;AACL,6CAAsB,IAAA,MAAA,MAAA;AACtB,gDAAyB,IAAA,MAAA,MAAA;;IA0CzB,MAAM,oBACJ,UACA,QAAS;AAKT,YAAM,eAAe,uBAAA,MAAI,sCAAA,KAAA,0CAAA,EAAiB,KAArB,MAAsB,QAAQ;AAInD,YAAM,YAAY,CAAC,MAAM,QAAQ,YAAY,IACzC,OACA,CAAC,UAAiB;AAChB,YAAI,UAAU,aAAa,SAAS,GAAG;AACrC,gBAAM,EAAE,QAAO,IAAK,aAAa,KAAK;AACtC,iCAAA,MAAI,2CAAmB,SAAO,GAAA;;MAElC;AAEJ,UAAI;AACF,cAAM,MAAM,MAAM,mBAChB,cACA,EAAE,OAAO,UAAS,GAClB,EAAE,QAAQ,KAAK,QAAQ,UAAS,CAAE;AAGpC,eAAO;UACL,MAAM,MAAM,IAAI,MAAM,EAAC;UACvB,SAAS,OAAO,YAAY,IAAI,QAAQ,QAAO,CAAE;;eAE5C,GAAG;AACV,aAAK,OAAO,MAAM,EAAE,OAAO;;;IAI/B,IAAI,gBAAa;AACf,aAAO,KAAK,aAAa,iBAAiB,KAAK;;EAElD,8TA/EkB,UAAgB;AAC/B,UAAM,cAAc,wBAAwB,KAAK;AAEjD,QAAI,aAAa;AACf,aAAO,eAAe;QACpB,WAAW,KAAK;QAChB;QACA,SAAS;MACV,CAAA;;AAGH,UAAM,mBAAmB,uBAAA,MAAI,wCAAA,GAAA,MAAkB,KAAK;AACpD,UAAM,sBAAsB,oBAAoB,CAAC,CAAC,KAAK;AAGvD,QAAI,kBAAkB;AACpB,6BAAA,MAAoB,wCAAA,KAAK,SAAO,GAAA;AAChC,6BAAA,MAAI,2CAAmB,QAAS,GAAA;;AAGlC,UAAM,cAAc,eAAe;MACjC,WAAW,KAAK;MAChB;MACA,SAAS,uBAAA,MAAoB,2CAAA,GAAA;IAC9B,CAAA;AAGD,QAAI,CAAC,qBAAqB;AACxB,aAAO;;AAGT,UAAM,yBAAyB,eAAe;MAC5C,WAAW,KAAK;MAChB;MACA,SAAS,KAAK,UAAU;IACzB,CAAA;AAED,WAAO,CAAC,wBAAwB,WAAW;KA0C7C;AACJ,CAAC;;;ACpII,IAAM,kBAAkB;;;ICIlB,aAAa,EACxB,CAAqC,eAAiB;;AACpD,QAAM,YAAY,EAChB,8BAA8B,EAAE,cAAc,qBAAoB,CAAE,CAAC,EACrE,UAAU;AAEZ,SAAO,KAAA,MAAM,wBAAwB,UAAS;IAAvC,cAAA;;AACL,iCAAa,IAAA,MAAA,oBAAI,IAAG,CAAsB;;IAE1C,QAAQ,WAAmB,UAAoC;AAC7D,UAAI,CAAC,uBAAA,MAAe,4BAAA,GAAA,EAAC,IAAI,SAAS,GAAG;AACnC,+BAAA,MAAI,4BAAA,GAAA,EAAY,IAAI,WAAW,QAAQ;AACvC,eAAO,MAAK;AACV,iCAAA,MAAe,4BAAA,GAAA,EAAC,OAAO,SAAS;QAClC;aACK;AACL,cAAM,IAAI,MAAM,0BAA0B,SAAS,iBAAiB;;;IAIxE,MAAM,SAAS,YAAoB;AACjC,UAAI,WAAW,WAAW,GAAG;AAC3B,cAAM,QAAQ,IACZ,MAAM,KAAK,uBAAA,MAAI,4BAAA,GAAA,EAAY,OAAM,CAAE,EAAE,IAAI,CAAC,aAAa,SAAQ,CAAE,CAAC;aAE/D;AACL,cAAM,QAAQ,IACZ,WAAW,IAAI,CAAC,cAAa;;AAC3B,cAAI,CAAC,uBAAA,MAAe,4BAAA,GAAA,EAAC,IAAI,SAAS,GAAG;AACnC,kBAAM,IAAI,MACR,0BAA0B,SAAS,iBAAiB;;AAGxD,kBAAO,KAAA,uBAAA,MAAe,4BAAA,GAAA,EAAC,IAAI,SAAS,OAAC,QAAA,OAAA,SAAA,SAAA,GAAA;SACtC,CAAC;;;EAIT,+DAAC;AACJ,CAAC;;;ICnCU,cAAc,EACzB,CAAqC,eAAiB;;AACpD,QAAM,YAAY,EAChB,sBACA,YACA,kBAAkB,EAClB,UAAU;AAEZ,SAAO,KAAA,MAAM,yBAAyB,UAAS;IAAxC,cAAA;;;AAkBL,wCAAkC,IAAA,MAAA,MAAA;AAElC,oCAAsC,IAAA,MAAA,YAAW;AAC/C,YAAI;AACF,gBAAM,EACJ,MACA,QAAO,IAEP,MAAY,KAAK,oBAAoB,iBAAiB,MAAM;AAC9D,iBAAO;YACL,eAAe;YACf,kBAAkB,EAAE,KAAK,QAAQ,OAAO,EAAC;;iBAEpC,GAAG;AACV,eAAK,OAAO,MACV,4BACA,oDAAoD;;AAIxD,eAAO;MACT,CAAC;;IAtCD,MAAM,OAAI;AACR,YAAM,MAAM,KAAI;AAChB,WAAK,QAAQ,UAAU,uBAAA,MAAsB,6BAAA,KAAA,kCAAA,EAAC,KAAK,IAAI,CAAC;;IAG1D,IAAI,SAAM;AACR,UAAI,CAAC,uBAAA,MAAI,mCAAA,GAAA,GAAmB;AAC1B,+BAAA,MAAI,mCAAoB,uBAAA,MAAI,+BAAA,GAAA,EAAJ,KAAA,IAAI,GAAe,GAAA;;AAG7C,aAAO,uBAAA,MAAI,mCAAA,GAAA;;EA6Bd;AAzBG,2BAAA,MAAI,mCAAoB,QAAS,GAAA;KAyBnC;AACJ,CAAC;;;ACzDU,IAAA,YAAY;EACvB;EACA;EACA;;;;ACHF,IAAM,oBAAoB,CAAC,aAAuC;AAChE,SAAO,SAAS,cAAc,UAAU,QAAQ,EAAE;AACpD;AAEA,IAAM,iBAAiB,CAAC,WAA6B;AACnD,SAAO,OAAO,aAAa,QAAQ,MAAM;AAC3C;AAEA,IAAM,gBAAgB,CAAC,WAA6B;AAClD,SAAO,OAAO,aAAa,QAAQ,MAAM;AAC3C;AAEA,IAAM,UAAU,CAAC,QAAY;AAC3B,MAAI,OAAO;AACX,QAAM,SAAS,IAAI,SAAQ;AAE3B,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,UAAM,OAAO,OAAO,WAAW,CAAC;AAChC,YAAQ,QAAQ,KAAK,OAAO;AAC5B,WAAO,OAAO;;AAGhB,SAAO,GAAG,KAAK,IAAI,IAAI,EAAE,SAAQ,CAAE;AACrC;AAEA,IAAM,cAAc,CAAC,OAAc;AACjC,QAAM,YAAY,SAAS,cAAc,QAAQ;AACjD,YAAU,KAAK;AAEf,SAAO;AACT;AAOA,IAAM,eAAe,CAAC,UAAkB,QAAY;AAClD,SAAO,IAAI,QAAQ,CAAC,KAAK,QAAO;AAC9B,UAAM,YAAY,YAAY,QAAQ;AAEtC,cAAU,UAAU,CAAC,UAAS;AAC5B,gBAAU,aAAa,UAAU,OAAO;AACxC,UAAI,KAAK;IACX;AACA,cAAU,SAAS,MAAK;AACtB,gBAAU,aAAa,UAAU,QAAQ;AACzC,UAAI,SAAS;IACf;AAEA,cAAU,MAAM,IAAI,SAAQ;AAE5B,aAAS,KAAK,YAAY,SAAS;EACrC,CAAC;AACH;AAEA,IAAM,uBAAuB,CAAC,mBAAqC;AACjE,MAAI,eAAe,cAAc,GAAG;AAClC,WAAO,QAAQ,QAAQ,cAAc;;AAGvC,MAAI,cAAc,cAAc,GAAG;AACjC,WAAO,QAAQ,OAAM;;AAGvB,SAAO,IAAI,QAAQ,CAAC,KAAK,QAAO;AAC9B,mBAAe,iBAAiB,QAAQ,MAAK;AAC3C,UAAI,cAAc;IACpB,CAAC;AAED,mBAAe,iBAAiB,SAAS,CAAC,UAAS;AACjD,UAAI,KAAK;IACX,CAAC;EACH,CAAC;AACH;AAEa,IAAA,4BAA4B,OACvC,aACA,YACE;AACF,aAAW,cAAc,aAAa;AACpC,UAAM,EAAE,IAAI,IAAG,IAAK;AACpB,UAAM,iBAAiB,kBAAkB,EAAE;AAC3C,QAAI,gBAAgB;AAClB,UAAI;AACF,cAAM,qBAAqB,cAAc;AACzC,eAAO;eACA,GAAG;AACV,gBAAQ,YAAY,IAAI;;WAErB;AACL,UAAI;AACF,cAAM,aAAa,IAAI,GAAG;AAC1B,eAAO;eACA,GAAG;AACV,gBAAQ,YAAY,KAAK;;;;AAI/B,QAAM,IAAI,MAAM,4BAA4B;AAC9C;AAEa,IAAA,kBAAkB,CAC7B,UACA,SACA,SACA,OAAO,OAEP,SAAS,OAAO,CAAC,MAAM,SAAQ;AAC7B,QAAM,UAAU;AAChB,MAAI,CAAC,SAAS;AACZ,WAAO;;AAGT,MAAI;AACJ,MAAI;AACF,UAAM,IAAI,IAAI,OAAO;WACd,GAAG;AACV,UAAM,IAAI,MAAM,gBAAgB,OAAO,EAAE;;AAG3C,QAAM,oBAAoB,IAAI,aAAa;AAE3C,MAAI,CAAC,mBAAmB;AACtB,QAAI,WAAW,QAAQ,OAAO,IAAI,OAAO,IAAI,IAAI;;AAGnD,SAAO;IACL,GAAG;IACH;MACE;MACA,IAAI,UAAU,QACX,WAAW,KAAK,EAAE,EAClB,WAAW,KAAK,GAAG,CAAC,IAAI,QAAQ,GAAG,CAAC;IACxC;;AAEL,GAAG,CAAA,CAAE;;;IC9HM,oBAAoB,EAC/B,CAAqC,eAAiB;AACpD,QAAM,YAAY,EAAQ,WAAW,EAAE,UAAU;AAEjD,SAAO,MAAM,+BAA+B,UAAS;IACnD,IAAI,aAAU;AACZ,aAAO,KAAK,aAAa,cAAc,KAAK;;IAG9C,aACE,SACA,SACA,WAAW,IACX,YAAsB,CAAA,GAAE;AAExB,WAAK,OAAO,MACV,uBAAuB,OAAO,oBAAoB,OAAO,GAAG;AAE9D,aAAO,0BACL,gBACE,CAAC,GAAG,WAAW,KAAK,YAAY,GAAG,SAAS,GAC5C,SACA,SACA,QAAQ,GAEV,CAAC,YAAY,mBAAkB;AAC7B,YAAI,gBAAgB;AAClB,eAAK,OAAO,MACV,sCAAsC,WAAW,GAAG,GAAG;AAEzD;;AAEF,aAAK,OAAO,MACV,4FAA4F,WAAW,GAAG,GAAG;MAEjH,CAAC;;;AAIT,CAAC;;;IC1CU,6BAA6B,CAAC,aAAkC;EAC3E,GAAG,MAAM,KAAK,SAAS,QAAQ,iBAAiB,GAAG,CAAC,EAAE,OACpD,CAAC,KAAK,OACJ,GAAG,UAAU,WAAW,UAAU,IAAI,IAAI,IAAI,GAAG,SAAS,IAAI,KAChE,oBAAI,IAAG,CAAE;;;;ACTN,IAAM,wBAAwB;AAC9B,IAAM,yBACX,oBAAoB,aAAa,QAAQ,qBAAqB;AACzD,IAAM,eAAe;AACrB,IAAM,6BAA6B;;;ICK7B,iBAAiB,EAC5B,CAAqC,eAAiB;;AACpD,QAAM,YAAY,EAChB,aACA,aACA,iBAAiB,EACjB,UAAU;AAEZ,SAAO,KAAA,MAAM,4BAA4B,UAAS;IAA3C,cAAA;;;AAeL,qCAAyB,IAAA,MAAA,MAAA;;IAEzB,IAAI,YAAS;AACX,UAAI,CAAC,uBAAA,MAAI,gCAAA,GAAA,GAAa;AACpB,+BAAA,MAAI,gCAAc,uBAAA,MAAI,gCAAA,KAAA,iCAAA,EAAJ,KAAA,IAAI,GAAgB,GAAA;;AAGxC,aAAO,uBAAA,MAAI,gCAAA,GAAA;;IAiEb,MAAM,wBACJ,0BAAwD;AAExD,YAAM,0BAA0B,MAAM,QAAQ,wBAAwB,IAClE,2BACA,2BAA2B,wBAAwB;AAEvD,aAAO,QAAQ,IACb,wBAAwB,IAAI,CAAC,kBAC3B,uBAAA,MAAI,gCAAA,KAAA,2CAAA,EAAJ,KAAA,MAA6B,aAAa,CAAC,CAC5C;;EAGN;EAlGC,eAAKC,6CAAA;;AACH,UAAM,SAAS,MAAM,KAAK;AAC1B,UAAM,qBAAoB,KAAA,WAAA,QAAA,WAAA,SAAA,SAAA,OAAQ,mBAAe,QAAA,OAAA,SAAA,SAAA,GAAA;AAEjD,QAAI,CAAC,mBAAmB;AACtB,WAAK,OAAO,MAAM,kCAAkC;WAC/C;AACL,WAAK,OAAO,MAAM,0BAA0B,iBAAiB,GAAG;;AAGlE,WAAO;KAaT,8CAAA,eAAAC,6CAA8B,eAAqB;AACjD,UAAM,4BAA4B,CAAC,CAAC,eAAe,IAAI,aAAa;AAEpE,QAAI,2BAA2B;AAC7B,WAAK,OAAO,MACV,sBAAsB,aAAa,uCAAuC;AAE5E,aAAO;;AAGT,UAAM,YAAY,MAAM,KAAK;AAE7B,QAAI,CAAC,UAAU,aAAa,GAAG;AAC7B,WAAK,OAAO,MACV,6BAA6B,aAAa,KAC1C,+CAA+C,aAAa,iCAAiC,OAAO,KAClG,SAAS,EACT,KAAK,IAAI,CAAC,GAAG;AAEjB,aAAO;;AAGT,QAAI;AAEF,aAAO,MAAM,UAAU,aAAa,EAAC;aAC9B,GAAG;AAIV,UAAI,EAAE,SAAS,qBAAqB;AAElC,gBAAQ,MACN,wDAAwD,aAAa,kEAAkE;aAEpI;AACL,cAAM;;;AAIV,WAAO;yCAGT,eAAKC,qCAAA;AACH,QAAI,WAAW,WAAW;AACxB,aAAO,WAAW;;AAGpB,QAAI;AACF,YAAM,KAAK,aACT,4BACA,MAAM,uBAAA,MAAI,gCAAA,KAAA,yCAAA,EAAsB,KAA1B,IAAI,GACV,cACA,CAAC,sBAAsB,CAAC;AAE1B,WAAK,OAAO,MAAM,sBAAsB;AACxC,aAAO,WAAW;aACX,OAAO;AACd,WAAK,OAAO,MAAM,KAAK;AACvB,YAAM,IAAI,MAAM,0BAA0B;;KAiB9C;AACJ,CAAC;;;ACrHH,IAAM,kBAAkB;AACxB,IAAM,UAAU;IAEH,mBAAmB,EAC9B,CAAqC,eAAiB;AACpD,QAAM,YAAY,EAAQ,gBAAgB,EAAE,UAAU;AACtD,SAAO,MAAM,8BAA8B,UAAS;IAOlD,eAAe,MAAI;;AACjB,YAAM,GAAG,IAAI;AAEb,WAAK,aAAa,EAAE,MAAM,OAAM,CAAE,EAAE,YAAY;qBACnC,OAAO;uBACL,eAAe;;;AAI9B,WAAK,YAAY;eACV,OAAO,MAAM,eAAe;;;eAG5B,OAAO;;;;WAIX;AAEH,WAAK,sBACH,KAAA,KAAK,gBAAU,QAAA,OAAA,SAAA,SAAA,GAAE,eAAe,eAAe;AACjD,WAAK,eAAc,KAAA,KAAK,gBAAU,QAAA,OAAA,SAAA,SAAA,GAAE,eAAe,OAAO;;;AAGhE,CAAC;;;ACvCI,IAAM,mBAAmB;;;ACCnB,IAAA,WAAW,CAAC,QAAe;AACtC,QAAM,OAAO,SAAS,cAAc,MAAM;AAC1C,OAAK,OAAO;AACZ,OAAK,MAAM;AACX,WAAS,KAAK,YAAY,IAAI;AAChC;AAEa,IAAA,eAAe,YAAW;AACrC,QAAM,gBAAgB,aAAa,QAAQ,qBAAqB;AAChE,QAAM,gBAAgB,kBAAa,QAAb,kBAAA,SAAA,SAAA,cAAe,QAAQ,WAAW,eAAe;AAGvE,UAAQ,KAAK,qCAAqC,aAAa;AAC/D,QAAM,YAAY,SAAS,cAAc,QAAQ;AACjD,YAAU,MAAM;AAChB,WAAS,KAAK,YAAY,SAAS;AAEnC,QAAM,IAAI,QAAQ,CAAC,SAAS,WAAU;AACpC,cAAU,SAAS;AACnB,cAAU,UAAU;EACtB,CAAC;AAED,MAAI,WAAW,YAAY;AACzB,UAAM,EAAE,cAAc,cAAc,UAAS,IAAK,WAAW;AAE7D,WAAO;MACL,OAAO,aAAa,YAAY;MAChC,MAAM,aAAa,SAAS;;;AAGlC;;;AClBA,IAAM,kBAAkB,CAAC,GAAW,WACjC,SAAS,UACV,UAAU,WACV,UAAU,UACV;IAIW,aAAa,EACxB,CAAqC,eAAiB;;AACpD,QAAM,YAAY,EAChB,8BAA8B,EAAE,OAAO,gBAAe,CAAE,GACxD,sBACA,oBACA,gBACA,aACA,kBACA,wBACA,gBAAgB,EAChB,UAAU;AAEZ,SAAO,KAAA,MAAM,wBAAwB,UAAS;IAAvC,cAAA;;;AACL,mCAA4B,IAAA,MAAA,MAAA;AAoB5B,sCAAqD,IAAA,MAAA,MAAA;AAgIrD,qCAAA,IAAA,MAAiB,MAAK;AACpB,+BAAA,MAAI,4BAAA,KAAA,0BAAA,EAAJ,KAAA,IAAI;AACJ,+BAAA,MAAI,8CAAA,GAAA,EAAJ,KAAA,MAAkC,KAAK,aAAa,OAAO,MAAM,IAAI;MACvE,CAAC;AAQD,mDAA+B,IAAA,MAAA,CAAC,WAAmB;;AACjD,cAAM,SAAS,SAAS,qBAAqB;AAC7C,SAAA,MAAA,MAAA,KAAA,OACG,gBAAU,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,QAAG,8BAA8B,OAAC,QAAA,OAAA,SAAA,SAAA,GAC1C,MAAM,OAAC,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,IAAG,UAAU,MAAM,uBAAA,MAAI,4BAAA,KAAA,0BAAA,EAAW,KAAf,IAAI,CAAa;MAClD,CAAC;;IAlKD,IAAI,QAAK;;AACP,YAAM,QAAQ,KAAK,aAAa,OAAO;AAEvC,UAAI,UAAU,MAAM;AAClB,cAAM,WACJ,OAAO,gBACP,MAAA,KAAA,OAAO,gBAAU,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,QAAG,8BAA8B,OAAC,QAAA,OAAA,SAAA,SAAA,GAAE;AAEvD,eAAO,WAAW,SAAS;;AAG7B,aAAO,SAAS;;IAGlB,IAAI,UAAO;AACT,aAAO,KAAK,aAAa,UAAU,KAAK;;IAqJ1C,MAAM,OAAI;;AACR,cAAM,KAAA,MAAM,UAAI,QAAA,OAAA,SAAA,SAAA,GAAA,KAAA,IAAA;AAEhB,6BAAA,MAAI,gCAAA,GAAA,EAAJ,KAAA,IAAI;AACJ,YAAM,QAAQ,IAAI;QAChB,uBAAA,MAAI,4BAAA,KAAA,gCAAA,EAAJ,KAAA,IAAI;QACJ,uBAAA,MAAI,4BAAA,KAAA,oCAAA,EAAJ,KAAA,IAAI;MACL,CAAA;AAED,WAAK,kBAAkB,CAAC,OAAO,GAAG,uBAAA,MAAmB,gCAAA,GAAA,CAAA;AAErD,WAAK,kBAAkB,CAAC,UAAU,GAAG,MAAK;AACxC,+BAAA,MAAI,iCAAmB,MAAI,GAAA;AAC3B,+BAAA,MAAI,4BAAA,KAAA,0BAAA,EAAJ,KAAA,IAAI;AACJ,+BAAA,MAAI,4BAAA,KAAA,gCAAA,EAAJ,KAAA,IAAI;AACJ,+BAAA,MAAI,4BAAA,KAAA,oCAAA,EAAJ,KAAA,IAAI;MACN,CAAC;;EAEJ,0WAlKC,eAAKC,+BAAA;AACH,QAAI;AACF,YAAM,EAAE,MAAM,aAAY,IAAK,MAAM,KAAK,oBACxC,GAAG,KAAK,OAAO,SACf,MAAM;AAKR,UAAI,MAAwC;AAC1C,YAAI,iBAAA,QAAA,iBAAA,SAAA,SAAA,aAAc,QAAQ,qBAAqB,GAAG;AAChD,cAAI;AACF,iBAAK,OAAO,KACV,0IAA0I;AAE5I,kBAAM,WAAW,MAAM,aAAY;AAEnC,gBAAI,UAAU;AACZ,2BAAa,MAAM,aAAU,OAAA,OAAA,OAAA,OAAA,CAAA,GACxB,aAAa,MAAM,UAAU,GAC7B,SAAS,MAAM,UAAU;AAE9B,2BAAa,KAAK,aAAU,OAAA,OAAA,OAAA,OAAA,CAAA,GACvB,aAAa,KAAK,UAAU,GAC5B,SAAS,KAAK,UAAU;AAG7B,mBAAK,OAAO,KAAK,+BAA+B;AAGhD,sBAAQ,IACN,oIACA,2DAA2D;;mBAGxD,GAAG;AACV,iBAAK,OAAO,MAAM,yCAAyC,CAAC;;;;AAKlE,aAAO;aACA,GAAG;AACV,WAAK,OAAO,MACV,2BACA,oDAAoD;;AAIxD,WAAO;;AAIP,QAAI,CAAC,uBAAA,MAAI,iCAAA,GAAA,GAAkB;AACzB,6BAAA,MAAI,iCAAmB,uBAAA,MAAI,4BAAA,KAAA,2BAAA,EAAJ,KAAA,IAAI,GAAc,GAAA;AACzC,6BAAA,MAAI,iCAAA,GAAA,EAAiB,KAAK,CAAC,UACzB,KAAK,OAAO,MAAM,iBAAiB,KAAK,CAAC;;AAK7C,WAAO,uBAAA,MAAI,iCAAA,GAAA;wCAGb,eAAKC,oCAAA;;AACH,UAAM,QAAQ,MAAM,uBAAA,MAAI,4BAAA,KAAA,kCAAA;AACxB,QAAI,CAAC;AAAO;AAEZ,QAAI,CAAC,uBAAA,MAAI,8BAAA,GAAA,GAAe;AACtB,6BAAA,MAAI,8BAAgB,KAAK,YAAY,EAAE,GAAC,GAAA;;AAG1C,2BAAA,MAAiB,8BAAA,GAAA,EAAC,eACf,KAAA,UAAK,QAAL,UAAA,SAAA,SAAA,MAAO,WAAK,QAAA,OAAA,SAAA,SAAA,GAAE,YAAW,SAAO,KAAA,UAAK,QAAL,UAAK,SAAA,SAAL,MAAO,UAAM,QAAA,OAAA,SAAA,SAAA,GAAA,YAAW,GAAG;4CAIhE,eAAKC,wCAAA;;AACH,UAAM,QAAQ,MAAM,uBAAA,MAAI,4BAAA,KAAA,kCAAA;AACxB,QAAI,CAAC;AAAO;AAEZ,UAAM,YAAY,MAAM,KAAK;AAC7B,QAAI,cAAS,QAAT,cAAS,SAAA,SAAT,UAAW,wBAAwB;AACrC,gBAAU,uBAAuB,SAAS;QACxC,QAAO,KAAA,UAAA,QAAA,UAAK,SAAA,SAAL,MAAO,WAAK,QAAA,OAAA,SAAA,SAAA,GAAE;QACrB,OAAM,KAAA,UAAA,QAAA,UAAK,SAAA,SAAL,MAAO,UAAI,QAAA,OAAA,SAAA,SAAA,GAAE;;;uCAKzB,eAAKC,mCAAA;;AACH,UAAM,EAAE,cAAa,IAAM,MAAM,KAAK,UAAW,CAAA;AAEjD,UAAM,aAAY,KAAA,kBAAa,QAAb,kBAAa,SAAA,SAAb,cAAe,YAAS,QAAA,OAAA,SAAA,SAAA,GAAA,KAAK,OAAO;AACtD,UAAM,YAAY,kBAAa,QAAb,kBAAA,SAAA,SAAA,cAAe;AAEjC,UAAM,SAAS,aAAa;AAE5B,UAAM,SACJ,KAAA,WAAM,QAAN,WAAM,SAAA,SAAN,OAAS,KAAK,KAAK,OAAC,QAAA,OAAA,SAAA,SAAA,GAAE;AAExB,WAAO;kCAGT,eAAKC,8BAAA;AACH,UAAM,QAAQ,MAAM,uBAAA,MAAoB,4BAAA,KAAA,+BAAA,EAAA,KAApB,IAAI;AACxB,QAAI,OAAO;AACT,aAAO,OAAO,KAAK,EAAE,QAAQ,CAAC,SAAQ;AACpC,YAAI,KAAK,KAAK;AACZ,eAAK,OAAO,MAAM,0BAA0B,KAAK,GAAG,GAAG;AACvD,mBAAS,KAAK,GAAG;;MAErB,CAAC;WACI;AACL,WAAK,OAAO,MAAM,kBAAkB;;mCAIxC,eAAKC,+BAAA;AACH,SAAK,YAAY,aAAa,cAAc,KAAK,KAAK;AACtD,UAAM,YAAY,MAAM,KAAK;AAC7B,QAAI,cAAS,QAAT,cAAS,SAAA,SAAT,UAAW,wBAAwB;AACrC,gBAAU,uBAAuB,mBAAmB,KAAK;;;AAU3D,2BAAA,MAAI,4BAAA,KAAA,0BAAA,EAAJ,KAAA,IAAI;AACJ,2BAAA,MAAI,4BAAA,KAAA,2BAAA,EAAJ,KAAA,IAAI;KA6BN;AACJ,CAAC;",
  "names": ["_ValidateAttributesMixinClass_handleError", "_DescopeUiMixinClass_getComponentsVersion", "_DescopeUiMixinClass_loadDescopeUiComponent", "_DescopeUiMixinClass_getDescopeUi", "_ThemeMixinClass_fetchTheme", "_ThemeMixinClass_loadGlobalStyle", "_ThemeMixinClass_loadComponentsStyle", "_ThemeMixinClass_getFontsConfig", "_ThemeMixinClass_loadFonts", "_ThemeMixinClass_applyTheme"]
}
