import "./chunk-GQLGK6ZR.js";
import {
  cookieConfigMixin,
  createAsyncThunk,
  createSelector,
  createStateManagementMixin,
  debuggerMixin,
  k,
  m,
  modalMixin,
  u
} from "./chunk-XU36NMJB.js";
import {
  baseUrlMixin,
  createValidateAttributesMixin,
  descopeUiMixin,
  initElementMixin,
  projectIdMixin,
  staticResourcesMixin,
  themeMixin
} from "./chunk-JGGIE4AD.js";
import {
  Ie
} from "./chunk-5SHIU7TC.js";
import "./chunk-K43J3HLY.js";
import {
  initLifecycleMixin,
  loggerMixin,
  observeAttributesMixin
} from "./chunk-PGJ4DCSZ.js";
import {
  __awaiter,
  __classPrivateFieldGet,
  __classPrivateFieldSet,
  c,
  h,
  n,
  o,
  r
} from "./chunk-C4K4ZQL2.js";
import "./chunk-KEXKKQVW.js";

// node_modules/@descope/tenant-profile-widget/dist/esm/index.js
var W = (t = {}) => {
  const e = n("<descope-wc></descope-wc>");
  return Object.entries(t).forEach(([t2, i]) => {
    e.content.querySelector("descope-wc").setAttribute(c(t2), i);
  }), e;
};
function E(t) {
  return new URLSearchParams(window.location.search).get(t);
}
var O = (t) => (...e) => (i) => {
  i.addCase(t.pending, (t2, i2) => {
    e.forEach(({ onPending: e2 }) => {
      null == e2 || e2(t2, i2);
    });
  }), i.addCase(t.fulfilled, (t2, i2) => {
    e.forEach(({ onFulfilled: e2 }) => {
      null == e2 || e2(t2, i2);
    });
  }), i.addCase(t.rejected, (t2, i2) => {
    e.forEach(({ onRejected: e2 }) => {
      null == e2 || e2(t2, i2);
    });
  });
};
var D = (t) => ({ onFulfilled: (e) => {
  t(e).loading = false;
}, onPending: (e) => {
  t(e).loading = true, t(e).error = null;
}, onRejected: (e, i) => {
  t(e).loading = false, t(e).error = i.error;
} });
var j = createAsyncThunk("users/me", (t, { extra: { api: e } }) => e.user.me());
var T = O(j)({ onFulfilled: (t, e) => {
  t.me.data = e.payload;
} }, D((t) => t.me));
var M = { action: j, reducer: T };
var A = createAsyncThunk("tenant/details", (t, { extra: { api: e } }) => e.tenant.details());
var N = O(A)({ onFulfilled: (t, e) => {
  t.tenant.data = e.payload;
} }, D((t) => t.tenant));
var F = { action: A, reducer: N };
var L = createAsyncThunk("tenant/adminLinkSso", (t, { extra: { api: e } }) => e.tenant.adminLinkSso());
var q = { action: L, reducer: O(L)({ onFulfilled: (t, e) => {
  var i;
  t.tenantAdminLinkSSO.data = (null === (i = e.payload) || void 0 === i ? void 0 : i.adminSSOConfigurationLink) || "";
} }, D((t) => t.tenantAdminLinkSSO)) };
var P = { me: { loading: false, error: null, data: {} }, tenant: { loading: false, error: null, data: {} }, tenantAdminLinkSSO: { loading: false, error: null, data: "" } };
var $ = { me: "/v1/auth/me" };
var B = { details: "/v1/mgmt/tenant", adminLinkSso: "/v1/mgmt/tenant/adminlinks/sso/authenticated" };
var J = (e) => __awaiter(void 0, void 0, void 0, function* () {
  const t = yield e.text(), i = JSON.parse(t);
  if (!e.ok) {
    const t2 = `${i.errorDescription}${i.errorMessage ? `: ${i.errorMessage}` : ""}`;
    throw Error(t2 || `${e.status} ${e.statusText}`);
  }
  e.json = () => Promise.resolve(i), e.text = () => Promise.resolve(t);
});
var H = () => __awaiter(void 0, void 0, void 0, function* () {
  return new Promise((t) => {
    t({ loginIds: ["user@company.com"], externalIds: ["user@company.com"], userId: "user-1", name: "Test User", email: "user@company.com", roleNames: ["Role"], phone: "+1-202-555-010", verifiedEmail: true, verifiedPhone: true, userTenants: [], status: "enabled", editable: true, createdTime: (/* @__PURE__ */ new Date()).getTime(), customAttributes: {}, familyName: "", givenName: "", middleName: "", picture: void 0, password: true, SAML: false, test: false, TOTP: false, webauthn: true });
  });
});
var z = () => __awaiter(void 0, void 0, void 0, function* () {
  return new Promise((t) => {
    t({ tenantId: "tenant-1", roleNames: ["admin"], id: "tenant-1", name: "Test Tenant", selfProvisioningDomains: ["example1.com", "example2.com"], customAttributes: {}, authType: "password", domains: [], createdTime: Date.now(), disabled: false, enforceSSO: true });
  });
});
var X = () => __awaiter(void 0, void 0, void 0, function* () {
  return new Promise((t) => {
    t({ adminSSOConfigurationLink: "_blank" });
  });
});
var Y = ({ httpClient: e, tenantId: i, mock: s }) => {
  const n2 = encodeURIComponent(i || ""), o2 = `?tenant=${n2}&id=${n2}`;
  return { details: () => __awaiter(void 0, void 0, void 0, function* () {
    if (s) return z();
    if (!i) throw new Error("tenantId is not defined");
    const t = `${B.details}${o2}`, n3 = yield e.get(t);
    yield J(n3);
    return yield n3.json();
  }), adminLinkSso: () => __awaiter(void 0, void 0, void 0, function* () {
    if (s) return X();
    if (!i) throw new Error("tenantId is not defined");
    const t = yield e.post(`${B.adminLinkSso}?tenant=${n2}`, { tenantId: n2 }, { headers: { "Content-Type": "application/json" } });
    yield J(t);
    return yield t.json();
  }) };
};
var _ = ({ httpClient: e, mock: i }) => ({ me: () => __awaiter(void 0, void 0, void 0, function* () {
  if (i) return H();
  const t = yield e.get($.me);
  return yield J(t), t.json();
}) });
var G = h((s) => {
  var n2, o2, a, f;
  const m2 = r(projectIdMixin, observeAttributesMixin, loggerMixin, baseUrlMixin, cookieConfigMixin)(s);
  return f = class extends m2 {
    constructor() {
      super(...arguments), n2.add(this), o2.set(this, void 0);
    }
    get widgetId() {
      return this.getAttribute("widget-id");
    }
    get tenantId() {
      return this.getAttribute("tenant");
    }
    get mock() {
      return this.getAttribute("mock");
    }
    get api() {
      return __classPrivateFieldGet(this, o2, "f") || __classPrivateFieldGet(this, n2, "m", a).call(this), __classPrivateFieldGet(this, o2, "f");
    }
    init() {
      const i = Object.create(null, { init: { get: () => super.init } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i.init) || void 0 === t ? void 0 : t.call(this), this.observeAttributes(["project-id", "base-url", "tenant", "mock"], () => {
          __classPrivateFieldGet(this, o2, "f") && __classPrivateFieldGet(this, n2, "m", a).call(this);
        });
      });
    }
  }, o2 = /* @__PURE__ */ new WeakMap(), n2 = /* @__PURE__ */ new WeakSet(), a = function() {
    this.logger.debug("creating an sdk instance"), __classPrivateFieldSet(this, o2, ((t, e, i, s2) => {
      const n3 = Ie(Object.assign(Object.assign({}, t), { persistTokens: true, baseHeaders: { "x-descope-widget-type": "tenant-profile-widget", "x-descope-widget-id": s2, "x-descope-widget-version": "0.2.11" } }));
      return { user: _({ httpClient: n3.httpClient, mock: i }), tenant: Y({ httpClient: n3.httpClient, tenantId: e, mock: i }) };
    })({ projectId: this.projectId, baseUrl: this.baseUrl, refreshCookieName: this.refreshCookieName }, this.tenantId, "true" === this.mock, this.widgetId), "f");
  }, f;
});
var V = h((t) => {
  const e = r(createStateManagementMixin({ name: "widget", initialState: P, reducers: {}, extraReducers: (t2) => {
    M.reducer(t2), F.reducer(t2), q.reducer(t2);
  }, asyncActions: { getMe: M.action, getTenant: F.action, getTenantAdminLinkSSO: q.action } }), initLifecycleMixin, loggerMixin, G)(t);
  return class extends e {
    constructor(...t2) {
      super(...t2), this.state = P, this.subscribe((t3) => {
        this.logger.debug("State update:", t3), this.state = t3;
      });
    }
  };
});
var K = "widget-flow";
var Q = h((i) => {
  var s, n2, o2;
  return o2 = class extends r(initLifecycleMixin, modalMixin, V, cookieConfigMixin, loggerMixin, themeMixin)(i) {
    constructor() {
      super(...arguments), s.add(this);
    }
    init() {
      const i2 = Object.create(null, { init: { get: () => super.init } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i2.init) || void 0 === t ? void 0 : t.call(this);
        const o3 = E(K);
        o3 && (!function(t2) {
          if (window.history.replaceState && E(t2)) {
            const e = new URL(window.location.href), i3 = new URLSearchParams(e.search);
            i3.delete(t2), e.search = i3.toString(), window.history.replaceState({}, "", e.toString());
          }
        }(K), __classPrivateFieldGet(this, s, "m", n2).call(this, o3));
      });
    }
  }, s = /* @__PURE__ */ new WeakSet(), n2 = function(t) {
    const e = this.createModal({ "data-id": "redirect-flow" });
    e.setContent(W({ projectId: this.projectId, flowId: t, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme }));
    new u(() => {
      var t2;
      return null === (t2 = e.ele) || void 0 === t2 ? void 0 : t2.querySelector("descope-wc");
    }, { logger: this.logger }).onSuccess(() => {
      e.close(), this.actions.getMe(), this.actions.getTenant(), this.actions.getTenantAdminLinkSSO();
    }), e.afterClose = () => {
      e.remove();
    }, e.open();
  }, o2;
});
var Z = (t) => t.tenant.data;
var tt = (t) => t.tenantAdminLinkSSO.data;
var et = createSelector(Z, (t) => t.customAttributes || {});
var it = createSelector(Z, (t) => t.name || "");
var st = createSelector(Z, (t) => t.selfProvisioningDomains || []);
var nt = createSelector(Z, (t) => t.enforceSSOExclusions || []);
var ot = createSelector(Z, (t) => t.enforceSSO || false);
var rt = h((t) => class extends r(themeMixin, observeAttributesMixin)(t) {
  syncFlowTheme(t2) {
    t2.theme = this.theme, this.observeAttributes(["theme"], () => {
      t2.theme = this.theme;
    });
  }
});
var at = h((e) => {
  const i = r(staticResourcesMixin, createValidateAttributesMixin({ "widget-id": createValidateAttributesMixin.missingAttrValidator }))(e);
  return class extends i {
    get widgetId() {
      return this.getAttribute("widget-id");
    }
    fetchWidgetPage(e2) {
      return __awaiter(this, void 0, void 0, function* () {
        return (yield this.fetchStaticResource(`tenant-profile-widget/${this.widgetId}/${e2}`, "text")).body;
      });
    }
  };
});
var dt = h((i) => {
  var n2, o2, a;
  return a = class extends r(loggerMixin, initLifecycleMixin, descopeUiMixin, initElementMixin, at, V)(i) {
    constructor() {
      super(...arguments), n2.add(this);
    }
    onWidgetRootReady() {
      return __awaiter(this, void 0, void 0, function* () {
      });
    }
    init() {
      const i2 = Object.create(null, { init: { get: () => super.init } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i2.init) || void 0 === t ? void 0 : t.call(this);
        try {
          yield Promise.all([this.actions.getMe(), this.actions.getTenant(), this.actions.getTenantAdminLinkSSO()]);
        } catch (t2) {
        }
        const s = this.state.me.error || ((t2) => t2.tenant.error)(this.state) || ((t2) => t2.tenantAdminLinkSSO.error)(this.state);
        if (s) {
          this.contentRootElement.innerHTML = "";
          const t2 = "object" == typeof s && null !== s && "message" in s ? s.message : String(s) || "An error occurred";
          this.contentRootElement.append(function({ mainMessage: t3 = "An error occurred" }) {
            const e = document.createElement("div");
            e.setAttribute("data-id", "widget-error"), e.style.display = "flex", e.style.flexDirection = "column", e.style.alignItems = "center", e.style.justifyContent = "center", e.style.padding = "72px 36px", e.style.background = "#fff", e.style.borderRadius = "12px", e.style.boxShadow = "0 2px 8px rgba(0,0,0,0.03)", e.style.margin = "32px auto", e.style.maxWidth = "400px";
            const i3 = document.createElement("div");
            i3.innerHTML = '\n    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <circle cx="20" cy="20" r="18" stroke="#FF3B3B" stroke-width="3" fill="#fff"/>\n      <text x="20" y="27" text-anchor="middle" font-size="24" font-family="Arial, sans-serif" fill="#FF3B3B">!</text>\n    </svg>\n  ', i3.style.marginBottom = "12px", e.appendChild(i3);
            const s2 = document.createElement("div");
            return s2.textContent = t3, s2.style.fontWeight = "bold", s2.style.fontSize = "20px", s2.style.color = "#222", s2.style.textAlign = "center", s2.style.marginTop = "8px", e.appendChild(s2), e;
          }({ mainMessage: t2 }));
        } else yield __classPrivateFieldGet(this, n2, "m", o2).call(this), this.onWidgetRootReady();
      });
    }
  }, n2 = /* @__PURE__ */ new WeakSet(), o2 = function() {
    return __awaiter(this, void 0, void 0, function* () {
      const t = n(yield this.fetchWidgetPage("root.html"));
      yield this.loadDescopeUiComponents(t), this.contentRootElement.append(t.content.cloneNode(true));
    });
  }, a;
});
var lt = h((i) => {
  var s, n2, o2, d;
  return d = class extends r(rt, V, loggerMixin, dt, cookieConfigMixin, modalMixin)(i) {
    constructor() {
      super(...arguments), s.add(this), o2.set(this, o((t) => {
        this.tenantAdminLinkSSODriver.href = t;
      }));
    }
    onWidgetRootReady() {
      const i2 = Object.create(null, { onWidgetRootReady: { get: () => super.onWidgetRootReady } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i2.onWidgetRootReady) || void 0 === t ? void 0 : t.call(this), __classPrivateFieldGet(this, s, "m", n2).call(this), __classPrivateFieldGet(this, o2, "f").call(this, tt(this.state)), this.subscribe(__classPrivateFieldGet(this, o2, "f").bind(this), tt);
      });
    }
  }, o2 = /* @__PURE__ */ new WeakMap(), s = /* @__PURE__ */ new WeakSet(), n2 = function() {
    this.tenantAdminLinkSSODriver = new m(() => {
      var t;
      return null === (t = this.shadowRoot) || void 0 === t ? void 0 : t.querySelector('descope-link[data-id="tenant-admin-link-sso"]');
    }, { logger: this.logger });
  }, d;
});
var ht;
!function(t) {
  t.TEXT = "text", t.NUMBER = "number", t.BOOLEAN = "boolean", t.SINGLE_SELECT = "singleSelect", t.ARRAY = "array", t.DATE = "date";
}(ht || (ht = {}));
var ct = h((i) => {
  var s, n2, o2, d, l, c2, f, m2, g, p, w;
  return w = class extends r(rt, V, loggerMixin, dt, cookieConfigMixin, modalMixin)(i) {
    constructor() {
      super(...arguments), s.add(this), n2.set(this, {}), o2.set(this, {}), d.set(this, {}), l.set(this, {}), m2.set(this, o((t) => {
        var i2;
        const n3 = null === (i2 = this.shadowRoot) || void 0 === i2 ? void 0 : i2.querySelectorAll('descope-user-attribute[data-id^="customAttributes."]');
        Array.from(n3).forEach((i3) => {
          const n4 = i3.getAttribute("data-id").replace("customAttributes.", ""), o3 = i3.getAttribute("data-type") || ht.TEXT, r2 = t[n4], a = new k(i3, { logger: this.logger });
          a.value = ((t2, e) => t2 === ht.DATE && e ? new Date(e).toLocaleString() : t2 === ht.BOOLEAN && void 0 !== e ? e ? "True" : "False" : (e || "").toString())(o3, r2), __classPrivateFieldGet(this, s, "m", g).call(this, i3, n4, a, o3, n4, r2), __classPrivateFieldGet(this, s, "m", p).call(this, i3, n4, a);
        });
      }));
    }
    onWidgetRootReady() {
      const i2 = Object.create(null, { onWidgetRootReady: { get: () => super.onWidgetRootReady } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i2.onWidgetRootReady) || void 0 === t ? void 0 : t.call(this), __classPrivateFieldGet(this, m2, "f").call(this, et(this.state)), this.subscribe(__classPrivateFieldGet(this, m2, "f").bind(this), et);
      });
    }
  }, n2 = /* @__PURE__ */ new WeakMap(), o2 = /* @__PURE__ */ new WeakMap(), d = /* @__PURE__ */ new WeakMap(), l = /* @__PURE__ */ new WeakMap(), m2 = /* @__PURE__ */ new WeakMap(), s = /* @__PURE__ */ new WeakSet(), c2 = function(t, i2, s2, r2) {
    var a, d2;
    const l2 = i2 === ht.ARRAY ? (r2 || []).join(",") : r2;
    null === (a = __classPrivateFieldGet(this, n2, "f")[t]) || void 0 === a || a.setContent(W({ projectId: this.projectId, flowId: t, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme, form: JSON.stringify({ customAttributes: { [s2]: l2 } }) })), null === (d2 = __classPrivateFieldGet(this, o2, "f")[t]) || void 0 === d2 || d2.onSuccess(() => {
      var i3;
      null === (i3 = __classPrivateFieldGet(this, n2, "f")[t]) || void 0 === i3 || i3.close(), this.actions.getTenant();
    });
  }, f = function(t) {
    var i2, s2;
    null === (i2 = __classPrivateFieldGet(this, d, "f")[t]) || void 0 === i2 || i2.setContent(W({ projectId: this.projectId, flowId: t, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme })), null === (s2 = __classPrivateFieldGet(this, l, "f")[t]) || void 0 === s2 || s2.onSuccess(() => {
      var i3;
      null === (i3 = __classPrivateFieldGet(this, d, "f")[t]) || void 0 === i3 || i3.close(), this.actions.getTenant();
    });
  }, g = function(t, i2, r2, a, d2, l2) {
    const h2 = t.getAttribute("edit-flow-id");
    h2 && (__classPrivateFieldGet(this, n2, "f")[h2] = this.createModal({ "data-id": `edit-${i2}` }), __classPrivateFieldGet(this, o2, "f")[h2] = new u(() => {
      var t2, i3;
      return null === (i3 = null === (t2 = __classPrivateFieldGet(this, n2, "f")[h2]) || void 0 === t2 ? void 0 : t2.ele) || void 0 === i3 ? void 0 : i3.querySelector("descope-wc");
    }, { logger: this.logger }), __classPrivateFieldGet(this, n2, "f")[h2].afterClose = __classPrivateFieldGet(this, s, "m", c2).bind(this, h2), r2.onEditClick(() => {
      var t2, i3;
      null === (i3 = null === (t2 = __classPrivateFieldGet(this, n2, "f")) || void 0 === t2 ? void 0 : t2[h2]) || void 0 === i3 || i3.open();
    }), __classPrivateFieldGet(this, s, "m", c2).call(this, h2, a, d2, l2), this.syncFlowTheme(__classPrivateFieldGet(this, o2, "f")[h2]));
  }, p = function(t, i2, n3) {
    const o3 = t.getAttribute("delete-flow-id");
    o3 && (__classPrivateFieldGet(this, d, "f")[o3] = this.createModal({ "data-id": `delete-${i2}` }), __classPrivateFieldGet(this, l, "f")[o3] = new u(() => {
      var t2, i3;
      return null === (i3 = null === (t2 = __classPrivateFieldGet(this, d, "f")[o3]) || void 0 === t2 ? void 0 : t2.ele) || void 0 === i3 ? void 0 : i3.querySelector("descope-wc");
    }, { logger: this.logger }), __classPrivateFieldGet(this, d, "f")[o3].afterClose = __classPrivateFieldGet(this, s, "m", f).bind(this, o3), n3.onDeleteClick(() => {
      var t2, i3;
      null === (i3 = null === (t2 = __classPrivateFieldGet(this, d, "f")) || void 0 === t2 ? void 0 : t2[o3]) || void 0 === i3 || i3.open();
    }), __classPrivateFieldGet(this, s, "m", f).call(this, o3), this.syncFlowTheme(__classPrivateFieldGet(this, l, "f")[o3]));
  }, w;
});
var ut = h((s) => {
  var n2, o2, d, l, c2, f, m2, g, p, w, b, S;
  return S = class extends r(rt, V, loggerMixin, dt, cookieConfigMixin, modalMixin)(s) {
    constructor() {
      super(...arguments), n2.add(this), o2.set(this, void 0), d.set(this, void 0), l.set(this, void 0), c2.set(this, void 0), b.set(this, o((t) => {
        this.tenantEmailDomainsDriver.value = t;
      }));
    }
    onWidgetRootReady() {
      const i = Object.create(null, { onWidgetRootReady: { get: () => super.onWidgetRootReady } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i.onWidgetRootReady) || void 0 === t ? void 0 : t.call(this), __classPrivateFieldGet(this, n2, "m", w).call(this), __classPrivateFieldGet(this, n2, "m", f).call(this), __classPrivateFieldGet(this, n2, "m", g).call(this), __classPrivateFieldGet(this, b, "f").call(this, st(this.state)), this.subscribe(__classPrivateFieldGet(this, b, "f").bind(this), st);
      });
    }
  }, o2 = /* @__PURE__ */ new WeakMap(), d = /* @__PURE__ */ new WeakMap(), l = /* @__PURE__ */ new WeakMap(), c2 = /* @__PURE__ */ new WeakMap(), b = /* @__PURE__ */ new WeakMap(), n2 = /* @__PURE__ */ new WeakSet(), f = function() {
    this.tenantEmailDomainsDriver.editFlowId && (__classPrivateFieldSet(this, o2, this.createModal({ "data-id": "edit-tenant-email-domains" }), "f"), __classPrivateFieldSet(this, d, new u(() => {
      var t;
      return null === (t = __classPrivateFieldGet(this, o2, "f").ele) || void 0 === t ? void 0 : t.querySelector("descope-wc");
    }, { logger: this.logger }), "f"), __classPrivateFieldGet(this, o2, "f").afterClose = __classPrivateFieldGet(this, n2, "m", m2).bind(this), __classPrivateFieldGet(this, n2, "m", m2).call(this), this.syncFlowTheme(__classPrivateFieldGet(this, d, "f")));
  }, m2 = function() {
    __classPrivateFieldGet(this, o2, "f").setContent(W({ projectId: this.projectId, flowId: this.tenantEmailDomainsDriver.editFlowId, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme, form: JSON.stringify({ tenantEmailDomains: st(this.state) }) })), __classPrivateFieldGet(this, d, "f").onSuccess(() => {
      __classPrivateFieldGet(this, o2, "f").close(), this.actions.getTenant();
    });
  }, g = function() {
    this.tenantEmailDomainsDriver.deleteFlowId && (__classPrivateFieldSet(this, l, this.createModal({ "data-id": "delete-tenant-email-domains" }), "f"), __classPrivateFieldSet(this, c2, new u(() => {
      var t;
      return null === (t = __classPrivateFieldGet(this, l, "f").ele) || void 0 === t ? void 0 : t.querySelector("descope-wc");
    }, { logger: this.logger }), "f"), __classPrivateFieldGet(this, l, "f").afterClose = __classPrivateFieldGet(this, n2, "m", p).bind(this), __classPrivateFieldGet(this, n2, "m", p).call(this), this.syncFlowTheme(__classPrivateFieldGet(this, c2, "f")));
  }, p = function() {
    __classPrivateFieldGet(this, l, "f").setContent(W({ projectId: this.projectId, flowId: this.tenantEmailDomainsDriver.deleteFlowId, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme })), __classPrivateFieldGet(this, c2, "f").onSuccess(() => {
      __classPrivateFieldGet(this, l, "f").close(), this.actions.getTenant();
    });
  }, w = function() {
    this.tenantEmailDomainsDriver = new k(() => {
      var t;
      return null === (t = this.shadowRoot) || void 0 === t ? void 0 : t.querySelector('descope-user-attribute[data-id="tenant-email-domains-edit"]');
    }, { logger: this.logger }), this.tenantEmailDomainsDriver.onEditClick(() => {
      var t;
      null === (t = __classPrivateFieldGet(this, o2, "f")) || void 0 === t || t.open();
    }), this.tenantEmailDomainsDriver.onDeleteClick(() => {
      var t;
      null === (t = __classPrivateFieldGet(this, l, "f")) || void 0 === t || t.open();
    });
  }, S;
});
var ft = h((s) => {
  var n2, o2, d, l, c2, f, m2, g, p, w, b, S;
  return S = class extends r(rt, V, loggerMixin, dt, cookieConfigMixin, modalMixin)(s) {
    constructor() {
      super(...arguments), n2.add(this), o2.set(this, void 0), d.set(this, void 0), l.set(this, void 0), c2.set(this, void 0), b.set(this, o((t) => {
        this.tenantSSOExclusionsDriver.value = t;
      }));
    }
    onWidgetRootReady() {
      const i = Object.create(null, { onWidgetRootReady: { get: () => super.onWidgetRootReady } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i.onWidgetRootReady) || void 0 === t ? void 0 : t.call(this), __classPrivateFieldGet(this, n2, "m", w).call(this), __classPrivateFieldGet(this, n2, "m", f).call(this), __classPrivateFieldGet(this, n2, "m", g).call(this), __classPrivateFieldGet(this, b, "f").call(this, nt(this.state)), this.subscribe(__classPrivateFieldGet(this, b, "f").bind(this), nt);
      });
    }
  }, o2 = /* @__PURE__ */ new WeakMap(), d = /* @__PURE__ */ new WeakMap(), l = /* @__PURE__ */ new WeakMap(), c2 = /* @__PURE__ */ new WeakMap(), b = /* @__PURE__ */ new WeakMap(), n2 = /* @__PURE__ */ new WeakSet(), f = function() {
    this.tenantSSOExclusionsDriver.editFlowId && (__classPrivateFieldSet(this, o2, this.createModal({ "data-id": "edit-tenant-sso-exclusions" }), "f"), __classPrivateFieldSet(this, d, new u(() => {
      var t;
      return null === (t = __classPrivateFieldGet(this, o2, "f").ele) || void 0 === t ? void 0 : t.querySelector("descope-wc");
    }, { logger: this.logger }), "f"), __classPrivateFieldGet(this, o2, "f").afterClose = __classPrivateFieldGet(this, n2, "m", m2).bind(this), __classPrivateFieldGet(this, n2, "m", m2).call(this), this.syncFlowTheme(__classPrivateFieldGet(this, d, "f")));
  }, m2 = function() {
    __classPrivateFieldGet(this, o2, "f").setContent(W({ projectId: this.projectId, flowId: this.tenantSSOExclusionsDriver.editFlowId, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme, form: JSON.stringify({ enforceSSOExclusions: nt(this.state) }) })), __classPrivateFieldGet(this, d, "f").onSuccess(() => {
      __classPrivateFieldGet(this, o2, "f").close(), this.actions.getTenant();
    });
  }, g = function() {
    this.tenantSSOExclusionsDriver.deleteFlowId && (__classPrivateFieldSet(this, l, this.createModal({ "data-id": "delete-tenant-sso-exclusions" }), "f"), __classPrivateFieldSet(this, c2, new u(() => {
      var t;
      return null === (t = __classPrivateFieldGet(this, l, "f").ele) || void 0 === t ? void 0 : t.querySelector("descope-wc");
    }, { logger: this.logger }), "f"), __classPrivateFieldGet(this, l, "f").afterClose = __classPrivateFieldGet(this, n2, "m", p).bind(this), __classPrivateFieldGet(this, n2, "m", p).call(this), this.syncFlowTheme(__classPrivateFieldGet(this, c2, "f")));
  }, p = function() {
    __classPrivateFieldGet(this, l, "f").setContent(W({ projectId: this.projectId, flowId: this.tenantSSOExclusionsDriver.deleteFlowId, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme })), __classPrivateFieldGet(this, c2, "f").onSuccess(() => {
      __classPrivateFieldGet(this, l, "f").close(), this.actions.getTenant();
    });
  }, w = function() {
    this.tenantSSOExclusionsDriver = new k(() => {
      var t;
      return null === (t = this.shadowRoot) || void 0 === t ? void 0 : t.querySelector('descope-user-attribute[data-id="tenant-force-sso-exclusions-edit"]');
    }, { logger: this.logger }), this.tenantSSOExclusionsDriver.onEditClick(() => {
      var t;
      null === (t = __classPrivateFieldGet(this, o2, "f")) || void 0 === t || t.open();
    }), this.tenantSSOExclusionsDriver.onDeleteClick(() => {
      var t;
      null === (t = __classPrivateFieldGet(this, l, "f")) || void 0 === t || t.open();
    });
  }, S;
});
var mt = h((s) => {
  var n2, o2, d, l, c2, f, m2, g, p, w, b, S;
  return S = class extends r(rt, V, loggerMixin, dt, cookieConfigMixin, modalMixin)(s) {
    constructor() {
      super(...arguments), n2.add(this), o2.set(this, void 0), d.set(this, void 0), l.set(this, void 0), c2.set(this, void 0), b.set(this, o((t) => {
        this.tenantEnforceSSODriver.value = t;
      }));
    }
    onWidgetRootReady() {
      const i = Object.create(null, { onWidgetRootReady: { get: () => super.onWidgetRootReady } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i.onWidgetRootReady) || void 0 === t ? void 0 : t.call(this), __classPrivateFieldGet(this, n2, "m", w).call(this), __classPrivateFieldGet(this, n2, "m", f).call(this), __classPrivateFieldGet(this, n2, "m", g).call(this), __classPrivateFieldGet(this, b, "f").call(this, ot(this.state)), this.subscribe(__classPrivateFieldGet(this, b, "f").bind(this), ot);
      });
    }
  }, o2 = /* @__PURE__ */ new WeakMap(), d = /* @__PURE__ */ new WeakMap(), l = /* @__PURE__ */ new WeakMap(), c2 = /* @__PURE__ */ new WeakMap(), b = /* @__PURE__ */ new WeakMap(), n2 = /* @__PURE__ */ new WeakSet(), f = function() {
    this.tenantEnforceSSODriver.editFlowId && (__classPrivateFieldSet(this, o2, this.createModal({ "data-id": "edit-tenant-enforce-sso" }), "f"), __classPrivateFieldSet(this, d, new u(() => {
      var t;
      return null === (t = __classPrivateFieldGet(this, o2, "f").ele) || void 0 === t ? void 0 : t.querySelector("descope-wc");
    }, { logger: this.logger }), "f"), __classPrivateFieldGet(this, o2, "f").afterClose = __classPrivateFieldGet(this, n2, "m", m2).bind(this), __classPrivateFieldGet(this, n2, "m", m2).call(this), this.syncFlowTheme(__classPrivateFieldGet(this, d, "f")));
  }, m2 = function() {
    __classPrivateFieldGet(this, o2, "f").setContent(W({ projectId: this.projectId, flowId: this.tenantEnforceSSODriver.editFlowId, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme, form: JSON.stringify({ enforceSSO: ot(this.state) }) })), __classPrivateFieldGet(this, d, "f").onSuccess(() => {
      __classPrivateFieldGet(this, o2, "f").close(), this.actions.getTenant();
    });
  }, g = function() {
    this.tenantEnforceSSODriver.deleteFlowId && (__classPrivateFieldSet(this, l, this.createModal({ "data-id": "delete-tenant-enforce-sso" }), "f"), __classPrivateFieldSet(this, c2, new u(() => {
      var t;
      return null === (t = __classPrivateFieldGet(this, l, "f").ele) || void 0 === t ? void 0 : t.querySelector("descope-wc");
    }, { logger: this.logger }), "f"), __classPrivateFieldGet(this, l, "f").afterClose = __classPrivateFieldGet(this, n2, "m", p).bind(this), __classPrivateFieldGet(this, n2, "m", p).call(this), this.syncFlowTheme(__classPrivateFieldGet(this, c2, "f")));
  }, p = function() {
    __classPrivateFieldGet(this, l, "f").setContent(W({ projectId: this.projectId, flowId: this.tenantEnforceSSODriver.deleteFlowId, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme })), __classPrivateFieldGet(this, c2, "f").onSuccess(() => {
      __classPrivateFieldGet(this, l, "f").close(), this.actions.getTenant();
    });
  }, w = function() {
    this.tenantEnforceSSODriver = new k(() => {
      var t;
      return null === (t = this.shadowRoot) || void 0 === t ? void 0 : t.querySelector('descope-user-attribute[data-id="tenant-enforce-sso-edit"]');
    }, { logger: this.logger }), this.tenantEnforceSSODriver.onEditClick(() => {
      var t;
      null === (t = __classPrivateFieldGet(this, o2, "f")) || void 0 === t || t.open();
    }), this.tenantEnforceSSODriver.onDeleteClick(() => {
      var t;
      null === (t = __classPrivateFieldGet(this, l, "f")) || void 0 === t || t.open();
    });
  }, S;
});
var vt = h((s) => {
  var n2, o2, d, l, c2, f, m2, g;
  return g = class extends r(rt, V, loggerMixin, dt, cookieConfigMixin, modalMixin)(s) {
    constructor() {
      super(...arguments), n2.add(this), o2.set(this, void 0), d.set(this, void 0), m2.set(this, o((t) => {
        this.tenantNameDriver.value = t;
      }));
    }
    onWidgetRootReady() {
      const i = Object.create(null, { onWidgetRootReady: { get: () => super.onWidgetRootReady } });
      return __awaiter(this, void 0, void 0, function* () {
        var t;
        yield null === (t = i.onWidgetRootReady) || void 0 === t ? void 0 : t.call(this), __classPrivateFieldGet(this, n2, "m", f).call(this), __classPrivateFieldGet(this, n2, "m", l).call(this), __classPrivateFieldGet(this, m2, "f").call(this, it(this.state)), this.subscribe(__classPrivateFieldGet(this, m2, "f").bind(this), it);
      });
    }
  }, o2 = /* @__PURE__ */ new WeakMap(), d = /* @__PURE__ */ new WeakMap(), m2 = /* @__PURE__ */ new WeakMap(), n2 = /* @__PURE__ */ new WeakSet(), l = function() {
    this.tenantNameDriver.editFlowId && (__classPrivateFieldSet(this, o2, this.createModal({ "data-id": "tenant-profile-set-name" }), "f"), __classPrivateFieldSet(this, d, new u(() => {
      var t;
      return null === (t = __classPrivateFieldGet(this, o2, "f").ele) || void 0 === t ? void 0 : t.querySelector("descope-wc");
    }, { logger: this.logger }), "f"), __classPrivateFieldGet(this, o2, "f").afterClose = __classPrivateFieldGet(this, n2, "m", c2).bind(this), __classPrivateFieldGet(this, n2, "m", c2).call(this), this.syncFlowTheme(__classPrivateFieldGet(this, d, "f")));
  }, c2 = function() {
    __classPrivateFieldGet(this, o2, "f").setContent(W({ projectId: this.projectId, flowId: this.tenantNameDriver.editFlowId, tenant: this.tenantId, baseUrl: this.baseUrl, baseStaticUrl: this.baseStaticUrl, baseCdnUrl: this.baseCdnUrl, refreshCookieName: this.refreshCookieName, theme: this.theme, form: JSON.stringify({ tenantName: it(this.state) }) })), __classPrivateFieldGet(this, d, "f").onSuccess(() => {
      __classPrivateFieldGet(this, o2, "f").close(), this.actions.getTenant();
    });
  }, f = function() {
    this.tenantNameDriver = new k(() => {
      var t;
      return null === (t = this.shadowRoot) || void 0 === t ? void 0 : t.querySelector('descope-user-attribute[data-id="tenant-name-edit"]');
    }, { logger: this.logger }), this.tenantNameDriver.onEditClick(() => {
      var t;
      null === (t = __classPrivateFieldGet(this, o2, "f")) || void 0 === t || t.open();
    });
  }, g;
});
var gt = h((e) => class extends r(debuggerMixin, themeMixin, Q, dt, vt, ut, ft, mt, ct, lt)(e) {
  init() {
    const e2 = Object.create(null, { init: { get: () => super.init } });
    return __awaiter(this, void 0, void 0, function* () {
      var t;
      yield null === (t = e2.init) || void 0 === t ? void 0 : t.call(this);
    });
  }
});
var pt = r((e) => class extends gt(e) {
  init() {
    const e2 = Object.create(null, { init: { get: () => super.init } });
    return __awaiter(this, void 0, void 0, function* () {
      var t;
      yield null === (t = e2.init) || void 0 === t ? void 0 : t.call(this);
      (customElements.get("descope-wc") || (yield import("./descope-wc-R7IYVLIN.js").then((t2) => t2.default))).sdkConfigOverrides = { baseHeaders: { "x-descope-widget-type": "tenant-profile-widget", "x-descope-widget-id": this.getAttribute("widget-id"), "x-descope-widget-version": "0.2.11" } };
    });
  }
})(HTMLElement);
customElements.define("descope-tenant-profile-widget", pt);
export {
  pt as default
};
//# sourceMappingURL=esm-QCNPTIZP.js.map
