{"version":3,"file":"helpers.js","sources":["../../../../src/mixins/debuggerMixin/helpers.ts"],"sourcesContent":["import { Boundaries } from './types';\n\ntype Target = {\n  w: number;\n  h: number;\n  offsetWidth: number;\n  offsetHeight: number;\n};\n\nexport const limitCoordinateToScreenBoundaries = (\n  ele: HTMLElement,\n  x: number,\n  y: number,\n  boundaries: Boundaries = {},\n) => [\n  Math.min(\n    Math.max(\n      x,\n      (boundaries.left === 'all' ? ele.offsetWidth : boundaries.left ?? 0) -\n        ele.offsetWidth,\n    ),\n    window.innerWidth -\n      (boundaries.right === 'all' ? ele.offsetWidth : boundaries.right ?? 0),\n  ),\n  Math.min(\n    Math.max(\n      y,\n      (boundaries.top === 'all' ? ele.offsetHeight : boundaries.top ?? 0) -\n        ele.offsetHeight,\n    ),\n    window.innerHeight -\n      (boundaries.bottom === 'all' ? ele.offsetHeight : boundaries.bottom ?? 0),\n  ),\n];\n\nexport const dragElement = (\n  ele: HTMLElement,\n  triggerEle?: HTMLElement,\n  keepVisible?: Boundaries,\n) => {\n  let deltaX = 0;\n  let deltaY = 0;\n  let currentX = 0;\n  let currentY = 0;\n\n  function elementDrag(e: MouseEvent) {\n    e.preventDefault();\n    // calculate the new cursor position:\n    deltaX = currentX - e.clientX;\n    deltaY = currentY - e.clientY;\n    currentX = e.clientX;\n    currentY = e.clientY;\n    // set the element's new position:\n    const [left, top] = limitCoordinateToScreenBoundaries(\n      ele,\n      ele.offsetLeft - deltaX,\n      ele.offsetTop - deltaY,\n      keepVisible,\n    );\n    // eslint-disable-next-line no-param-reassign\n    ele.style.top = `${top}px`;\n    // eslint-disable-next-line no-param-reassign\n    ele.style.left = `${left}px`;\n  }\n\n  function closeDragElement() {\n    // stop moving when mouse button is released:\n    document.onmouseup = null;\n    document.onmousemove = null;\n  }\n\n  function dragMouseDown(e: MouseEvent) {\n    e.preventDefault();\n    // get the mouse cursor position at startup:\n    currentX = e.clientX;\n    currentY = e.clientY;\n    document.onmouseup = closeDragElement;\n    // call a function whenever the cursor moves:\n    document.onmousemove = elementDrag;\n  }\n\n  if (triggerEle) {\n    // if provided, the triggerEle is where you move the div from\n    // eslint-disable-next-line no-param-reassign\n    triggerEle.onmousedown = dragMouseDown;\n  } else {\n    // otherwise, move the DIV from anywhere inside the DIV:\n\n    // eslint-disable-next-line no-param-reassign\n    ele.onmousedown = dragMouseDown;\n  }\n};\n\nexport const addOnResize = (ele: HTMLElement) => {\n  // eslint-disable-next-line no-param-reassign\n  ele.onmousemove = (e) => {\n    // eslint-disable-next-line prefer-destructuring\n    const target: Target = e.target! as EventTarget & Target;\n    if (\n      (target.w && target.w !== target.offsetWidth) ||\n      (target.h && target.h !== target.offsetHeight)\n    ) {\n      ele.onresize?.(e);\n    }\n    target.w = target.offsetWidth;\n    target.h = target.offsetHeight;\n  };\n};\n"],"names":[],"mappings":"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"}