"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("../hooks/Context.js"),r=require("./withPropsMapping/index.js");function a(e){return e&&e.__esModule?e:{default:e}}var s=a(e);const l=e.lazy((async()=>(await import("@descope/user-profile-widget"),{default:r.default(s.default.forwardRef(((e,t)=>s.default.createElement("descope-user-profile-widget",Object.assign({ref:t},e)))))}))),o=s.default.forwardRef((({logger:r,theme:a,debug:o,widgetId:u,onLogout:d,styleId:n},i)=>{const[f,c]=e.useState(null);e.useImperativeHandle(i,(()=>f));const{projectId:p,baseUrl:g,baseStaticUrl:b,baseCdnUrl:m,refreshCookieName:I,setSession:w,setUser:h,setIsAuthenticated:v}=s.default.useContext(t.default),C=e.useCallback((e=>{d&&d(e),v(!1),w(""),h(null)}),[d,w,v,h]);return e.useEffect((()=>{if(f)return f.addEventListener("logout",C),()=>f.removeEventListener("logout",C)}),[f,C]),s.default.createElement(e.Suspense,{fallback:null},s.default.createElement(l,{projectId:p,widgetId:u,baseUrl:g,baseStaticUrl:b,baseCdnUrl:m,styleId:n,ref:c,"theme.attr":a,"debug.attr":o,"styleId.attr":n,"refreshCookieName.attr":I,"logger.prop":r}))}));exports.default=o;
//# sourceMappingURL=UserProfile.js.map
