{"version":3,"file":"RoleManagement.js","sources":["../../../src/components/RoleManagement.tsx"],"sourcesContent":["import React, { lazy, Suspense, useImperativeHandle, useState } from 'react';\nimport Context from '../hooks/Context';\nimport { RoleManagementProps } from '../types';\nimport withPropsMapping from './withPropsMapping';\n\n// web-component code uses browser API, but can be used in SSR apps, hence the lazy loading\nconst RoleManagementWC = lazy(async () => {\n  await import('@descope/role-management-widget');\n\n  return {\n    default: withPropsMapping(\n      React.forwardRef<HTMLElement>((props, ref) => (\n\t<descope-role-management-widget ref={ref} {...props} />\n      )),\n    ),\n  };\n});\n\nconst RoleManagement = React.forwardRef<HTMLElement, RoleManagementProps>(\n  ({ logger, tenant, theme, debug, widgetId, styleId }, ref) => {\n    const [innerRef, setInnerRef] = useState(null);\n\n    useImperativeHandle(ref, () => innerRef);\n\n    const { projectId, baseUrl, baseStaticUrl, baseCdnUrl, refreshCookieName } =\n      React.useContext(Context);\n\n    return (\n\t<Suspense fallback={null}>\n\t\t<RoleManagementWC\n          projectId={projectId}\n          widgetId={widgetId}\n          tenant={tenant}\n          baseUrl={baseUrl}\n          baseStaticUrl={baseStaticUrl}\n          baseCdnUrl={baseCdnUrl}\n          innerRef={setInnerRef}\n          {...{\n            // attributes\n            'theme.attr': theme,\n            'debug.attr': debug,\n            'styleId.attr': styleId,\n            'refreshCookieName.attr': refreshCookieName,\n            // props\n            'logger.prop': logger,\n          }}\n        />\n\t</Suspense>\n    );\n  },\n);\n\nexport default RoleManagement;\n"],"names":["RoleManagementWC","lazy","async","import","default","withPropsMapping","React","forwardRef","props","ref","createElement","Object","assign","RoleManagement","logger","tenant","theme","debug","widgetId","styleId","innerRef","setInnerRef","useState","useImperativeHandle","projectId","baseUrl","baseStaticUrl","baseCdnUrl","refreshCookieName","useContext","Context","Suspense","fallback"],"mappings":"mOAMA,MAAMA,EAAmBC,EAAIA,MAACC,gBACtBC,OAAO,mCAEN,CACLC,QAASC,EAAgBD,QACvBE,UAAMC,YAAwB,CAACC,EAAOC,IAC3CH,EAAAA,QAAgCI,cAAA,iCAAAC,OAAAC,OAAA,CAAAH,IAAKA,GAASD,WAMzCK,EAAiBP,EAAKF,QAACG,YAC3B,EAAGO,SAAQC,SAAQC,QAAOC,QAAOC,WAAUC,WAAWV,KACpD,MAAOW,EAAUC,GAAeC,EAAQA,SAAC,MAEzCC,sBAAoBd,GAAK,IAAMW,IAE/B,MAAMI,UAAEA,EAASC,QAAEA,EAAOC,cAAEA,EAAaC,WAAEA,EAAUC,kBAAEA,GACrDtB,EAAKF,QAACyB,WAAWC,EAAAA,SAEnB,OACHxB,EAACF,QAAAM,cAAAqB,EAAQA,SAAC,CAAAC,SAAU,MACnB1B,EAAAF,QAAAM,cAACV,EAAgB,CACTwB,UAAWA,EACXN,SAAUA,EACVH,OAAQA,EACRU,QAASA,EACTC,cAAeA,EACfC,WAAYA,EACZP,SAAUC,EAGR,aAAcL,EACd,aAAcC,EACd,eAAgBE,EAChB,yBAA0BS,EAE1B,cAAed,IAIrB"}