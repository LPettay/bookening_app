'use strict';

var constants = require('../descopeUiMixin/constants.js');

const loadFont = (url) => {
    const font = document.createElement('link');
    font.href = url;
    font.rel = 'stylesheet';
    document.head.appendChild(font);
};
const loadDevTheme = async () => {
    const componentsUrl = localStorage.getItem(constants.UI_COMPONENTS_URL_KEY);
    const descopeDevUrl = componentsUrl === null || componentsUrl === void 0 ? void 0 : componentsUrl.replace(/[^\/]+$/, 'DescopeDev.js');
    // eslint-disable-next-line no-console
    console.warn('Trying to load DescopeDev.js from', descopeDevUrl);
    const scriptEle = document.createElement('script');
    scriptEle.src = descopeDevUrl;
    document.body.appendChild(scriptEle);
    await new Promise((resolve, reject) => {
        scriptEle.onload = resolve;
        scriptEle.onerror = reject;
    });
    if (globalThis.DescopeDev) {
        const { themeToStyle, defaultTheme, darkTheme } = globalThis.DescopeDev;
        return {
            light: themeToStyle(defaultTheme),
            dark: themeToStyle(darkTheme),
        };
    }
};

exports.loadDevTheme = loadDevTheme;
exports.loadFont = loadFont;
//# sourceMappingURL=helpers.js.map
