{"version":3,"file":"loggerMixin.js","sources":["../../../../src/mixins/loggerMixin/loggerMixin.ts"],"sourcesContent":["import { createSingletonMixin } from '@descope/sdk-helpers';\nimport { Logger } from './types';\n\nconst logLevels = ['error', 'warn', 'info', 'debug'] as const;\n\nexport type LogLevel = (typeof logLevels)[number];\n\nexport const loggerMixin = createSingletonMixin(\n  <T extends CustomElementConstructor>(superclass: T) =>\n    class LoggerMixinClass extends superclass {\n      #logger: Logger = this.#wrapLogger(console);\n\n      #wrapLogger(logger: Partial<Logger>) {\n        return logLevels.reduce((acc, logLevel) => {\n          acc[logLevel] = (...args: any[]) => {\n            this.onLogEvent(logLevel, args);\n            logger[logLevel]?.(...args);\n          };\n\n          return acc;\n        }, {}) as Logger;\n      }\n\n      set logger(logger: Partial<Logger> | undefined) {\n        this.#logger = this.#wrapLogger(logger || console);\n      }\n\n      get logger(): Logger {\n        return this.#logger;\n      }\n\n      // eslint-disable-next-line class-methods-use-this, @typescript-eslint/no-unused-vars\n      onLogEvent(logLevel: LogLevel, data: any[]) {}\n    },\n);\n"],"names":["createSingletonMixin","__classPrivateFieldGet","__classPrivateFieldSet"],"mappings":";;;;;AAGA,MAAM,SAAS,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAU,CAAC;AAIvD,MAAM,WAAW,GAAGA,+BAAoB,CAC7C,CAAqC,UAAa,KAAI,EAAA,IAAA,2BAAA,EAAA,wBAAA,EAAA,4BAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,GACpD,MAAM,gBAAiB,SAAQ,UAAU,CAAA;AAAzC,QAAA,WAAA,GAAA;;;YACE,wBAAkB,CAAA,GAAA,CAAA,IAAA,EAAAC,4BAAA,CAAA,IAAI,EAAY,2BAAA,EAAA,GAAA,EAAA,4BAAA,CAAA,CAAA,IAAA,CAAhB,IAAI,EAAa,OAAO,CAAC,CAAC,CAAA;SAuB7C;QAVC,IAAI,MAAM,CAAC,MAAmC,EAAA;AAC5C,YAAAC,4BAAA,CAAA,IAAI,EAAA,wBAAA,EAAWD,4BAAA,CAAA,IAAI,EAAY,2BAAA,EAAA,GAAA,EAAA,4BAAA,CAAA,CAAA,IAAA,CAAhB,IAAI,EAAa,MAAM,IAAI,OAAO,CAAC,MAAA,CAAC;SACpD;AAED,QAAA,IAAI,MAAM,GAAA;YACR,OAAOA,4BAAA,CAAA,IAAI,EAAA,wBAAA,EAAA,GAAA,CAAQ,CAAC;SACrB;;AAGD,QAAA,UAAU,CAAC,QAAkB,EAAE,IAAW,KAAI;AAC/C,KAAA;;;yEArBa,MAAuB,EAAA;QACjC,OAAO,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,QAAQ,KAAI;YACxC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAW,KAAI;;AACjC,gBAAA,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;gBAChC,CAAA,EAAA,GAAA,MAAM,CAAC,QAAQ,CAAC,uDAAG,GAAG,IAAI,CAAC,CAAC;AAC9B,aAAC,CAAC;AAEF,YAAA,OAAO,GAAG,CAAC;SACZ,EAAE,EAAE,CAAW,CAAC;KAClB;AAYF,IAAA,EAAA,CAAA,EAAA;;;;"}