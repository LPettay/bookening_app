{"version":3,"file":"ApplicationsPortal.js","sources":["../../../src/components/ApplicationsPortal.tsx"],"sourcesContent":["import React, { lazy, Suspense, useImperativeHandle, useState } from 'react';\nimport Context from '../hooks/Context';\nimport { ApplicationsPortalProps } from '../types';\nimport withPropsMapping from './withPropsMapping';\n\n// web-component code uses browser API, but can be used in SSR apps, hence the lazy loading\nconst ApplicationsPortalWC = lazy(async () => {\n  await import('@descope/applications-portal-widget');\n\n  return {\n    default: withPropsMapping(\n      React.forwardRef<HTMLElement>((props, ref) => (\n\t<descope-applications-portal-widget ref={ref} {...props} />\n      )),\n    ),\n  };\n});\n\nconst ApplicationsPortal = React.forwardRef<\n  HTMLElement,\n  ApplicationsPortalProps\n>(({ logger, theme, debug, widgetId, styleId }, ref) => {\n  const [innerRef, setInnerRef] = useState(null);\n\n  useImperativeHandle(ref, () => innerRef);\n\n  const { projectId, baseUrl, baseStaticUrl, baseCdnUrl, refreshCookieName } =\n    React.useContext(Context);\n\n  return (\n\t<Suspense fallback={null}>\n\t\t<ApplicationsPortalWC\n        projectId={projectId}\n        widgetId={widgetId}\n        baseUrl={baseUrl}\n        baseStaticUrl={baseStaticUrl}\n        baseCdnUrl={baseCdnUrl}\n        innerRef={setInnerRef}\n        {...{\n          // attributes\n          'theme.attr': theme,\n          'debug.attr': debug,\n          'styleId.attr': styleId,\n          'refreshCookieName.attr': refreshCookieName,\n          // props\n          'logger.prop': logger,\n        }}\n      />\n\t</Suspense>\n  );\n});\n\nexport default ApplicationsPortal;\n"],"names":["ApplicationsPortalWC","lazy","async","import","default","withPropsMapping","React","forwardRef","props","ref","createElement","Object","assign","ApplicationsPortal","logger","theme","debug","widgetId","styleId","innerRef","setInnerRef","useState","useImperativeHandle","projectId","baseUrl","baseStaticUrl","baseCdnUrl","refreshCookieName","useContext","Context","Suspense","fallback"],"mappings":"mKAMA,MAAMA,EAAuBC,GAAKC,gBAC1BC,OAAO,uCAEN,CACLC,QAASC,EACPC,EAAMC,YAAwB,CAACC,EAAOC,IAC3CH,EAAoCI,cAAA,qCAAAC,OAAAC,OAAA,CAAAH,IAAKA,GAASD,WAM7CK,EAAqBP,EAAMC,YAG/B,EAAGO,SAAQC,QAAOC,QAAOC,WAAUC,WAAWT,KAC9C,MAAOU,EAAUC,GAAeC,EAAS,MAEzCC,EAAoBb,GAAK,IAAMU,IAE/B,MAAMI,UAAEA,EAASC,QAAEA,EAAOC,cAAEA,EAAaC,WAAEA,EAAUC,kBAAEA,GACrDrB,EAAMsB,WAAWC,GAEnB,OACDvB,EAACI,cAAAoB,EAAS,CAAAC,SAAU,MACnBzB,EAACI,cAAAV,EACK,CAAAuB,UAAWA,EACXN,SAAUA,EACVO,QAASA,EACTC,cAAeA,EACfC,WAAYA,EACZP,SAAUC,EAGR,aAAcL,EACd,aAAcC,EACd,eAAgBE,EAChB,yBAA0BS,EAE1B,cAAeb,IAIrB"}