import e,{lazy as t,useState as r,useImperativeHandle as o,useCallback as s,useEffect as a,Suspense as l}from"react";import n from"../hooks/Context.js";import d from"./withPropsMapping/index.js";const i=t((async()=>(await import("@descope/user-profile-widget"),{default:d(e.forwardRef(((t,r)=>e.createElement("descope-user-profile-widget",Object.assign({ref:r},t)))))}))),c=e.forwardRef((({logger:t,theme:d,debug:c,widgetId:f,onLogout:p,styleId:u},g)=>{const[m,b]=r(null);o(g,(()=>m));const{projectId:w,baseUrl:I,baseStaticUrl:h,baseCdnUrl:U,refreshCookieName:C,setSession:j,setUser:E,setIsAuthenticated:k}=e.useContext(n),x=s((e=>{p&&p(e),k(!1),j(""),E(null)}),[p,j,k,E]);return a((()=>{if(m)return m.addEventListener("logout",x),()=>m.removeEventListener("logout",x)}),[m,x]),e.createElement(l,{fallback:null},e.createElement(i,{projectId:w,widgetId:f,baseUrl:I,baseStaticUrl:h,baseCdnUrl:U,styleId:u,ref:b,"theme.attr":d,"debug.attr":c,"styleId.attr":u,"refreshCookieName.attr":C,"logger.prop":t}))}));export{c as default};
//# sourceMappingURL=UserProfile.js.map
