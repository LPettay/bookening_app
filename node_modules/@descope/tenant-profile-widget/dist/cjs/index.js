
      /**
       * @descope/tenant-profile-widget v0.2.11
       */
      "use strict";var e=require("tslib"),t=require("@descope/sdk-helpers"),i=require("@descope/sdk-mixins"),s=require("@descope/sdk-component-drivers"),a=require("@reduxjs/toolkit");require("@descope/core-js-sdk");var n=require("@descope/web-js-sdk"),r=require("reselect");require("@descope/web-component");const o=(e={})=>{const i=t.createTemplate("<descope-wc></descope-wc>");return Object.entries(e).forEach((([e,s])=>{i.content.querySelector("descope-wc").setAttribute(t.kebabCase(e),s)})),i};function l(e){return new URLSearchParams(window.location.search).get(e)}const d=e=>(...t)=>i=>{i.addCase(e.pending,((e,i)=>{t.forEach((({onPending:t})=>{null==t||t(e,i)}))})),i.addCase(e.fulfilled,((e,i)=>{t.forEach((({onFulfilled:t})=>{null==t||t(e,i)}))})),i.addCase(e.rejected,((e,i)=>{t.forEach((({onRejected:t})=>{null==t||t(e,i)}))}))},c=e=>({onFulfilled:t=>{e(t).loading=!1},onPending:t=>{e(t).loading=!0,e(t).error=null},onRejected:(t,i)=>{e(t).loading=!1,e(t).error=i.error}}),h=a.createAsyncThunk("users/me",((e,{extra:{api:t}})=>t.user.me())),v=d(h)({onFulfilled:(e,t)=>{e.me.data=t.payload}},c((e=>e.me))),u={action:h,reducer:v},_=a.createAsyncThunk("tenant/details",((e,{extra:{api:t}})=>t.tenant.details())),f=d(_)({onFulfilled:(e,t)=>{e.tenant.data=t.payload}},c((e=>e.tenant))),m={action:_,reducer:f},g=a.createAsyncThunk("tenant/adminLinkSso",((e,{extra:{api:t}})=>t.tenant.adminLinkSso())),p={action:g,reducer:d(g)({onFulfilled:(e,t)=>{var i;e.tenantAdminLinkSSO.data=(null===(i=t.payload)||void 0===i?void 0:i.adminSSOConfigurationLink)||""}},c((e=>e.tenantAdminLinkSSO)))},w={me:{loading:!1,error:null,data:{}},tenant:{loading:!1,error:null,data:{}},tenantAdminLinkSSO:{loading:!1,error:null,data:""}},S={me:"/v1/auth/me"},F={details:"/v1/mgmt/tenant",adminLinkSso:"/v1/mgmt/tenant/adminlinks/sso/authenticated"},b=t=>e.__awaiter(void 0,void 0,void 0,(function*(){const e=yield t.text(),i=JSON.parse(e);if(!t.ok){const e=`${i.errorDescription}${i.errorMessage?`: ${i.errorMessage}`:""}`;throw Error(e||`${t.status} ${t.statusText}`)}t.json=()=>Promise.resolve(i),t.text=()=>Promise.resolve(e)})),P=()=>e.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((e=>{e({loginIds:["user@company.com"],externalIds:["user@company.com"],userId:"user-1",name:"Test User",email:"user@company.com",roleNames:["Role"],phone:"+1-202-555-010",verifiedEmail:!0,verifiedPhone:!0,userTenants:[],status:"enabled",editable:!0,createdTime:(new Date).getTime(),customAttributes:{},familyName:"",givenName:"",middleName:"",picture:void 0,password:!0,SAML:!1,test:!1,TOTP:!1,webauthn:!0})}))})),y=()=>e.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((e=>{e({tenantId:"tenant-1",roleNames:["admin"],id:"tenant-1",name:"Test Tenant",selfProvisioningDomains:["example1.com","example2.com"],customAttributes:{},authType:"password",domains:[],createdTime:Date.now(),disabled:!1,enforceSSO:!0})}))})),x=()=>e.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((e=>{e({adminSSOConfigurationLink:"_blank"})}))})),k=({httpClient:t,tenantId:i,mock:s})=>{const a=encodeURIComponent(i||""),n=`?tenant=${a}&id=${a}`;return{details:()=>e.__awaiter(void 0,void 0,void 0,(function*(){if(s)return y();if(!i)throw new Error("tenantId is not defined");const e=`${F.details}${n}`,a=yield t.get(e);yield b(a);return yield a.json()})),adminLinkSso:()=>e.__awaiter(void 0,void 0,void 0,(function*(){if(s)return x();if(!i)throw new Error("tenantId is not defined");const e=yield t.post(`${F.adminLinkSso}?tenant=${a}`,{tenantId:a},{headers:{"Content-Type":"application/json"}});yield b(e);return yield e.json()}))}},G=({httpClient:t,mock:i})=>({me:()=>e.__awaiter(void 0,void 0,void 0,(function*(){if(i)return P();const e=yield t.get(S.me);return yield b(e),e.json()}))}),M=t.createSingletonMixin((s=>{var a,r,o,l;const d=t.compose(i.projectIdMixin,i.observeAttributesMixin,i.loggerMixin,i.baseUrlMixin,i.cookieConfigMixin)(s);return l=class extends d{constructor(){super(...arguments),a.add(this),r.set(this,void 0)}get widgetId(){return this.getAttribute("widget-id")}get tenantId(){return this.getAttribute("tenant")}get mock(){return this.getAttribute("mock")}get api(){return e.__classPrivateFieldGet(this,r,"f")||e.__classPrivateFieldGet(this,a,"m",o).call(this),e.__classPrivateFieldGet(this,r,"f")}init(){const t=Object.create(null,{init:{get:()=>super.init}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.init)||void 0===i?void 0:i.call(this),this.observeAttributes(["project-id","base-url","tenant","mock"],(()=>{e.__classPrivateFieldGet(this,r,"f")&&e.__classPrivateFieldGet(this,a,"m",o).call(this)}))}))}},r=new WeakMap,a=new WeakSet,o=function(){this.logger.debug("creating an sdk instance"),e.__classPrivateFieldSet(this,r,((e,t,i,s)=>{const a=n(Object.assign(Object.assign({},e),{persistTokens:!0,baseHeaders:{"x-descope-widget-type":"tenant-profile-widget","x-descope-widget-id":s,"x-descope-widget-version":"0.2.11"}}));return{user:G({httpClient:a.httpClient,mock:i}),tenant:k({httpClient:a.httpClient,tenantId:t,mock:i})}})({projectId:this.projectId,baseUrl:this.baseUrl,refreshCookieName:this.refreshCookieName},this.tenantId,"true"===this.mock,this.widgetId),"f")},l})),C=t.createSingletonMixin((e=>{const s=t.compose(i.createStateManagementMixin({name:"widget",initialState:w,reducers:{},extraReducers:e=>{u.reducer(e),m.reducer(e),p.reducer(e)},asyncActions:{getMe:u.action,getTenant:m.action,getTenantAdminLinkSSO:p.action}}),i.initLifecycleMixin,i.loggerMixin,M)(e);return class extends s{constructor(...e){super(...e),this.state=w,this.subscribe((e=>{this.logger.debug("State update:",e),this.state=e}))}}})),R="widget-flow",U=t.createSingletonMixin((a=>{var n,r,d;return d=class extends(t.compose(i.initLifecycleMixin,i.modalMixin,C,i.cookieConfigMixin,i.loggerMixin,i.themeMixin)(a)){constructor(){super(...arguments),n.add(this)}init(){const t=Object.create(null,{init:{get:()=>super.init}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.init)||void 0===i?void 0:i.call(this);const s=l(R);s&&(!function(e){if(window.history.replaceState&&l(e)){const t=new URL(window.location.href),i=new URLSearchParams(t.search);i.delete(e),t.search=i.toString(),window.history.replaceState({},"",t.toString())}}(R),e.__classPrivateFieldGet(this,n,"m",r).call(this,s))}))}},n=new WeakSet,r=function(e){const t=this.createModal({"data-id":"redirect-flow"});t.setContent(o({projectId:this.projectId,flowId:e,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme}));new s.FlowDriver((()=>{var e;return null===(e=t.ele)||void 0===e?void 0:e.querySelector("descope-wc")}),{logger:this.logger}).onSuccess((()=>{t.close(),this.actions.getMe(),this.actions.getTenant(),this.actions.getTenantAdminLinkSSO()})),t.afterClose=()=>{t.remove()},t.open()},d})),I=e=>e.tenant.data,D=e=>e.tenantAdminLinkSSO.data,W=r.createSelector(I,(e=>e.customAttributes||{})),E=r.createSelector(I,(e=>e.name||"")),O=r.createSelector(I,(e=>e.selfProvisioningDomains||[])),A=r.createSelector(I,(e=>e.enforceSSOExclusions||[])),T=r.createSelector(I,(e=>e.enforceSSO||!1)),j=t.createSingletonMixin((e=>class extends(t.compose(i.themeMixin,i.observeAttributesMixin)(e)){syncFlowTheme(e){e.theme=this.theme,this.observeAttributes(["theme"],(()=>{e.theme=this.theme}))}})),N=t.createSingletonMixin((s=>{const a=t.compose(i.staticResourcesMixin,i.createValidateAttributesMixin({"widget-id":i.createValidateAttributesMixin.missingAttrValidator}))(s);return class extends a{get widgetId(){return this.getAttribute("widget-id")}fetchWidgetPage(t){return e.__awaiter(this,void 0,void 0,(function*(){return(yield this.fetchStaticResource(`tenant-profile-widget/${this.widgetId}/${t}`,"text")).body}))}}}));const L=t.createSingletonMixin((s=>{var a,n,r;return r=class extends(t.compose(i.loggerMixin,i.initLifecycleMixin,i.descopeUiMixin,i.initElementMixin,N,C)(s)){constructor(){super(...arguments),a.add(this)}onWidgetRootReady(){return e.__awaiter(this,void 0,void 0,(function*(){}))}init(){const t=Object.create(null,{init:{get:()=>super.init}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.init)||void 0===i?void 0:i.call(this);try{yield Promise.all([this.actions.getMe(),this.actions.getTenant(),this.actions.getTenantAdminLinkSSO()])}catch(e){}const s=this.state.me.error||(e=>e.tenant.error)(this.state)||(e=>e.tenantAdminLinkSSO.error)(this.state);if(s){this.contentRootElement.innerHTML="";const e="object"==typeof s&&null!==s&&"message"in s?s.message:String(s)||"An error occurred";this.contentRootElement.append(function({mainMessage:e="An error occurred"}){const t=document.createElement("div");t.setAttribute("data-id","widget-error"),t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.style.justifyContent="center",t.style.padding="72px 36px",t.style.background="#fff",t.style.borderRadius="12px",t.style.boxShadow="0 2px 8px rgba(0,0,0,0.03)",t.style.margin="32px auto",t.style.maxWidth="400px";const i=document.createElement("div");i.innerHTML='\n    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <circle cx="20" cy="20" r="18" stroke="#FF3B3B" stroke-width="3" fill="#fff"/>\n      <text x="20" y="27" text-anchor="middle" font-size="24" font-family="Arial, sans-serif" fill="#FF3B3B">!</text>\n    </svg>\n  ',i.style.marginBottom="12px",t.appendChild(i);const s=document.createElement("div");return s.textContent=e,s.style.fontWeight="bold",s.style.fontSize="20px",s.style.color="#222",s.style.textAlign="center",s.style.marginTop="8px",t.appendChild(s),t}({mainMessage:e}))}else yield e.__classPrivateFieldGet(this,a,"m",n).call(this),this.onWidgetRootReady()}))}},a=new WeakSet,n=function(){return e.__awaiter(this,void 0,void 0,(function*(){const e=t.createTemplate(yield this.fetchWidgetPage("root.html"));yield this.loadDescopeUiComponents(e),this.contentRootElement.append(e.content.cloneNode(!0))}))},r})),q=t.createSingletonMixin((a=>{var n,r,o,l;return l=class extends(t.compose(j,C,i.loggerMixin,L,i.cookieConfigMixin,i.modalMixin)(a)){constructor(){super(...arguments),n.add(this),o.set(this,t.withMemCache((e=>{this.tenantAdminLinkSSODriver.href=e})))}onWidgetRootReady(){const t=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.onWidgetRootReady)||void 0===i?void 0:i.call(this),e.__classPrivateFieldGet(this,n,"m",r).call(this),e.__classPrivateFieldGet(this,o,"f").call(this,D(this.state)),this.subscribe(e.__classPrivateFieldGet(this,o,"f").bind(this),D)}))}},o=new WeakMap,n=new WeakSet,r=function(){this.tenantAdminLinkSSODriver=new s.LinkDriver((()=>{var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('descope-link[data-id="tenant-admin-link-sso"]')}),{logger:this.logger})},l}));var $;!function(e){e.TEXT="text",e.NUMBER="number",e.BOOLEAN="boolean",e.SINGLE_SELECT="singleSelect",e.ARRAY="array",e.DATE="date"}($||($={}));const B=t.createSingletonMixin((a=>{var n,r,l,d,c,h,v,u,_,f,m;return m=class extends(t.compose(j,C,i.loggerMixin,L,i.cookieConfigMixin,i.modalMixin)(a)){constructor(){super(...arguments),n.add(this),r.set(this,{}),l.set(this,{}),d.set(this,{}),c.set(this,{}),u.set(this,t.withMemCache((t=>{var i;const a=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelectorAll('descope-user-attribute[data-id^="customAttributes."]');Array.from(a).forEach((i=>{const a=i.getAttribute("data-id").replace("customAttributes.",""),r=i.getAttribute("data-type")||$.TEXT,o=t[a],l=new s.UserAttributeDriver(i,{logger:this.logger});l.value=((e,t)=>e===$.DATE&&t?new Date(t).toLocaleString():e===$.BOOLEAN&&void 0!==t?t?"True":"False":(t||"").toString())(r,o),e.__classPrivateFieldGet(this,n,"m",_).call(this,i,a,l,r,a,o),e.__classPrivateFieldGet(this,n,"m",f).call(this,i,a,l)}))})))}onWidgetRootReady(){const t=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.onWidgetRootReady)||void 0===i?void 0:i.call(this),e.__classPrivateFieldGet(this,u,"f").call(this,W(this.state)),this.subscribe(e.__classPrivateFieldGet(this,u,"f").bind(this),W)}))}},r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,n=new WeakSet,h=function(t,i,s,a){var n,d;const c=i===$.ARRAY?(a||[]).join(","):a;null===(n=e.__classPrivateFieldGet(this,r,"f")[t])||void 0===n||n.setContent(o({projectId:this.projectId,flowId:t,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme,form:JSON.stringify({customAttributes:{[s]:c}})})),null===(d=e.__classPrivateFieldGet(this,l,"f")[t])||void 0===d||d.onSuccess((()=>{var i;null===(i=e.__classPrivateFieldGet(this,r,"f")[t])||void 0===i||i.close(),this.actions.getTenant()}))},v=function(t){var i,s;null===(i=e.__classPrivateFieldGet(this,d,"f")[t])||void 0===i||i.setContent(o({projectId:this.projectId,flowId:t,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme})),null===(s=e.__classPrivateFieldGet(this,c,"f")[t])||void 0===s||s.onSuccess((()=>{var i;null===(i=e.__classPrivateFieldGet(this,d,"f")[t])||void 0===i||i.close(),this.actions.getTenant()}))},_=function(t,i,a,o,d,c){const v=t.getAttribute("edit-flow-id");v&&(e.__classPrivateFieldGet(this,r,"f")[v]=this.createModal({"data-id":`edit-${i}`}),e.__classPrivateFieldGet(this,l,"f")[v]=new s.FlowDriver((()=>{var t,i;return null===(i=null===(t=e.__classPrivateFieldGet(this,r,"f")[v])||void 0===t?void 0:t.ele)||void 0===i?void 0:i.querySelector("descope-wc")}),{logger:this.logger}),e.__classPrivateFieldGet(this,r,"f")[v].afterClose=e.__classPrivateFieldGet(this,n,"m",h).bind(this,v),a.onEditClick((()=>{var t,i;null===(i=null===(t=e.__classPrivateFieldGet(this,r,"f"))||void 0===t?void 0:t[v])||void 0===i||i.open()})),e.__classPrivateFieldGet(this,n,"m",h).call(this,v,o,d,c),this.syncFlowTheme(e.__classPrivateFieldGet(this,l,"f")[v]))},f=function(t,i,a){const r=t.getAttribute("delete-flow-id");r&&(e.__classPrivateFieldGet(this,d,"f")[r]=this.createModal({"data-id":`delete-${i}`}),e.__classPrivateFieldGet(this,c,"f")[r]=new s.FlowDriver((()=>{var t,i;return null===(i=null===(t=e.__classPrivateFieldGet(this,d,"f")[r])||void 0===t?void 0:t.ele)||void 0===i?void 0:i.querySelector("descope-wc")}),{logger:this.logger}),e.__classPrivateFieldGet(this,d,"f")[r].afterClose=e.__classPrivateFieldGet(this,n,"m",v).bind(this,r),a.onDeleteClick((()=>{var t,i;null===(i=null===(t=e.__classPrivateFieldGet(this,d,"f"))||void 0===t?void 0:t[r])||void 0===i||i.open()})),e.__classPrivateFieldGet(this,n,"m",v).call(this,r),this.syncFlowTheme(e.__classPrivateFieldGet(this,c,"f")[r]))},m})),J=t.createSingletonMixin((a=>{var n,r,l,d,c,h,v,u,_,f,m,g;return g=class extends(t.compose(j,C,i.loggerMixin,L,i.cookieConfigMixin,i.modalMixin)(a)){constructor(){super(...arguments),n.add(this),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),m.set(this,t.withMemCache((e=>{this.tenantEmailDomainsDriver.value=e})))}onWidgetRootReady(){const t=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.onWidgetRootReady)||void 0===i?void 0:i.call(this),e.__classPrivateFieldGet(this,n,"m",f).call(this),e.__classPrivateFieldGet(this,n,"m",h).call(this),e.__classPrivateFieldGet(this,n,"m",u).call(this),e.__classPrivateFieldGet(this,m,"f").call(this,O(this.state)),this.subscribe(e.__classPrivateFieldGet(this,m,"f").bind(this),O)}))}},r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,m=new WeakMap,n=new WeakSet,h=function(){this.tenantEmailDomainsDriver.editFlowId&&(e.__classPrivateFieldSet(this,r,this.createModal({"data-id":"edit-tenant-email-domains"}),"f"),e.__classPrivateFieldSet(this,l,new s.FlowDriver((()=>{var t;return null===(t=e.__classPrivateFieldGet(this,r,"f").ele)||void 0===t?void 0:t.querySelector("descope-wc")}),{logger:this.logger}),"f"),e.__classPrivateFieldGet(this,r,"f").afterClose=e.__classPrivateFieldGet(this,n,"m",v).bind(this),e.__classPrivateFieldGet(this,n,"m",v).call(this),this.syncFlowTheme(e.__classPrivateFieldGet(this,l,"f")))},v=function(){e.__classPrivateFieldGet(this,r,"f").setContent(o({projectId:this.projectId,flowId:this.tenantEmailDomainsDriver.editFlowId,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme,form:JSON.stringify({tenantEmailDomains:O(this.state)})})),e.__classPrivateFieldGet(this,l,"f").onSuccess((()=>{e.__classPrivateFieldGet(this,r,"f").close(),this.actions.getTenant()}))},u=function(){this.tenantEmailDomainsDriver.deleteFlowId&&(e.__classPrivateFieldSet(this,d,this.createModal({"data-id":"delete-tenant-email-domains"}),"f"),e.__classPrivateFieldSet(this,c,new s.FlowDriver((()=>{var t;return null===(t=e.__classPrivateFieldGet(this,d,"f").ele)||void 0===t?void 0:t.querySelector("descope-wc")}),{logger:this.logger}),"f"),e.__classPrivateFieldGet(this,d,"f").afterClose=e.__classPrivateFieldGet(this,n,"m",_).bind(this),e.__classPrivateFieldGet(this,n,"m",_).call(this),this.syncFlowTheme(e.__classPrivateFieldGet(this,c,"f")))},_=function(){e.__classPrivateFieldGet(this,d,"f").setContent(o({projectId:this.projectId,flowId:this.tenantEmailDomainsDriver.deleteFlowId,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme})),e.__classPrivateFieldGet(this,c,"f").onSuccess((()=>{e.__classPrivateFieldGet(this,d,"f").close(),this.actions.getTenant()}))},f=function(){this.tenantEmailDomainsDriver=new s.UserAttributeDriver((()=>{var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('descope-user-attribute[data-id="tenant-email-domains-edit"]')}),{logger:this.logger}),this.tenantEmailDomainsDriver.onEditClick((()=>{var t;null===(t=e.__classPrivateFieldGet(this,r,"f"))||void 0===t||t.open()})),this.tenantEmailDomainsDriver.onDeleteClick((()=>{var t;null===(t=e.__classPrivateFieldGet(this,d,"f"))||void 0===t||t.open()}))},g})),H=t.createSingletonMixin((a=>{var n,r,l,d,c,h,v,u,_,f,m,g;return g=class extends(t.compose(j,C,i.loggerMixin,L,i.cookieConfigMixin,i.modalMixin)(a)){constructor(){super(...arguments),n.add(this),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),m.set(this,t.withMemCache((e=>{this.tenantSSOExclusionsDriver.value=e})))}onWidgetRootReady(){const t=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.onWidgetRootReady)||void 0===i?void 0:i.call(this),e.__classPrivateFieldGet(this,n,"m",f).call(this),e.__classPrivateFieldGet(this,n,"m",h).call(this),e.__classPrivateFieldGet(this,n,"m",u).call(this),e.__classPrivateFieldGet(this,m,"f").call(this,A(this.state)),this.subscribe(e.__classPrivateFieldGet(this,m,"f").bind(this),A)}))}},r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,m=new WeakMap,n=new WeakSet,h=function(){this.tenantSSOExclusionsDriver.editFlowId&&(e.__classPrivateFieldSet(this,r,this.createModal({"data-id":"edit-tenant-sso-exclusions"}),"f"),e.__classPrivateFieldSet(this,l,new s.FlowDriver((()=>{var t;return null===(t=e.__classPrivateFieldGet(this,r,"f").ele)||void 0===t?void 0:t.querySelector("descope-wc")}),{logger:this.logger}),"f"),e.__classPrivateFieldGet(this,r,"f").afterClose=e.__classPrivateFieldGet(this,n,"m",v).bind(this),e.__classPrivateFieldGet(this,n,"m",v).call(this),this.syncFlowTheme(e.__classPrivateFieldGet(this,l,"f")))},v=function(){e.__classPrivateFieldGet(this,r,"f").setContent(o({projectId:this.projectId,flowId:this.tenantSSOExclusionsDriver.editFlowId,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme,form:JSON.stringify({enforceSSOExclusions:A(this.state)})})),e.__classPrivateFieldGet(this,l,"f").onSuccess((()=>{e.__classPrivateFieldGet(this,r,"f").close(),this.actions.getTenant()}))},u=function(){this.tenantSSOExclusionsDriver.deleteFlowId&&(e.__classPrivateFieldSet(this,d,this.createModal({"data-id":"delete-tenant-sso-exclusions"}),"f"),e.__classPrivateFieldSet(this,c,new s.FlowDriver((()=>{var t;return null===(t=e.__classPrivateFieldGet(this,d,"f").ele)||void 0===t?void 0:t.querySelector("descope-wc")}),{logger:this.logger}),"f"),e.__classPrivateFieldGet(this,d,"f").afterClose=e.__classPrivateFieldGet(this,n,"m",_).bind(this),e.__classPrivateFieldGet(this,n,"m",_).call(this),this.syncFlowTheme(e.__classPrivateFieldGet(this,c,"f")))},_=function(){e.__classPrivateFieldGet(this,d,"f").setContent(o({projectId:this.projectId,flowId:this.tenantSSOExclusionsDriver.deleteFlowId,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme})),e.__classPrivateFieldGet(this,c,"f").onSuccess((()=>{e.__classPrivateFieldGet(this,d,"f").close(),this.actions.getTenant()}))},f=function(){this.tenantSSOExclusionsDriver=new s.UserAttributeDriver((()=>{var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('descope-user-attribute[data-id="tenant-force-sso-exclusions-edit"]')}),{logger:this.logger}),this.tenantSSOExclusionsDriver.onEditClick((()=>{var t;null===(t=e.__classPrivateFieldGet(this,r,"f"))||void 0===t||t.open()})),this.tenantSSOExclusionsDriver.onDeleteClick((()=>{var t;null===(t=e.__classPrivateFieldGet(this,d,"f"))||void 0===t||t.open()}))},g})),V=t.createSingletonMixin((a=>{var n,r,l,d,c,h,v,u,_,f,m,g;return g=class extends(t.compose(j,C,i.loggerMixin,L,i.cookieConfigMixin,i.modalMixin)(a)){constructor(){super(...arguments),n.add(this),r.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),m.set(this,t.withMemCache((e=>{this.tenantEnforceSSODriver.value=e})))}onWidgetRootReady(){const t=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.onWidgetRootReady)||void 0===i?void 0:i.call(this),e.__classPrivateFieldGet(this,n,"m",f).call(this),e.__classPrivateFieldGet(this,n,"m",h).call(this),e.__classPrivateFieldGet(this,n,"m",u).call(this),e.__classPrivateFieldGet(this,m,"f").call(this,T(this.state)),this.subscribe(e.__classPrivateFieldGet(this,m,"f").bind(this),T)}))}},r=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,m=new WeakMap,n=new WeakSet,h=function(){this.tenantEnforceSSODriver.editFlowId&&(e.__classPrivateFieldSet(this,r,this.createModal({"data-id":"edit-tenant-enforce-sso"}),"f"),e.__classPrivateFieldSet(this,l,new s.FlowDriver((()=>{var t;return null===(t=e.__classPrivateFieldGet(this,r,"f").ele)||void 0===t?void 0:t.querySelector("descope-wc")}),{logger:this.logger}),"f"),e.__classPrivateFieldGet(this,r,"f").afterClose=e.__classPrivateFieldGet(this,n,"m",v).bind(this),e.__classPrivateFieldGet(this,n,"m",v).call(this),this.syncFlowTheme(e.__classPrivateFieldGet(this,l,"f")))},v=function(){e.__classPrivateFieldGet(this,r,"f").setContent(o({projectId:this.projectId,flowId:this.tenantEnforceSSODriver.editFlowId,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme,form:JSON.stringify({enforceSSO:T(this.state)})})),e.__classPrivateFieldGet(this,l,"f").onSuccess((()=>{e.__classPrivateFieldGet(this,r,"f").close(),this.actions.getTenant()}))},u=function(){this.tenantEnforceSSODriver.deleteFlowId&&(e.__classPrivateFieldSet(this,d,this.createModal({"data-id":"delete-tenant-enforce-sso"}),"f"),e.__classPrivateFieldSet(this,c,new s.FlowDriver((()=>{var t;return null===(t=e.__classPrivateFieldGet(this,d,"f").ele)||void 0===t?void 0:t.querySelector("descope-wc")}),{logger:this.logger}),"f"),e.__classPrivateFieldGet(this,d,"f").afterClose=e.__classPrivateFieldGet(this,n,"m",_).bind(this),e.__classPrivateFieldGet(this,n,"m",_).call(this),this.syncFlowTheme(e.__classPrivateFieldGet(this,c,"f")))},_=function(){e.__classPrivateFieldGet(this,d,"f").setContent(o({projectId:this.projectId,flowId:this.tenantEnforceSSODriver.deleteFlowId,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme})),e.__classPrivateFieldGet(this,c,"f").onSuccess((()=>{e.__classPrivateFieldGet(this,d,"f").close(),this.actions.getTenant()}))},f=function(){this.tenantEnforceSSODriver=new s.UserAttributeDriver((()=>{var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('descope-user-attribute[data-id="tenant-enforce-sso-edit"]')}),{logger:this.logger}),this.tenantEnforceSSODriver.onEditClick((()=>{var t;null===(t=e.__classPrivateFieldGet(this,r,"f"))||void 0===t||t.open()})),this.tenantEnforceSSODriver.onDeleteClick((()=>{var t;null===(t=e.__classPrivateFieldGet(this,d,"f"))||void 0===t||t.open()}))},g})),z=t.createSingletonMixin((a=>{var n,r,l,d,c,h,v,u;return u=class extends(t.compose(j,C,i.loggerMixin,L,i.cookieConfigMixin,i.modalMixin)(a)){constructor(){super(...arguments),n.add(this),r.set(this,void 0),l.set(this,void 0),v.set(this,t.withMemCache((e=>{this.tenantNameDriver.value=e})))}onWidgetRootReady(){const t=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return e.__awaiter(this,void 0,void 0,(function*(){var i;yield null===(i=t.onWidgetRootReady)||void 0===i?void 0:i.call(this),e.__classPrivateFieldGet(this,n,"m",h).call(this),e.__classPrivateFieldGet(this,n,"m",d).call(this),e.__classPrivateFieldGet(this,v,"f").call(this,E(this.state)),this.subscribe(e.__classPrivateFieldGet(this,v,"f").bind(this),E)}))}},r=new WeakMap,l=new WeakMap,v=new WeakMap,n=new WeakSet,d=function(){this.tenantNameDriver.editFlowId&&(e.__classPrivateFieldSet(this,r,this.createModal({"data-id":"tenant-profile-set-name"}),"f"),e.__classPrivateFieldSet(this,l,new s.FlowDriver((()=>{var t;return null===(t=e.__classPrivateFieldGet(this,r,"f").ele)||void 0===t?void 0:t.querySelector("descope-wc")}),{logger:this.logger}),"f"),e.__classPrivateFieldGet(this,r,"f").afterClose=e.__classPrivateFieldGet(this,n,"m",c).bind(this),e.__classPrivateFieldGet(this,n,"m",c).call(this),this.syncFlowTheme(e.__classPrivateFieldGet(this,l,"f")))},c=function(){e.__classPrivateFieldGet(this,r,"f").setContent(o({projectId:this.projectId,flowId:this.tenantNameDriver.editFlowId,tenant:this.tenantId,baseUrl:this.baseUrl,baseStaticUrl:this.baseStaticUrl,baseCdnUrl:this.baseCdnUrl,refreshCookieName:this.refreshCookieName,theme:this.theme,form:JSON.stringify({tenantName:E(this.state)})})),e.__classPrivateFieldGet(this,l,"f").onSuccess((()=>{e.__classPrivateFieldGet(this,r,"f").close(),this.actions.getTenant()}))},h=function(){this.tenantNameDriver=new s.UserAttributeDriver((()=>{var e;return null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('descope-user-attribute[data-id="tenant-name-edit"]')}),{logger:this.logger}),this.tenantNameDriver.onEditClick((()=>{var t;null===(t=e.__classPrivateFieldGet(this,r,"f"))||void 0===t||t.open()}))},u})),X=t.createSingletonMixin((s=>class extends(t.compose(i.debuggerMixin,i.themeMixin,U,L,z,J,H,V,B,q)(s)){init(){const t=Object.create(null,{init:{get:()=>super.init}});return e.__awaiter(this,void 0,void 0,(function*(){var e;yield null===(e=t.init)||void 0===e?void 0:e.call(this)}))}})),Y=t.compose((t=>class extends(X(t)){init(){const t=Object.create(null,{init:{get:()=>super.init}});return e.__awaiter(this,void 0,void 0,(function*(){var e;yield null===(e=t.init)||void 0===e?void 0:e.call(this);(customElements.get("descope-wc")||(yield import("@descope/web-component").then((e=>e.default)))).sdkConfigOverrides={baseHeaders:{"x-descope-widget-type":"tenant-profile-widget","x-descope-widget-id":this.getAttribute("widget-id"),"x-descope-widget-version":"0.2.11"}}}))}}))(HTMLElement);customElements.define("descope-tenant-profile-widget",Y),module.exports=Y;
//# sourceMappingURL=index.js.map
