{"version":3,"file":"flowInputs.js","sources":["../../../src/lib/helpers/flowInputs.ts"],"sourcesContent":["const flattenFormObject = (obj: any, prefix = '') =>\n  Object.keys(obj).reduce((res, el) => {\n    if (Array.isArray(obj[el])) {\n      return {\n        ...res,\n        [el]: {\n          value: obj[el].map((item: any) =>\n            typeof item === 'object' && item !== null\n              ? flattenFormObject(item)\n              : item,\n          ),\n        },\n      };\n    }\n    if (typeof obj[el] === 'object' && obj[el] !== null && !obj[el]?.value) {\n      return { ...res, ...flattenFormObject(obj[el], `${prefix + el}.`) };\n    }\n    const v = typeof obj[el] === 'object' ? obj[el] : { value: obj[el] };\n    const fl = { ...res, [prefix + el]: v, [`form.${prefix}${el}`]: v };\n    if (el === 'displayName') {\n      return { ...fl, [`${prefix}fullName`]: v, [`form.${prefix}fullName`]: v };\n    }\n    return fl;\n  }, []);\n\nexport const transformFlowInputFormData = (formData: string) => {\n  try {\n    return flattenFormObject(JSON.parse(formData));\n  } catch (e) {\n    return {};\n  }\n};\n\nexport const extractNestedAttribute = (\n  formData: Record<string, string | Record<string, string> | string[]>,\n  attr: string,\n) =>\n  Object.fromEntries(\n    Object.entries(formData).map(([name, values]) => [name, values[attr]]),\n  );\n"],"names":["flattenFormObject","obj","prefix","Object","keys","reduce","res","el","Array","isArray","assign","value","map","item","_a","v","fl","transformFlowInputFormData","formData","JSON","parse","e","extractNestedAttribute","attr","fromEntries","entries","name","values"],"mappings":"AAAA,MAAMA,EAAoB,CAACC,EAAUC,EAAS,KAC5CC,OAAOC,KAAKH,GAAKI,QAAO,CAACC,EAAKC,WAC5B,GAAIC,MAAMC,QAAQR,EAAIM,IACpB,OAAAJ,OAAAO,OAAAP,OAAAO,OAAA,CAAA,EACKJ,GAAG,CACNC,CAACA,GAAK,CACJI,MAAOV,EAAIM,GAAIK,KAAKC,GACF,iBAATA,GAA8B,OAATA,EACxBb,EAAkBa,GAClBA,OAKZ,GAAuB,iBAAZZ,EAAIM,IAAgC,OAAZN,EAAIM,MAA0B,QAATO,EAAAb,EAAIM,UAAK,IAAAO,OAAA,EAAAA,EAAAH,OAC/D,OAAAR,OAAAO,OAAAP,OAAAO,OAAA,CAAA,EAAYJ,GAAQN,EAAkBC,EAAIM,GAAK,GAAGL,EAASK,OAE7D,MAAMQ,EAAuB,iBAAZd,EAAIM,GAAmBN,EAAIM,GAAM,CAAEI,MAAOV,EAAIM,IACzDS,iCAAUV,GAAG,CAAE,CAACJ,EAASK,GAAKQ,EAAG,CAAC,QAAQb,IAASK,KAAOQ,IAChE,MAAW,gBAAPR,EACFJ,OAAAO,OAAAP,OAAAO,OAAA,CAAA,EAAYM,GAAI,CAAA,CAAC,GAAGd,aAAmBa,EAAG,CAAC,QAAQb,aAAmBa,IAEjEC,CAAE,GACR,IAEQC,EAA8BC,IACzC,IACE,OAAOlB,EAAkBmB,KAAKC,MAAMF,GACrC,CAAC,MAAOG,GACP,MAAO,EACR,GAGUC,EAAyB,CACpCJ,EACAK,IAEApB,OAAOqB,YACLrB,OAAOsB,QAAQP,GAAUN,KAAI,EAAEc,EAAMC,KAAY,CAACD,EAAMC,EAAOJ"}