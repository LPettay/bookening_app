
      /**
       * @descope/audit-management-widget v0.5.9
       */
      this["descope-audit-management-widget"]=function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)};function t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function n(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function r(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function o(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function i(...e){return t=>e.reduce(((e,t)=>t(e)),t)}"function"==typeof SuppressedError&&SuppressedError;const s=e=>{const t=document.createElement("template");return t.innerHTML=e,t},a=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),c=(e,t=500)=>{let n;return function(...r){clearTimeout(n),n=setTimeout((()=>e.apply(this,r)),t)}},l=e=>{const t=Symbol((e=>{const t=e.toString();let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n&=n;return n.toString(16)})(e));return n=>{if(n[t])return n;const r=e(n);return r[t]=!0,r}};var u,d,h,p;function f(e,t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r+=1){const o=n[r],i=e[o],s=t[o];if(null===i||null===s){if(i!==s)return!1}else if("object"==typeof i&&"object"==typeof s){if(!f(i,s))return!1}else if(i!==s)return!1}return!0}let g=class{constructor(e={},{forceUpdate:t=!1}={}){u.set(this,void 0),d.set(this,{}),h.set(this,0),p.set(this,!0),this.update=e=>{const t="function"==typeof e?e(r(this,u,"f")):e,n=Object.assign(Object.assign({},r(this,u,"f")),t);if(r(this,p,"f")||!f(r(this,u,"f"),n)){const e=r(this,u,"f");o(this,u,n,"f"),Object.freeze(r(this,u,"f")),setTimeout((()=>{Object.values(r(this,d,"f")).forEach((t=>t(n,e,((e,t)=>n=>e[n]!==t[n])(n,e))))}),0)}},o(this,u,e,"f"),o(this,p,t,"f")}get current(){return Object.assign({},r(this,u,"f"))}subscribe(e){return o(this,h,r(this,h,"f")+1,"f"),r(this,d,"f")[r(this,h,"f")]=e,r(this,h,"f").toString()}unsubscribe(e){const t=!!r(this,d,"f")[e];return t&&delete r(this,d,"f")[e],t}unsubscribeAll(){return o(this,d,{},"f"),!0}};u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap;const m=["error","warn","info","debug"],v=l((e=>{var t,n,i,s;return s=class extends e{constructor(){super(...arguments),t.add(this),n.set(this,r(this,t,"m",i).call(this,console))}set logger(e){o(this,n,r(this,t,"m",i).call(this,e||console),"f")}get logger(){return r(this,n,"f")}onLogEvent(e,t){}},n=new WeakMap,t=new WeakSet,i=function(e){return m.reduce(((t,n)=>(t[n]=(...t)=>{var r;this.onLogEvent(n,t),null===(r=e[n])||void 0===r||r.call(e,...t)},t)),{})},s})),y="undefined"!=typeof localStorage,w=y&&localStorage.getItem("base.content.url")||"",b=(e,t)=>!t&&`${e} cannot be empty, please make sure to set this attribute`,k=l((e=>{var t,n;return n=class extends e{constructor(){super(...arguments),t.set(this,!0)}connectedCallback(){var e,n;null===(e=super.connectedCallback)||void 0===e||e.call(this),(null===(n=this.shadowRoot)||void 0===n?void 0:n.isConnected)&&r(this,t,"f")&&(o(this,t,!1,"f"),this.init())}async init(){}},t=new WeakMap,n})),I=l((e=>{var t,n;const o=i(v,k)(e);return n=class extends o{constructor(){super(...arguments),t.set(this,{})}async init(){var e,n,o;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),n=this,o=e=>{var n;null===(n=r(this,t,"f")[e])||void 0===n||n.forEach((t=>{t(e,this.getAttribute(e))}))},Array.from(n.attributes).forEach((e=>o(e.name))),new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&o(e.attributeName)}))})).observe(n,{attributes:!0})}observeAttribute(e,n){r(this,t,"f")[e]||(r(this,t,"f")[e]=[]);const o=r(this,t,"f")[e].push(n);return()=>r(this,t,"f")[e].splice(o,1)}observeAttributes(e,t){const n=e.reduce(((e,n)=>(e.push(this.observeAttribute(n,t)),e)),[]);return()=>n.forEach((e=>e()))}},t=new WeakMap,n})),S=e=>t=>{var n,o,s;const a=i(v,k,I)(t),c=Object.keys(e);return s=class extends a{constructor(...e){super(...e),n.add(this),this.observeAttributes(c,r(this,n,"m",o).bind(this))}async init(){var e;c.forEach((e=>r(this,n,"m",o).call(this,e,this.getAttribute(e)))),await(null===(e=super.init)||void 0===e?void 0:e.call(this))}},n=new WeakSet,o=function(t,n){const r=e[t],o="function"==typeof r?r(t,n):r;o&&this.logger.error(o)},s};S.missingAttrValidator=b;const O=l((e=>{const t=i(S({"project-id":b}))(e);return class extends t{get projectId(){return this.getAttribute("project-id")}}})),j=l((e=>class extends e{get baseUrl(){return this.getAttribute("base-url")||""}})),x="Trying the next fallback URL...",C=async(e,t,{logger:n}={})=>{try{return await fetch(e,t)}catch(r){return null==n||n.debug(`Network error fetching URL ${e} [${r.message}], retrying...`),fetch(e,t)}};function E({projectId:e,filename:t,assetsFolder:n="v2-beta",baseUrl:r="https://static.descope.com/pages"}){const o=new URL(r);return o.pathname=((...e)=>e.join("/").replace(/\/+/g,"/"))(o.pathname,e,n,t),o.baseUrl=r,o}const _=l((e=>{var t,n,s,a,c;const l=i(v,O,j)(e);return c=class extends l{constructor(){super(...arguments),t.add(this),n.set(this,void 0),s.set(this,void 0)}async fetchStaticResource(e,n){const i=r(this,t,"m",a).call(this,e),c=Array.isArray(i)?e=>{if(e!==i.length-1){const{baseUrl:t}=i[e];o(this,s,t,"f")}}:null;try{const e=await(async(e,t,{logger:n,onSuccess:r}={})=>{const o=Array.isArray(e)?e:[e];for(let e=0;e<o.length;e++){const i=o[e],s=e===o.length-1;try{const o=await C(i.toString(),t,{logger:n});if(o.ok)return null==r||r(e),null==n||n.debug(`Successfully fetched URL ${i}`),o;const a=`Error fetching URL ${i} [${o.status}]`;if(s)throw new Error(a);null==n||n.debug(`${a}. ${x}`)}catch(e){const t=`Error fetching URL ${i} [${e.message}]`;if(s)throw new Error(t);null==n||n.debug(`${t}. ${x}`)}}})(i,{cache:"default"},{logger:this.logger,onSuccess:c});return{body:await e[n](),headers:Object.fromEntries(e.headers.entries())}}catch(e){this.logger.error(e.message)}}get baseStaticUrl(){return this.getAttribute("base-static-url")||""}},n=new WeakMap,s=new WeakMap,t=new WeakSet,a=function(e){const t=w||this.baseStaticUrl;if(t)return E({projectId:this.projectId,filename:e,baseUrl:t});const i=r(this,n,"f")!==this.baseUrl,a=i&&!!this.baseUrl;i&&(o(this,n,this.baseUrl,"f"),o(this,s,void 0,"f"));const c=E({projectId:this.projectId,filename:e,baseUrl:r(this,s,"f")});if(!a)return c;return[E({projectId:this.projectId,filename:e,baseUrl:this.baseUrl+"/pages"}),c]},c})),A=l((e=>{var t,n;const o=i(S({"project-id":b}))(e);return n=class extends o{constructor(){super(...arguments),t.set(this,new Map)}onReset(e,n){if(r(this,t,"f").has(e))throw new Error(`Callback for sectionId ${e} already exists`);return r(this,t,"f").set(e,n),()=>{r(this,t,"f").delete(e)}}async reset(...e){0===e.length?await Promise.all(Array.from(r(this,t,"f").values()).map((e=>e()))):await Promise.all(e.map((e=>{var n;if(!r(this,t,"f").has(e))throw new Error(`Callback for sectionId ${e} does not exist`);return null===(n=r(this,t,"f").get(e))||void 0===n?void 0:n()})))}},t=new WeakMap,n})),R=l((e=>{var t,n,s,a,c;const l=i(_,A,k)(e);return c=class extends l{constructor(){super(...arguments),t.add(this),s.set(this,void 0),a.set(this,(async()=>{try{const{body:e,headers:t}=await this.fetchStaticResource("config.json","json");return{projectConfig:e,executionContext:{geo:t["x-geo"]}}}catch(e){this.logger.error("Cannot fetch config file","make sure that your projectId & flowId are correct")}}))}async init(){await super.init(),this.onReset("config",r(this,t,"m",n).bind(this))}get config(){return r(this,s,"f")||o(this,s,r(this,a,"f").call(this),"f"),r(this,s,"f")}},s=new WeakMap,a=new WeakMap,t=new WeakSet,n=function(){o(this,s,void 0,"f")},c})),T=l((e=>{var t,n,s,a,c,l,u;return u=class extends(i(k,v)(e)){constructor(){super(...arguments),t.add(this),n.set(this,void 0),this.attributeChangedCallback=(e,n,o)=>{var i;null===(i=super.attributeChangedCallback)||void 0===i||i.call(this,e,n,o),"debug"===e&&r(this,t,"m",c).call(this)}}get debug(){return"true"===this.getAttribute("debug")}onLogEvent(e,n){var o;null===(o=super.onLogEvent)||void 0===o||o.call(this,e,n),"error"===e&&r(this,t,"m",l).call(this,n[0]||"Error",n[1])}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),r(this,t,"m",c).call(this)}},n=new WeakMap,t=new WeakSet,s=function(){var e;null===(e=r(this,n,"f"))||void 0===e||e.remove(),o(this,n,null,"f")},a=async function(){o(this,n,document.createElement("descope-debugger"),"f"),Object.assign(r(this,n,"f").style,{position:"fixed",top:"0",right:"0",height:"100vh",width:"100vw",pointerEvents:"none",zIndex:99999}),await Promise.resolve().then((function(){return xs})),document.body.appendChild(r(this,n,"f"))},c=function(){this.debug?r(this,t,"m",a).call(this):r(this,t,"m",s).call(this)},l=function(e,t){var o;e&&(null===(o=r(this,n,"f"))||void 0===o||o.updateData({title:e,description:t}))},u})),U=["https://descopecdn.com","https://static.descope.com","https://cdn.jsdelivr.net"],$=e=>{let t=0;const n=e.toString();for(let e=0;e<n.length;e++){t=(t<<5)-t+n.charCodeAt(e),t|=0}return`${Math.abs(t).toString()}`},P=(e,t)=>new Promise(((n,r)=>{const o=(e=>{const t=document.createElement("script");return t.id=e,t})(e);o.onerror=e=>{o.setAttribute("status","error"),r(e)},o.onload=()=>{o.setAttribute("status","loaded"),n(o)},o.src=t.toString(),document.body.appendChild(o)})),D=e=>"loaded"===e.getAttribute("status")?Promise.resolve(e):(e=>"error"===e.getAttribute("status"))(e)?Promise.reject():new Promise(((t,n)=>{e.addEventListener("load",(()=>{t(e)})),e.addEventListener("error",(e=>{n(e)}))})),L=l((e=>{const t=i(v)(e);return class extends t{get baseCdnUrl(){return this.getAttribute("base-cdn-url")||""}injectNpmLib(e,t,n="",r=[]){return this.logger.debug(`Injecting npm lib: "${e}" with version: "${t}"`),(async(e,t)=>{for(const r of e){const{id:e,url:o}=r,i=(n=e,document.querySelector(`script#${n}`));if(i)try{return await D(i),r}catch(e){t(r,!0)}else try{return await P(e,o),r}catch(e){t(r,!1)}}var n;throw new Error("All scripts failed to load")})(((e,t,n,r="")=>e.reduce(((e,o)=>{const i=o;if(!i)return e;let s;try{s=new URL(i)}catch(e){throw new Error(`Invalid URL: ${i}`)}return"/"!==s.pathname||(s.pathname=`/npm/${t}@${n}/${r}`),[...e,{url:s,id:`npmlib-${t.replaceAll("@","").replaceAll("/","_")}-${$(s)}`}]}),[]))([...r,this.baseCdnUrl,...U],e,t,n),((e,t)=>{t?this.logger.error(`Existing script cannot be loaded: "${e.url}"`):this.logger.error(`Cannot load script from URL, Make sure this URL is valid and return the correct script: "${e.url}"`)}))}}})),M="base.ui.components.url",N=y&&localStorage.getItem(M),W=l((e=>{var t,n,s,a,c,l;const u=i(v,R,L)(e);return l=class extends u{constructor(){super(...arguments),t.add(this),s.set(this,void 0)}get descopeUi(){return r(this,s,"f")||o(this,s,r(this,t,"m",c).call(this),"f"),r(this,s,"f")}async loadDescopeUiComponents(e){const n=Array.isArray(e)?e:(e=>[...Array.from(e.content.querySelectorAll("*")).reduce(((e,t)=>t.localName.startsWith("descope-")?e.add(t.localName):e),new Set)])(e);return Promise.all(n.map((e=>r(this,t,"m",a).call(this,e))))}},s=new WeakMap,t=new WeakSet,n=async function(){var e;const t=await this.config,n=null===(e=null==t?void 0:t.projectConfig)||void 0===e?void 0:e.componentsVersion;return n?this.logger.debug(`Got component version "${n}"`):this.logger.error("Could not get components version"),n},a=async function(e){if(!!customElements.get(e))return void this.logger.debug(`Loading component "${e}" is skipped as it is already defined`);const t=await this.descopeUi;if(t[e])try{return await t[e]()}catch(t){if("NotSupportedError"!==t.name)throw t;console.debug(`Encountered an error while attempting to define the "${e}" component, it is likely that this component is already defined`)}else this.logger.error(`Cannot load UI component "${e}"`,`Descope UI does not have a component named "${e}", available components are: "${Object.keys(t).join(", ")}"`)},c=async function(){if(globalThis.DescopeUI)return globalThis.DescopeUI;try{return await this.injectNpmLib("@descope/web-components-ui",await r(this,t,"m",n).call(this),"dist/umd/index.js",[N]),this.logger.debug("DescopeUI was loaded"),globalThis.DescopeUI}catch(e){throw this.logger.error(e),new Error("DescopeUI was not loaded")}},l})),q=l((e=>{var t,n,o;const s=i(k,I)(e);return o=class extends s{constructor(){super(...arguments),t.add(this)}get nonce(){return this.getAttribute("nonce")||""}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),this.observeAttribute("nonce",r(this,t,"m",n).bind(this)),r(this,t,"m",n).call(this)}},t=new WeakSet,n=function(){window.DESCOPE_NONCE=this.nonce},o}));class F{constructor(e,t,{prepend:n=!1}={}){this.styleEle=document.createElement("style"),this.styleEle.setAttribute("nonce",t),this.ref=e,this.ref&&(n?this.ref.prepend(this.styleEle):this.ref.append(this.styleEle))}replaceSync(e){this.styleEle.textContent=e}get cssRules(){var e;return null===(e=this.styleEle.sheet)||void 0===e?void 0:e.cssRules}}const z=l((e=>{const t=i(q)(e);return class extends t{injectStyle(e,{prepend:t=!1}={}){let n;try{n=new CSSStyleSheet}catch(e){n=new F(this.shadowRoot,this.nonce,{prepend:t})}if(e&&n.replaceSync(e),n instanceof CSSStyleSheet){const e=this.shadowRoot;if(e&&"adoptedStyleSheets"in e){const r=[...e.adoptedStyleSheets||[]];r[t?"unshift":"push"](n),e.adoptedStyleSheets=r}}return n}}})),J="content-root",H="root",K=l((e=>{const t=i(z)(e);return class extends t{constructor(...e){var t,n;super(...e),this.attachShadow({mode:"open"}).innerHTML=`\n          <div id="${H}">\n            <div id="${J}"></div>\n          </div>\n          `,this.injectStyle(`\n            #${H}, #${J} {\n              height: 100%;\n            }\n            #${H} {\n              position: relative;\n              height: fit-content;\n            }\n          `),this.contentRootElement=null===(t=this.shadowRoot)||void 0===t?void 0:t.getElementById(J),this.rootElement=null===(n=this.shadowRoot)||void 0===n?void 0:n.getElementById(H)}}})),V="descope-modal";var B,X;let Y=class{constructor(e,t){B.set(this,void 0),this.nodeName="",o(this,B,e,"f"),this.logger=t.logger}get asyncEle(){return(async e=>new Promise((t=>{const n=setInterval((()=>{const r="function"==typeof e?e():e;r&&(clearInterval(n),t(r))}),100);setTimeout((()=>{clearInterval(n),t(null)}),1e3)})))(r(this,B,"f"))}get ele(){var e,t;const n="function"==typeof r(this,B,"f")?r(this,B,"f").call(this):r(this,B,"f");return n?(null==n?void 0:n.localName)!==this.nodeName?(null===(t=this.logger)||void 0===t||t.debug(`node name do not match, expected "${this.nodeName}", received "${n.localName}" `,Error()),null):n:(null===(e=this.logger)||void 0===e||e.debug(`Driver element is not available for ${this.nodeName}`,new Error),null)}};B=new WeakMap;const G=/^descope-grid-([^-]+)-column$/,Z={text:class extends Y{constructor(){super(...arguments),this.nodeName="descope-grid-text-column"}onSortDirectionChange(e){var t;return null===(t=this.ele)||void 0===t||t.addEventListener("direction-changed",e),()=>{var t;return null===(t=this.ele)||void 0===t?void 0:t.removeEventListener("selected-items-changed",e)}}},custom:class extends Y{constructor(){super(...arguments),this.nodeName="descope-grid-custom-column"}onSortDirectionChange(e){var t;return null===(t=this.ele)||void 0===t||t.addEventListener("direction-changed",e),()=>{var t;return null===(t=this.ele)||void 0===t?void 0:t.removeEventListener("selected-items-changed",e)}}}};let Q=class extends Y{constructor(){super(...arguments),this.nodeName="descope-grid",X.set(this,void 0)}onSelectedItemsChange(e){var t;return null===(t=this.ele)||void 0===t||t.addEventListener("selected-items-changed",e),()=>{var t;return null===(t=this.ele)||void 0===t?void 0:t.removeEventListener("selected-items-changed",e)}}get ele(){return super.ele}get data(){var e;return null===(e=this.ele)||void 0===e?void 0:e.data}set data(e){this.ele&&(this.ele.data=e)}get columns(){return this.ele?Array.from(this.ele.children).reduce(((e,t)=>{var n;const r=null===(n=G.exec(t.localName))||void 0===n?void 0:n[1],o=Z[r];return o?(e.push(new o(t,{logger:this.logger})),e):e}),[]):[]}filterColumns(e){var t,n;const o=null===(t=this.ele.columns)||void 0===t?void 0:t.filter(e);o&&this.ele.columns&&(a(o,this.ele.columns)||(this.ele.columns=o,null===(n=r(this,X,"f"))||void 0===n||n.call(this,o)))}onColumnsChange(e){o(this,X,e,"f")}set renderColumn(e){this.ele.renderColumn=e}};var ee;X=new WeakMap;let te=class extends Y{constructor(){super(...arguments),ee.set(this,void 0),this.nodeName="descope-modal"}close(){var e,t;null===(e=this.ele)||void 0===e||e.removeAttribute("opened"),null===(t=this.afterClose)||void 0===t||t.call(this)}async open(){var e,t;await(null===(e=this.beforeOpen)||void 0===e?void 0:e.call(this)),null===(t=this.ele)||void 0===t||t.setAttribute("opened","true")}reset(){var e;this.ele&&(this.ele.innerHTML=""),r(this,ee,"f")&&(null===(e=this.ele)||void 0===e||e.append(r(this,ee,"f").content.cloneNode(!0)))}setContent(e){o(this,ee,e,"f"),this.reset()}remove(){var e;null===(e=this.ele)||void 0===e||e.remove()}};ee=new WeakMap;let ne=class extends Y{constructor(){super(...arguments),this.nodeName="descope-notification"}close(){var e;null===(e=this.ele)||void 0===e||e.removeAttribute("opened")}show(){var e;null===(e=this.ele)||void 0===e||e.setAttribute("opened","true")}setContent(e){this.ele.innerHTML="",this.ele.appendChild(e.content.cloneNode(!0))}remove(){var e;null===(e=this.ele)||void 0===e||e.remove()}},re=class extends Y{constructor(){super(...arguments),this.nodeName="descope-combo-box"}onInput(e){var t;return null===(t=this.ele)||void 0===t||t.addEventListener("input",e),()=>{var t;return null===(t=this.ele)||void 0===t?void 0:t.removeEventListener("input",e)}}get value(){var e;return null===(e=this.ele)||void 0===e?void 0:e.value}set value(e){this.ele&&(this.ele.value=e)}async setData(e){var t;null===(t=await this.asyncEle)||void 0===t||t.setAttribute("data",JSON.stringify(e.sort()))}},oe=class extends Y{constructor(){super(...arguments),this.nodeName="descope-text-field"}onInput(e){var t;return null===(t=this.ele)||void 0===t||t.addEventListener("input",e),()=>{var t;return null===(t=this.ele)||void 0===t?void 0:t.removeEventListener("input",e)}}get value(){var e;return null===(e=this.ele)||void 0===e?void 0:e.value}set value(e){this.ele&&(this.ele.value=e)}disable(){var e;null===(e=this.ele)||void 0===e||e.setAttribute("disabled","true")}enable(){var e;null===(e=this.ele)||void 0===e||e.removeAttribute("disabled")}};l((e=>{var t,n;const o=i(k,K,W)(e);return n=class extends o{constructor(){super(...arguments),t.set(this,(()=>{const e=this.loadDescopeUiComponents.bind(this);return class extends te{setContent(t){e(t),super.setContent(t)}}})())}createModal(e){const n=((e={})=>{const t=document.createElement(V);return Object.keys(e).forEach((n=>{t.setAttribute(n,e[n])})),t})(Object.assign(Object.assign({},{}),e));return this.rootElement.append(n),new(r(this,t,"f"))(n,{logger:this.logger})}async init(){var e;this.loadDescopeUiComponents([V]),await(null===(e=super.init)||void 0===e?void 0:e.call(this))}},t=new WeakMap,n}));const ie="descope-notification";l((e=>{var t,n;const o=i(k,K,W)(e);return n=class extends o{constructor(){super(...arguments),t.set(this,(()=>{const e=this.loadDescopeUiComponents.bind(this);return class extends ne{setContent(t){const n="string"==typeof t?s(t):t;e(n),super.setContent(n)}}})())}createNotification(e){const n=((e={})=>{const t=document.createElement(ie);return Object.keys(e).forEach((n=>{t.setAttribute(n,e[n])})),t})(Object.assign(Object.assign({},{}),e));return this.rootElement.append(n),new(r(this,t,"f"))(n,{logger:this.logger})}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),this.loadDescopeUiComponents([ie])}},t=new WeakMap,n}));const se=(e,t)=>!!t&&"light"!==t&&"dark"!==t&&'Supported theme values are "light", "dark", or leave empty for using the OS theme',ae=l((e=>{var t,n,s,a,c,l,u,d,h,p,f,g,m,v;const y=i(S({theme:se}),_,k,W,R,K,I,z)(e);return v=class extends y{constructor(){super(...arguments),t.add(this),n.set(this,void 0),s.set(this,void 0),f.set(this,(()=>{r(this,t,"m",g).call(this),r(this,m,"f").call(this,"os"===this.getAttribute("theme"))})),m.set(this,(e=>{var n,o,i;const s=e?"addEventListener":"removeEventListener";null===(i=null===(o=null===(n=window.matchMedia)||void 0===n?void 0:n.call(window,"(prefers-color-scheme: dark)"))||void 0===o?void 0:o[s])||void 0===i||i.call(o,"change",(()=>r(this,t,"m",g).call(this)))}))}get theme(){var e,t;const n=this.getAttribute("theme");if("os"===n){return window.matchMedia&&(null===(t=null===(e=window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-color-scheme: dark)"))||void 0===t?void 0:t.matches)?"dark":"light"}return n||"light"}get styleId(){return this.getAttribute("style-id")||"theme"}async init(){var e;await(null===(e=super.init)||void 0===e?void 0:e.call(this)),r(this,f,"f").call(this),await Promise.all([r(this,t,"m",l).call(this),r(this,t,"m",u).call(this)]),this.observeAttributes(["theme"],r(this,f,"f")),this.observeAttributes(["style-id"],(()=>{o(this,s,null,"f"),r(this,t,"m",h).call(this),r(this,t,"m",l).call(this),r(this,t,"m",u).call(this)}))}},n=new WeakMap,s=new WeakMap,f=new WeakMap,m=new WeakMap,t=new WeakSet,a=async function(){try{const{body:e}=await this.fetchStaticResource(`${this.styleId}.json`,"json");if(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(M))try{this.logger.warn("You are in DEV mode, and UI components override URL was found\ntrying to merge project theme with the default theme of the UI components");const t=await(async()=>{const e=localStorage.getItem(M),t=null==e?void 0:e.replace(/[^\/]+$/,"DescopeDev.js");console.warn("Trying to load DescopeDev.js from",t);const n=document.createElement("script");if(n.src=t,document.body.appendChild(n),await new Promise(((e,t)=>{n.onload=e,n.onerror=t})),globalThis.DescopeDev){const{themeToStyle:e,defaultTheme:t,darkTheme:n}=globalThis.DescopeDev;return{light:e(t),dark:e(n)}}})();t&&(e.light.components=Object.assign(Object.assign({},e.light.components),t.light.components),e.dark.components=Object.assign(Object.assign({},e.dark.components),t.dark.components),this.logger.warn("Theme was merged successfully"),console.log("%cNOTICE! This is not the theme that will be used in production!\n\nMake sure to test it without the override UI components URL!","color: black; background-color:yellow; font-size: x-large"))}catch(e){this.logger.error("Failed to merge UI components theme\n",e)}return e}catch(e){this.logger.error("Cannot fetch theme file","make sure that your projectId & flowId are correct")}},c=function(){return r(this,s,"f")||(o(this,s,r(this,t,"m",a).call(this),"f"),r(this,s,"f").then((e=>this.logger.debug("Fetched theme",e)))),r(this,s,"f")},l=async function(){var e,i;const s=await r(this,t,"a",c);s&&(r(this,n,"f")||o(this,n,this.injectStyle(""),"f"),r(this,n,"f").replaceSync(((null===(e=null==s?void 0:s.light)||void 0===e?void 0:e.globals)||"")+((null===(i=null==s?void 0:s.dark)||void 0===i?void 0:i.globals)||"")))},u=async function(){var e,n;const o=await r(this,t,"a",c);if(!o)return;const i=await this.descopeUi;(null==i?void 0:i.componentsThemeManager)&&(i.componentsThemeManager.themes={light:null===(e=null==o?void 0:o.light)||void 0===e?void 0:e.components,dark:null===(n=null==o?void 0:o.dark)||void 0===n?void 0:n.components})},d=async function(){var e,t;const{projectConfig:n}=await this.config||{},r=null===(e=null==n?void 0:n.styles)||void 0===e?void 0:e[this.styleId],o=null==n?void 0:n.cssTemplate,i=r||o;return null===(t=null==i?void 0:i[this.theme])||void 0===t?void 0:t.fonts},h=async function(){const e=await r(this,t,"m",d).call(this);e?Object.values(e).forEach((e=>{e.url&&(this.logger.debug(`Loading font from URL "${e.url}"`),(e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)})(e.url))})):this.logger.debug("No fonts to load")},p=async function(){this.rootElement.setAttribute("data-theme",this.theme);const e=await this.descopeUi;(null==e?void 0:e.componentsThemeManager)&&(e.componentsThemeManager.currentThemeName=this.theme)},g=function(){r(this,t,"m",h).call(this),r(this,t,"m",p).call(this)},v}));var ce=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),le=()=>Math.random().toString(36).substring(7).split("").join("."),ue={INIT:`@@redux/INIT${le()}`,REPLACE:`@@redux/REPLACE${le()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${le()}`};function de(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function he(e){if(void 0===e)return"undefined";if(null===e)return"null";const t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";const n=function(e){return"function"==typeof e.constructor?e.constructor.name:null}(e);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return Object.prototype.toString.call(e).slice(8,-1).toLowerCase().replace(/\s/g,"")}function pe(e){let t=typeof e;return t=he(e),t}function fe(e,t,n){if("function"!=typeof e)throw new Error(`Expected the root reducer to be a function. Instead, received: '${pe(e)}'`);if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(`Expected the enhancer to be a function. Instead, received: '${pe(n)}'`);return n(fe)(e,t)}let r=e,o=t,i=new Map,s=i,a=0,c=!1;function l(){s===i&&(s=new Map,i.forEach(((e,t)=>{s.set(t,e)})))}function u(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function d(e){if("function"!=typeof e)throw new Error(`Expected the listener to be a function. Instead, received: '${pe(e)}'`);if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");let t=!0;l();const n=a++;return s.set(n,e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");t=!1,l(),s.delete(n),i=null}}}function h(e){if(!de(e))throw new Error(`Actions must be plain objects. Instead, the actual type was: '${pe(e)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if("string"!=typeof e.type)throw new Error(`Action "type" property must be a string. Instead, the actual type was: '${pe(e.type)}'. Value was: '${e.type}' (stringified)`);if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=r(o,e)}finally{c=!1}return(i=s).forEach((e=>{e()})),e}h({type:ue.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(`Expected the nextReducer to be a function. Instead, received: '${pe(e)}`);r=e,h({type:ue.REPLACE})},[ce]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(`Expected the observer to be an object. Instead, received: '${pe(t)}'`);function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[ce](){return this}}}}}function ge(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function me(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const o=t[r];void 0===e[o]&&ge(`No reducer provided for key "${o}"`),"function"==typeof e[o]&&(n[o]=e[o])}const r=Object.keys(n);let o,i;o={};try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:ue.INIT}))throw new Error(`The slice reducer for key "${t}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(void 0===n(void 0,{type:ue.PROBE_UNKNOWN_ACTION()}))throw new Error(`The slice reducer for key "${t}" returned undefined when probed with a random type. Don't try to handle '${ue.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`)}))}(n)}catch(e){i=e}return function(e={},t){if(i)throw i;{const r=function(e,t,n,r){const o=Object.keys(t),i=n&&n.type===ue.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!de(e))return`The ${i} has unexpected type of "${pe(e)}". Expected argument to be an object with the following keys: "${o.join('", "')}"`;const s=Object.keys(e).filter((e=>!t.hasOwnProperty(e)&&!r[e]));return s.forEach((e=>{r[e]=!0})),n&&n.type===ue.REPLACE?void 0:s.length>0?`Unexpected ${s.length>1?"keys":"key"} "${s.join('", "')}" found in ${i}. Expected to find one of the known reducer keys instead: "${o.join('", "')}". Unexpected keys will be ignored.`:void 0}(e,n,t,o);r&&ge(r)}let s=!1;const a={};for(let o=0;o<r.length;o++){const i=r[o],c=n[i],l=e[i],u=c(l,t);if(void 0===u){const e=t&&t.type;throw new Error(`When called with an action of type ${e?`"${String(e)}"`:"(unknown type)"}, the slice reducer for key "${i}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`)}a[i]=u,s=s||u!==l}return s=s||r.length!==Object.keys(e).length,s?a:e}}function ve(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function ye(e){return de(e)&&"type"in e&&"string"==typeof e.type}var we=Symbol.for("immer-nothing"),be=Symbol.for("immer-draftable"),ke=Symbol.for("immer-state"),Ie=[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}];function Se(e,...t){{const n=Ie[e],r="function"==typeof n?n.apply(null,t):n;throw new Error(`[Immer] ${r}`)}}var Oe=Object.getPrototypeOf;function je(e){return!!e&&!!e[ke]}function xe(e){return!!e&&(Ee(e)||Array.isArray(e)||!!e[be]||!!e.constructor?.[be]||Ue(e)||$e(e))}var Ce=Object.prototype.constructor.toString();function Ee(e){if(!e||"object"!=typeof e)return!1;const t=Oe(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ce}function _e(e,t){0===Ae(e)?Object.entries(e).forEach((([n,r])=>{t(n,r,e)})):e.forEach(((n,r)=>t(r,n,e)))}function Ae(e){const t=e[ke];return t?t.type_:Array.isArray(e)?1:Ue(e)?2:$e(e)?3:0}function Re(e,t){return 2===Ae(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Te(e,t,n){const r=Ae(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ue(e){return e instanceof Map}function $e(e){return e instanceof Set}function Pe(e){return e.copy_||e.base_}function De(e,t){if(Ue(e))return new Map(e);if($e(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Ee(e)){if(!Oe(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[ke];let r=Reflect.ownKeys(n);for(let t=0;t<r.length;t++){const o=r[t],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Oe(e),n)}function Le(e,t=!1){return Ne(e)||je(e)||!xe(e)||(Ae(e)>1&&(e.set=e.add=e.clear=e.delete=Me),Object.freeze(e),t&&_e(e,((e,t)=>Le(t,!0)))),e}function Me(){Se(2)}function Ne(e){return Object.isFrozen(e)}var We,qe={};function Fe(e){const t=qe[e];return t||Se(0,e),t}function ze(){return We}function Je(e,t){t&&(Fe("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function He(e){Ke(e),e.drafts_.forEach(Be),e.drafts_=null}function Ke(e){e===We&&(We=e.parent_)}function Ve(e){return We={drafts_:[],parent_:We,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Be(e){const t=e[ke];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Xe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[ke].modified_&&(He(t),Se(4)),xe(e)&&(e=Ye(t,e),t.parent_||Ze(t,e)),t.patches_&&Fe("Patches").generateReplacementPatches_(n[ke].base_,e,t.patches_,t.inversePatches_)):e=Ye(t,n,[]),He(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==we?e:void 0}function Ye(e,t,n){if(Ne(t))return t;const r=t[ke];if(!r)return _e(t,((o,i)=>Ge(e,r,t,o,i,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Ze(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let o=t,i=!1;3===r.type_&&(o=new Set(t),t.clear(),i=!0),_e(o,((o,s)=>Ge(e,r,t,o,s,n,i))),Ze(e,t,!1),n&&e.patches_&&Fe("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ge(e,t,n,r,o,i,s){if(o===n&&Se(5),je(o)){const s=Ye(e,o,i&&t&&3!==t.type_&&!Re(t.assigned_,r)?i.concat(r):void 0);if(Te(n,r,s),!je(s))return;e.canAutoFreeze_=!1}else s&&n.add(o);if(xe(o)&&!Ne(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ye(e,o),t&&t.scope_.parent_||Ze(e,o)}}function Ze(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Le(t,n)}var Qe={get(e,t){if(t===ke)return e;const n=Pe(e);if(!Re(n,t))return function(e,t,n){const r=nt(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!xe(r)?r:r===tt(e.base_,t)?(ot(e),e.copy_[t]=it(r,e)):r},has:(e,t)=>t in Pe(e),ownKeys:e=>Reflect.ownKeys(Pe(e)),set(e,t,n){const r=nt(Pe(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=tt(Pe(e),t),o=r?.[ke];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||Re(e.base_,t)))return!0;ot(e),rt(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==tt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ot(e),rt(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Pe(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Se(11)},getPrototypeOf:e=>Oe(e.base_),setPrototypeOf(){Se(12)}},et={};function tt(e,t){const n=e[ke];return(n?Pe(n):e)[t]}function nt(e,t){if(!(t in e))return;let n=Oe(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Oe(n)}}function rt(e){e.modified_||(e.modified_=!0,e.parent_&&rt(e.parent_))}function ot(e){e.copy_||(e.copy_=De(e.base_,e.scope_.immer_.useStrictShallowCopy_))}_e(Qe,((e,t)=>{et[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),et.deleteProperty=function(e,t){return isNaN(parseInt(t))&&Se(13),et.set.call(this,e,t,void 0)},et.set=function(e,t,n){return"length"!==t&&isNaN(parseInt(t))&&Se(14),Qe.set.call(this,e[0],t,n,e[0])};function it(e,t){const n=Ue(e)?Fe("MapSet").proxyMap_(e,t):$e(e)?Fe("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ze(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Qe;n&&(o=[r],i=et);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}(e,t);return(t?t.scope_:ze()).drafts_.push(n),n}function st(e){return je(e)||Se(10,e),at(e)}function at(e){if(!xe(e)||Ne(e))return e;const t=e[ke];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=De(e,t.scope_.immer_.useStrictShallowCopy_)}else n=De(e,!0);return _e(n,((e,t)=>{Te(n,e,at(t))})),t&&(t.finalized_=!1),n}var ct=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!=typeof t&&Se(6),void 0!==n&&"function"!=typeof n&&Se(7),xe(e)){const o=Ve(this),i=it(e,void 0);let s=!0;try{r=t(i),s=!1}finally{s?He(o):Ke(o)}return Je(o,n),Xe(r,o)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===we&&(r=void 0),this.autoFreeze_&&Le(r,!0),n){const t=[],o=[];Fe("Patches").generateReplacementPatches_(e,r,t,o),n(t,o)}return r}Se(1,e)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;const o=this.produce(e,t,((e,t)=>{n=e,r=t}));return[o,n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xe(e)||Se(8),je(e)&&(e=st(e));const t=Ve(this),n=it(e,void 0);return n[ke].isManual_=!0,Ke(t),n}finishDraft(e,t){const n=e&&e[ke];n&&n.isManual_||Se(9);const{scope_:r}=n;return Je(r,t),Xe(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Fe("Patches").applyPatches_;return je(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},lt=ct.produce;ct.produceWithPatches.bind(ct),ct.setAutoFreeze.bind(ct),ct.setUseStrictShallowCopy.bind(ct),ct.applyPatches.bind(ct),ct.createDraft.bind(ct),ct.finishDraft.bind(ct);var ut=(e,t,n)=>{if(1===t.length&&t[0]===n){let t=!1;try{const n={};e(n)===n&&(t=!0)}catch{}if(t){let e;try{throw new Error}catch(t){({stack:e}=t)}console.warn("The result function returned its own inputs without modification. e.g\n`createSelector([state => state.todos], todos => todos)`\nThis could lead to inefficient memoization and unnecessary re-renders.\nEnsure transformation logic is in the result function, and extraction logic is in the input selectors.",{stack:e})}}},dt=(e,t,n)=>{const{memoize:r,memoizeOptions:o}=t,{inputSelectorResults:i,inputSelectorResultsCopy:s}=e,a=r((()=>({})),...o);if(!(a.apply(null,i)===a.apply(null,s))){let e;try{throw new Error}catch(t){({stack:e}=t)}console.warn("An input selector returned a different result when passed same arguments.\nThis means your output selector will likely run more frequently than intended.\nAvoid returning a new reference inside your input selector, e.g.\n`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)`",{arguments:n,firstInputs:i,secondInputs:s,stack:e})}},ht={inputStabilityCheck:"once",identityFunctionCheck:"once"};var pt=e=>Array.isArray(e)?e:[e];function ft(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function gt(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var mt="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},vt=0,yt=1;function wt(){return{s:vt,v:void 0,o:null,p:null}}function bt(e,t={}){let n=wt();const{resultEqualityCheck:r}=t;let o,i=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=wt(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=wt(),e.set(n,t)):t=r}}const a=t;let c;if(t.s===yt)c=t.v;else if(c=e.apply(null,arguments),i++,r){const e=o?.deref?.()??o;null!=e&&r(e,c)&&(c=e,0!==i&&i--);o="object"==typeof c&&null!==c||"function"==typeof c?new mt(c):c}return a.s=yt,a.v=c,c}return s.clearCache=()=>{n=wt(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function kt(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,o=0,i={},s=e.pop();"object"==typeof s&&(i=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const a={...n,...i},{memoize:c,memoizeOptions:l=[],argsMemoize:u=bt,argsMemoizeOptions:d=[],devModeChecks:h={}}=a,p=pt(l),f=pt(d),g=ft(e),m=c((function(){return r++,s.apply(null,arguments)}),...p);let v=!0;const y=u((function(){o++;const e=gt(g,arguments);t=m.apply(null,e);{const{identityFunctionCheck:n,inputStabilityCheck:r}=((e,t)=>{const{identityFunctionCheck:n,inputStabilityCheck:r}={...ht,...t};return{identityFunctionCheck:{shouldRun:"always"===n||"once"===n&&e,run:ut},inputStabilityCheck:{shouldRun:"always"===r||"once"===r&&e,run:dt}}})(v,h);if(n.shouldRun&&n.run(s,e,t),r.shouldRun){const t=gt(g,arguments);r.run({inputSelectorResults:e,inputSelectorResultsCopy:t},{memoize:c,memoizeOptions:p},arguments)}v&&(v=!1)}return t}),...f);return Object.assign(y,{resultFunc:s,memoizedResultFunc:m,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var It=kt(bt),St=Object.assign(((e,t=It)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>St});function Ot(e){return({dispatch:t,getState:n})=>r=>o=>"function"==typeof o?o(t,n,e):r(o)}var jt=Ot(),xt=Ot;((...e)=>{const t=kt(...e)})(bt);var Ct="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?ve:ve.apply(null,arguments)},Et=e=>e&&"function"==typeof e.match;function _t(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error("prepareAction did not return an object");return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>ye(t)&&t.type===e,n}function At(e){return"function"==typeof e&&"type"in e&&Et(e)}function Rt(e,t){let n=0;return{measureTime(e){const t=Date.now();try{return e()}finally{const e=Date.now();n+=e-t}},warnIfExceeded(){n>e&&console.warn(`${t} took ${n}ms, which is more than the warning threshold of ${e}ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.`)}}}var Tt=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Ut(e){return xe(e)?lt(e,(()=>{})):e}function $t(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error("No insert provided for key not already in map");const r=n.insert(t,e);return e.set(t,r),r}function Pt(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function Dt(e,t,n){const r=Lt(e,t,n);return{detectMutations:()=>Mt(e,t,r,n)}}function Lt(e,t=[],n,r="",o=new Set){const i={value:n};if(!e(n)&&!o.has(n)){o.add(n),i.children={};for(const o in n){const s=r?r+"."+o:o;t.length&&-1!==t.indexOf(s)||(i.children[o]=Lt(e,t,n[o],s))}}return i}function Mt(e,t=[],n,r,o=!1,i=""){const s=n?n.value:void 0,a=s===r;if(o&&!a&&!Number.isNaN(r))return{wasMutated:!0,path:i};if(e(s)||e(r))return{wasMutated:!1};const c={};for(let e in n.children)c[e]=!0;for(let e in r)c[e]=!0;const l=t.length>0;for(let o in c){const s=i?i+"."+o:o;if(l){if(t.some((e=>e instanceof RegExp?e.test(s):s===e)))continue}const c=Mt(e,t,n.children[o],r[o],a,s);if(c.wasMutated)return c}return{wasMutated:!1}}function Nt(e){const t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||de(e)}function Wt(e,t="",n=Nt,r,o=[],i){let s;if(!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;if(i?.has(e))return!1;const a=null!=r?r(e):Object.entries(e),c=o.length>0;for(const[e,l]of a){const a=t?t+"."+e:e;if(c){if(o.some((e=>e instanceof RegExp?e.test(a):a===e)))continue}if(!n(l))return{keyPath:a,value:l};if("object"==typeof l&&(s=Wt(l,a,n,r,o,i),s))return s}return i&&qt(e)&&i.add(e),!1}function qt(e){if(!Object.isFrozen(e))return!1;for(const t of Object.values(e))if("object"==typeof t&&null!==t&&!qt(t))return!1;return!0}function Ft(e){return"boolean"==typeof e}var zt=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=e??{};let i=new Tt;if(t&&(Ft(t)?i.push(jt):i.push(xt(t.extraArgument))),n){let e={};Ft(n)||(e=n),i.unshift(function(e={}){{let t=function(e,t,r,o){return JSON.stringify(e,n(t,o),r)},n=function(e,t){let n=[],r=[];return t||(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(o,i){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,o):r.push(o),~n.indexOf(i)&&(i=t.call(this,o,i))}else n.push(i);return null==e?i:e.call(this,o,i)}},{isImmutable:r=Pt,ignoredPaths:o,warnAfter:i=32}=e;const s=Dt.bind(null,r,o);return({getState:e})=>{let n,r=e(),o=s(r);return a=>c=>{const l=Rt(i,"ImmutableStateInvariantMiddleware");l.measureTime((()=>{if(r=e(),n=o.detectMutations(),o=s(r),n.wasMutated)throw new Error(`A state mutation was detected between dispatches, in the path '${n.path||""}'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`)}));const u=a(c);return l.measureTime((()=>{if(r=e(),n=o.detectMutations(),o=s(r),n.wasMutated)throw new Error(`A state mutation was detected inside a dispatch, in the path: ${n.path||""}. Take a look at the reducer(s) handling the action ${t(c)}. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)`)})),l.warnIfExceeded(),u}}}}(e))}if(r){let e={};Ft(r)||(e=r),i.push(function(e={}){{const{isSerializable:t=Nt,getEntries:n,ignoredActions:r=[],ignoredActionPaths:o=["meta.arg","meta.baseQueryMeta"],ignoredPaths:i=[],warnAfter:s=32,ignoreState:a=!1,ignoreActions:c=!1,disableCache:l=!1}=e,u=!l&&WeakSet?new WeakSet:void 0;return e=>l=>d=>{if(!ye(d))return l(d);const h=l(d),p=Rt(s,"SerializableStateInvariantMiddleware");return c||r.length&&-1!==r.indexOf(d.type)||p.measureTime((()=>{const e=Wt(d,"",t,n,o,u);if(e){const{keyPath:t,value:n}=e;console.error(`A non-serializable value was detected in an action, in the path: \`${t}\`. Value:`,n,"\nTake a look at the logic that dispatched this action: ",d,"\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)","\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)")}})),a||(p.measureTime((()=>{const r=Wt(e.getState(),"",t,n,i,u);if(r){const{keyPath:e,value:t}=r;console.error(`A non-serializable value was detected in the state, in the path: \`${e}\`. Value:`,t,`\nTake a look at the reducer(s) handling this action type: ${d.type}.\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)`)}})),p.warnIfExceeded()),h}}}(e))}if(o){let e={};Ft(o)||(e=o),i.unshift(function(e={}){const{isActionCreator:t=At}=e;return()=>e=>n=>(t(n)&&console.warn(function(e){const t=e?`${e}`.split("/"):[],n=t[t.length-1]||"actionCreator";return`Detected an action creator with type "${e||"unknown"}" being dispatched. \nMake sure you're calling the action creator before dispatching, i.e. \`dispatch(${n}())\` instead of \`dispatch(${n})\`. This is necessary even if the action has no payload.`}(n.type)),e(n))}(e))}return i},Jt=e=>t=>{setTimeout(t,e)},Ht="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Jt(10),Kt=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new Tt(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,s=!1;const a=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?Ht:"callback"===e.type?e.queueNotification:Jt(e.timeout),l=()=>{s=!1,i&&(i=!1,a.forEach((e=>e())))};return Object.assign({},r,{subscribe(e){const t=r.subscribe((()=>o&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{return o=!e?.meta?.RTK_autoBatch,i=!o,i&&(s||(s=!0,c(l))),r.dispatch(e)}finally{o=!0}}})})("object"==typeof n?n:void 0)),r};function Vt(e){const t=zt(),{reducer:n,middleware:r,devTools:o=!0,preloadedState:i,enhancers:s}=e||{};let a,c;if("function"==typeof n)a=n;else{if(!de(n))throw new Error("`reducer` is a required argument, and must be a function or an object of functions that can be passed to combineReducers");a=me(n)}if(r&&"function"!=typeof r)throw new Error("`middleware` field must be a callback");if("function"==typeof r){if(c=r(t),!Array.isArray(c))throw new Error("when using a middleware builder function, an array of middleware must be returned")}else c=t();if(c.some((e=>"function"!=typeof e)))throw new Error("each middleware provided to configureStore must be a function");let l=ve;o&&(l=Ct({trace:!0,..."object"==typeof o&&o}));const u=function(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")};const s={getState:o.getState,dispatch:(e,...t)=>i(e,...t)},a=e.map((e=>e(s)));return i=ve(...a)(o.dispatch),{...o,dispatch:i}}}(...c),d=Kt(u);if(s&&"function"!=typeof s)throw new Error("`enhancers` field must be a callback");let h="function"==typeof s?s(d):d();if(!Array.isArray(h))throw new Error("`enhancers` callback must return an array");if(h.some((e=>"function"!=typeof e)))throw new Error("each enhancer provided to configureStore must be a function");c.length&&!h.includes(u)&&console.error("middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`");return fe(a,i,l(...h))}function Bt(e){const t={},n=[];let r;const o={addCase(e,i){if(n.length>0)throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");if(r)throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`");const s="string"==typeof e?e:e.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error(`\`builder.addCase\` cannot be called with two reducers for the same action type '${s}'`);return t[s]=i,o},addMatcher(e,t){if(r)throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return n.push({matcher:e,reducer:t}),o},addDefaultCase(e){if(r)throw new Error("`builder.addDefaultCase` can only be called once");return r=e,o}};return e(o),[t,n,r]}function Xt(...e){return t=>e.some((e=>((e,t)=>Et(e)?e.match(t):e(t))(e,t)))}var Yt=["name","message","stack","code"],Gt=class{constructor(e,t){this.payload=e,this.meta=t}_type},Zt=class{constructor(e,t){this.payload=e,this.meta=t}_type},Qt=e=>{if("object"==typeof e&&null!==e){const t={};for(const n of Yt)"string"==typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},en=(()=>{function e(e,t,n){const r=_t(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),o=_t(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),i=_t(e+"/rejected",((e,t,r,o,i)=>({payload:o,error:(n&&n.serializeError||Qt)(e||"Rejected"),meta:{...i||{},arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e){return(s,a,c)=>{const l=n?.idGenerator?n.idGenerator(e):((e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),u=new AbortController;let d;function h(e){d=e,u.abort()}const p=async function(){let p;try{let i=n?.condition?.(e,{getState:a,extra:c});if(null!==(f=i)&&"object"==typeof f&&"function"==typeof f.then&&(i=await i),!1===i||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const g=new Promise(((e,t)=>u.signal.addEventListener("abort",(()=>t({name:"AbortError",message:d||"Aborted"})))));s(o(l,e,n?.getPendingMeta?.({requestId:l,arg:e},{getState:a,extra:c}))),p=await Promise.race([g,Promise.resolve(t(e,{dispatch:s,getState:a,extra:c,requestId:l,signal:u.signal,abort:h,rejectWithValue:(e,t)=>new Gt(e,t),fulfillWithValue:(e,t)=>new Zt(e,t)})).then((t=>{if(t instanceof Gt)throw t;return t instanceof Zt?r(t.payload,l,e,t.meta):r(t,l,e)}))])}catch(t){p=t instanceof Gt?i(null,l,e,t.payload,t.meta):i(t,l,e)}var f;return n&&!n.dispatchConditionRejection&&i.match(p)&&p.meta.condition||s(p),p}();return Object.assign(p,{abort:h,requestId:l,arg:e,unwrap:()=>p.then(tn)})}}),{pending:o,rejected:i,fulfilled:r,settled:Xt(i,r),typePrefix:e})}return e.withTypes=()=>e,e})();function tn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var nn=Symbol.for("rtk-slice-createasyncthunk");function rn(e,t){return`${e}/${t}`}function on(e,t,n,r){function o(o,...i){let s=n.call(e,o);if(void 0===s){if(!r)throw new Error("selectState returned undefined for an uninjected slice reducer");s=e.getInitialState()}return t(s,...i)}return o.unwrapped=t,o}var sn=function({creators:e}={}){const t=e?.asyncThunk?.[nn];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error("`name` is a required option for createSlice");"undefined"!=typeof process&&void 0===e.initialState&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");const o=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(o),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error("`context.addCase` cannot be called with an empty action type");if(n in s.sliceCaseReducersByType)throw new Error("`context.addCase` cannot be called with two reducers for the same action type: "+n);return s.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(s.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,a)};function c(){if("object"==typeof e.extraReducers)throw new Error("The object notation for `createSlice.extraReducers` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice");const[t={},n=[],r]="function"==typeof e.extraReducers?Bt(e.extraReducers):[e.extraReducers],o={...t,...s.sliceCaseReducersByType};return function(e,t){if("object"==typeof t)throw new Error("The object notation for `createReducer` has been removed. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer");let n,[r,o,i]=Bt(t);if(function(e){return"function"==typeof e}(e))n=()=>Ut(e());else{const t=Ut(e);n=()=>t}function s(e=n(),t){let s=[r[t.type],...o.filter((({matcher:e})=>e(t))).map((({reducer:e})=>e))];return 0===s.filter((e=>!!e)).length&&(s=[i]),s.reduce(((e,n)=>{if(n){if(je(e)){const r=n(e,t);return void 0===r?e:r}if(xe(e))return lt(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}i.forEach((r=>{const i=o[r],s={reducerName:r,type:rn(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function({type:e,reducerName:t,createNotation:n},r,o){let i,s;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error("Please use the `create.preparedReducer` notation for prepared action creators with the `create` notation.");i=r.reducer,s=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?_t(e,s):_t(e))}(s,i,a):function({type:e,reducerName:t},n,r,o){if(!o)throw new Error("Cannot use `create.asyncThunk` in the built-in `createSlice`. Use `buildCreateSlice({ creators: { asyncThunk: asyncThunkCreator } })` to create a customised version of `createSlice`.");const{payloadCreator:i,fulfilled:s,pending:a,rejected:c,settled:l,options:u}=n,d=o(e,i,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s);a&&r.addCase(d.pending,a);c&&r.addCase(d.rejected,c);l&&r.addMatcher(d.settled,l);r.exposeCaseReducer(t,{fulfilled:s||an,pending:a||an,rejected:c||an,settled:l||an})}(s,i,a,t)}));const l=e=>e,u=new WeakMap;let d;const h={name:n,reducerPath:r,reducer:(e,t)=>(d||(d=c()),d(e,t)),actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:()=>(d||(d=c()),d.getInitialState()),getSelectors(t=l){const n=$t(u,this,{insert:()=>new WeakMap});return $t(n,t,{insert:()=>{const n={};for(const[r,o]of Object.entries(e.selectors??{}))n[r]=on(this,o,t,this!==h);return n}})},selectSlice(e){let t=e[this.reducerPath];if(void 0===t){if(this===h)throw new Error("selectSlice returned undefined for an uninjected slice reducer");t=this.getInitialState()}return t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(e,{reducerPath:t,...n}={}){const r=t??this.reducerPath;return e.inject({reducerPath:r,reducer:this.reducer},n),{...this,reducerPath:r}}};return h}}();function an(){}var cn="listenerMiddleware";_t(`${cn}/add`),_t(`${cn}/removeAll`),_t(`${cn}/remove`);const ln=e=>l((t=>{const n=sn(e),r=Object.assign(Object.assign({},n.actions),e.asyncActions);return class extends(i(v)(t)){constructor(...e){super(...e);const t=Vt({reducer:n.reducer,middleware:e=>e({thunk:{extraArgument:this},serializableCheck:!1}),devTools:!1}),o=e=>async(...n)=>{const r=await t.dispatch(e(...n));try{tn(r)}catch(e){this.logger.error(e.message,r.type,e.stack)}return r},i=Object.keys(r).reduce(((e,t)=>(e[t]=o(r[t]),e)),{});this.actions=i,this.subscribe=(e,n=e=>e)=>t.subscribe((()=>e(n(t.getState()))))}}}));l((e=>class extends(v(e)){validateForm(e){return this.getFormInputs(e).every((e=>{var t,n;return null===(t=e.reportValidity)||void 0===t||t.call(e),null===(n=e.checkValidity)||void 0===n?void 0:n.call(e)}))}getFormInputs(e){return e?Array.from(e.querySelectorAll("[name]")):(this.logger.debug("cannot get form inputs, no root element was received"),[])}getFormData(e){return this.getFormInputs(e).reduce(((e,t)=>Object.assign(e,{[t.getAttribute("name")]:t.value})),{})}setFormData(e,t){this.getFormInputs(e).forEach((e=>{t.hasOwnProperty(e.getAttribute("name"))&&(e.value=t[e.getAttribute("name")])}))}resetFormData(e){this.getFormInputs(e).forEach((e=>{e.value="",e.checked=!1}))}getFormFieldNames(e){return this.getFormInputs(e).map((e=>e.name))}disableFormField(e,t){var n;null===(n=this.getFormInputs(e).find((e=>e.name===t)))||void 0===n||n.setAttribute("disabled","true")}removeFormField(e,t){var n;null===(n=this.getFormInputs(e).find((e=>e.name===t)))||void 0===n||n.remove()}}));const un=l((e=>class extends e{get refreshCookieName(){return this.getAttribute("refresh-cookie-name")||""}})),dn=(e,t)=>t?{[e]:t}:{},hn=e=>{if(!e)return;const t=JSON.parse(e);return Array.isArray(t)&&0===t.length?void 0:t},pn=e=>e.selectedAuditId,fn=It((e=>e.auditList.data),(e=>e.map((e=>{const n=e||{},{occurred:r,ID:o,type:i}=n,s=n.data,a=void 0===s?{saml_request:"",saml_response:"",saml_generated_user:"",saml_generated_roles:"",oidc_response:"",oidc_generated_user:""}:s,{saml_request:c,saml_response:l,saml_generated_user:u,saml_generated_roles:d,oidc_response:h,oidc_generated_user:p}=a,f=t(a,["saml_request","saml_response","saml_generated_user","saml_generated_roles","oidc_response","oidc_generated_user"]),g=t(n,["occurred","ID","type","data"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},g),{data:f}),dn("type",(e=>e&&e[0].toUpperCase()+e.slice(1))(i))),dn("saml_request",c)),dn("saml_response",l)),dn("saml_generated_user",hn(u))),dn("saml_generated_roles",hn(d))),dn("oidc_response",hn(h))),dn("oidc_generated_user",hn(p))),{occurredFormatted:r?new Date(Number(r)||0).toLocaleString():"N/A"})}))));It(pn,fn,((e,t)=>t.find((t=>e===t.id)))),It(pn,(e=>!!e));const gn=en("audit/search",((e,{extra:{api:t},getState:n})=>{const r=n().searchParams;return t.audit.search(Object.assign(Object.assign({},r),e))})),mn=(e=>(...t)=>n=>{n.addCase(e.pending,((e,n)=>{t.forEach((({onPending:t})=>{null==t||t(e,n)}))})),n.addCase(e.fulfilled,((e,n)=>{t.forEach((({onFulfilled:t})=>{null==t||t(e,n)}))})),n.addCase(e.rejected,((e,n)=>{t.forEach((({onRejected:t})=>{null==t||t(e,n)}))}))})(gn)({onPending:(e,t)=>{e.searchParams=Object.assign(Object.assign({},e.searchParams),t.meta.arg)},onFulfilled:(e,t)=>{e.auditList.data=t.payload}},(vn=e=>e.auditList,{onFulfilled:e=>{vn(e).loading=!1},onPending:e=>{vn(e).loading=!0,vn(e).error=null},onRejected:(e,t)=>{vn(e).loading=!1,vn(e).error=t.error}}));var vn;const yn={action:gn,reducer:mn},wn={auditList:{data:[],loading:!1,error:null},searchParams:{text:"",sort:[]},selectedAuditId:""};class bn extends Error{}function kn(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return atob(t)}}function In(e,t){if("string"!=typeof e)throw new bn("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!=typeof r)throw new bn(`Invalid token specified: missing part #${n+1}`);let o;try{o=kn(r)}catch(e){throw new bn(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(o)}catch(e){throw new bn(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}bn.prototype.name="InvalidTokenError";var Sn={accessKey:{exchange:"/v1/auth/accesskey/exchange"},otp:{verify:"/v1/auth/otp/verify",signIn:"/v1/auth/otp/signin",signUp:"/v1/auth/otp/signup",update:{email:"/v1/auth/otp/update/email",phone:"/v1/auth/otp/update/phone"},signUpOrIn:"/v1/auth/otp/signup-in"},magicLink:{verify:"/v1/auth/magiclink/verify",signIn:"/v1/auth/magiclink/signin",signUp:"/v1/auth/magiclink/signup",update:{email:"/v1/auth/magiclink/update/email",phone:"/v1/auth/magiclink/update/phone"},signUpOrIn:"/v1/auth/magiclink/signup-in"},enchantedLink:{verify:"/v1/auth/enchantedlink/verify",signIn:"/v1/auth/enchantedlink/signin",signUp:"/v1/auth/enchantedlink/signup",session:"/v1/auth/enchantedlink/pending-session",update:{email:"/v1/auth/enchantedlink/update/email"},signUpOrIn:"/v1/auth/enchantedlink/signup-in"},oauth:{start:"/v1/auth/oauth/authorize",exchange:"/v1/auth/oauth/exchange",startNative:"v1/auth/oauth/native/start",finishNative:"v1/auth/oauth/native/finish",oneTap:{getOneTapClientId:"/v1/auth/onetap/clientid/{provider}",exchangeOneTapIDToken:"/v1/auth/onetap/idtoken/exchange",verifyOneTapIDToken:"/v1/auth/onetap/idtoken/verify"}},outbound:{connect:"/v1/outbound/oauth/connect"},saml:{start:"/v1/auth/saml/authorize",exchange:"/v1/auth/saml/exchange"},totp:{verify:"/v1/auth/totp/verify",signUp:"/v1/auth/totp/signup",update:"/v1/auth/totp/update"},notp:{signIn:"/v1/auth/notp/whatsapp/signin",signUp:"/v1/auth/notp/whatsapp/signup",signUpOrIn:"/v1/auth/notp/whatsapp/signup-in",session:"/v1/auth/notp/pending-session"},webauthn:{signUp:{start:"/v1/auth/webauthn/signup/start",finish:"/v1/auth/webauthn/signup/finish"},signIn:{start:"/v1/auth/webauthn/signin/start",finish:"/v1/auth/webauthn/signin/finish"},signUpOrIn:{start:"/v1/auth/webauthn/signup-in/start"},update:{start:"v1/auth/webauthn/update/start",finish:"/v1/auth/webauthn/update/finish"}},password:{signUp:"/v1/auth/password/signup",signIn:"/v1/auth/password/signin",sendReset:"/v1/auth/password/reset",update:"/v1/auth/password/update",replace:"/v1/auth/password/replace",policy:"/v1/auth/password/policy"},refresh:"/v1/auth/refresh",tryRefresh:"/v1/auth/try-refresh",selectTenant:"/v1/auth/tenant/select",logout:"/v1/auth/logout",logoutAll:"/v1/auth/logoutall",me:"/v1/auth/me",myTenants:"/v1/auth/me/tenants",history:"/v1/auth/me/history",flow:{start:"/v1/flow/start",next:"/v1/flow/next"}};const On="<region>",jn=`https://api.${On}descope.com`,xn=6e5,Cn="dct",En=()=>{const e={};return{headers(t){const n="function"==typeof t.entries?Object.fromEntries(t.entries()):t;return e.Headers=JSON.stringify(n),this},body(t){return e.Body=t,this},url(t){return e.Url=t.toString(),this},method(t){return e.Method=t,this},title(t){return e.Title=t,this},status(t){return e.Status=t,this},retries(t){return e.Retries=t,this},build:()=>Object.keys(e).flatMap((t=>e[t]?[`${"Title"!==t?`${t}: `:""}${e[t]}`]:[])).join("\n")}},_n=[521,524],An=e=>async(...t)=>{let n=await e(...t);_n.includes(n.status)&&(n=await e(...t),n.retries=1);const r=await n.text();return n.text=()=>Promise.resolve(r),n.json=()=>Promise.resolve(JSON.parse(r)),n.clone=()=>n,n};let Rn;const Tn=()=>{if(Rn)return Rn;const e=new Date,t=`${e.getUTCFullYear().toString()}-${(e.getUTCMonth()+1).toString().padStart(2,"0")}-${e.getUTCDate().toString().padStart(2,"0")}-${e.getUTCHours().toString().padStart(2,"0")}:${e.getUTCMinutes().toString().padStart(2,"0")}:${e.getUTCSeconds().toString().padStart(2,"0")}:${e.getUTCMilliseconds().toString()}`,n=Math.floor(1e3+9e3*Math.random());return Rn=`${t}-${n}`,Rn};var Un,$n;($n=Un||(Un={})).get="GET",$n.delete="DELETE",$n.post="POST",$n.put="PUT",$n.patch="PATCH";const Pn=({path:e,baseUrl:t,queryParams:n,projectId:r})=>{const o=r.slice(1,-27);t=t.replace(On,o?o+".":"");let i=e?`${t.replace(/\/$/,"")}/${null==e?void 0:e.replace(/^\//,"")}`:t;if(n){const e=Object.keys(n);e.forEach(((t,r)=>{i=`${i}${0===r?"?":""}${t}=${encodeURIComponent(n[t])}${r===e.length-1?"":"&"}`}))}return i},Dn=(...e)=>new Headers(e.reduce(((e,t)=>((e=>Array.isArray(e)?e:e instanceof Headers?Array.from(e.entries()):e?Object.entries(e):[])(t).forEach((([t,n])=>{e[t]="function"==typeof n?n():n})),e)),{})),Ln={"Content-Type":"application/json"},Mn=(e,t="")=>{let n=e;return t&&(n=n+":"+t),{Authorization:`Bearer ${n}`}},Nn=(e,t)=>{const n={"x-descope-sdk-session-id":Tn(),"x-descope-sdk-name":"core-js","x-descope-sdk-version":"2.49.0","x-descope-project-id":e};return t&&(n["x-descope-refresh-cookie-name"]=t),n},Wn=e=>{try{e=JSON.parse(e)}catch(e){return!1}return"object"==typeof e&&null!==e};var qn=e=>{var t;return(({baseUrl:e,projectId:t,baseConfig:n,refreshCookieName:r,logger:o,hooks:i,cookiePolicy:s,fetch:a})=>{const c=e||jn,l=((e,t)=>{const n=t||fetch;return n||null==e||e.warn("Fetch is not defined, you will not be able to send http requests, if you are running in a test, make sure fetch is defined globally"),e?async(...t)=>{if(!n)throw Error("Cannot send http request, fetch is not defined, if you are running in a test, make sure fetch is defined globally");e.log((e=>En().title("Request").url(e[0]).method(e[1].method).headers(e[1].headers).body(e[1].body).build())(t));const r=await An(n)(...t);return e[r.ok?"log":"error"](await(async e=>{const t=await e.text();return En().title("Response").url(e.url.toString()).status(`${e.status} ${e.statusText}`).headers(e.headers).body(t).retries(e.retries).build()})(r)),r}:An(n)})(o,a),u=async e=>{var o;const a=(null==i?void 0:i.beforeRequest)?i.beforeRequest(e):e,{path:u,body:d,headers:h,queryParams:p,method:f,token:g}=a,m=(e=>void 0===e?void 0:JSON.stringify(e))(d),v={headers:Dn(Mn(t,g),Nn(t,r),(null==n?void 0:n.baseHeaders)||{},Wn(m)?Ln:{},h),method:f,body:m};null!==s&&(v.credentials=s||"include");const y=await l(Pn({path:u,baseUrl:c,queryParams:p,projectId:t}),v);if((null==i?void 0:i.afterRequest)&&await i.afterRequest(e,null==y?void 0:y.clone()),null==i?void 0:i.transformResponse){const e=await y.json(),t=((null===(o=y.headers)||void 0===o?void 0:o.get("set-cookie"))||"").split(";").reduce(((e,t)=>{const[n,r]=t.split("=");return Object.assign(Object.assign({},e),{[n.trim()]:r})}),{}),n=Object.assign(Object.assign({},y),{json:()=>Promise.resolve(e),cookies:t});return n.clone=()=>n,i.transformResponse(n)}return y};return{get:(e,{headers:t,queryParams:n,token:r}={})=>u({path:e,headers:t,queryParams:n,body:void 0,method:Un.get,token:r}),post:(e,t,{headers:n,queryParams:r,token:o}={})=>u({path:e,headers:n,queryParams:r,body:t,method:Un.post,token:o}),patch:(e,t,{headers:n,queryParams:r,token:o}={})=>u({path:e,headers:n,queryParams:r,body:t,method:Un.patch,token:o}),put:(e,t,{headers:n,queryParams:r,token:o}={})=>u({path:e,headers:n,queryParams:r,body:t,method:Un.put,token:o}),delete:(e,{headers:t,queryParams:n,token:r}={})=>u({path:e,headers:t,queryParams:n,body:void 0,method:Un.delete,token:r}),hooks:i,buildUrl:(e,n)=>Pn({projectId:t,baseUrl:c,path:e,queryParams:n})}})(Object.assign(Object.assign({},e),{hooks:{beforeRequest:t=>{var n;const r=[].concat((null===(n=e.hooks)||void 0===n?void 0:n.beforeRequest)||[]);return null==r?void 0:r.reduce(((e,t)=>t(e)),t)},afterRequest:async(t,n)=>{var r;const o=[].concat((null===(r=e.hooks)||void 0===r?void 0:r.afterRequest)||[]);0!=o.length&&(await Promise.allSettled(null==o?void 0:o.map((e=>e(t,null==n?void 0:n.clone()))))).forEach((t=>{var n;return"rejected"===t.status&&(null===(n=e.logger)||void 0===n?void 0:n.error(t.reason))}))},transformResponse:null===(t=e.hooks)||void 0===t?void 0:t.transformResponse}}))},Fn=429;function zn(e,t,n){var r;let o=Jn(e);if(t){if(!(null==o?void 0:o.tenants)&&(null==o?void 0:o[Cn])===t)return(null==o?void 0:o[n])||[];o=null===(r=null==o?void 0:o.tenants)||void 0===r?void 0:r[t]}const i=null==o?void 0:o[n];return Array.isArray(i)?i:[]}function Jn(e){if("string"!=typeof e||!e)throw new Error("Invalid token provided");return In(e)}function Hn(e){const{exp:t}=Jn(e);return(new Date).getTime()/1e3>t}function Kn(e){let t=Jn(e);const n=Object.keys(null==t?void 0:t.tenants);return Array.isArray(n)?n:[]}function Vn(e,t){return zn(e,t,"permissions")}function Bn(e,t){return zn(e,t,"roles")}const Xn=(...e)=>e.join("/").replace(/\/{2,}/g,"/");async function Yn(e,t){var n;const r=await e,o={code:r.status,ok:r.ok,response:r},i=await r.clone().json();return r.ok?o.data=i:(o.error=i,r.status===Fn&&Object.assign(o.error,{retryAfter:Number.parseInt(null===(n=r.headers)||void 0===n?void 0:n.get("retry-after"))||0})),o}function Gn(e){var t;return(null===(t=Jn(e))||void 0===t?void 0:t[Cn])||""}const Zn=(e,t)=>(n=t)=>t=>!e(t)&&n.replace("{val}",t),Qn=(e,t)=>(n=t)=>t=>{const r=e.filter((e=>e(t)));return!(r.length<e.length)&&(n?n.replace("{val}",t):r.join(" OR "))},er=(...e)=>({validate:t=>(e.forEach((e=>{const n=e(t);if(n)throw new Error(n)})),!0)}),tr=e=>t=>e.test(t),nr=tr(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),rr=tr(/^\+[1-9]{1}[0-9]{3,14}$/),or=Zn(nr,'"{val}" is not a valid email'),ir=Zn(rr,'"{val}" is not a valid phone number'),sr=Zn((e=>e.length>=1),"Minimum length is 1");const ar=Zn((e=>"string"==typeof e),"Input is not a string"),cr=Zn((e=>Array.isArray(e)),"Input is not an array"),lr=Zn((e=>"boolean"==typeof e),"Input is not a boolean"),ur=Zn((e=>void 0===e),"Input is defined"),dr=Qn([ar(),ur()],"Input is not a string or undefined"),hr=Qn([cr(),lr()],"Input is not an array or boolean"),pr=(...e)=>t=>(...n)=>(e.forEach(((e,t)=>er(...e).validate(n[t]))),t(...n)),fr=e=>[ar(`"${e}" must be a string`)],gr=e=>[dr(`"${e}" must be string or undefined`)],mr=e=>[ar(`"${e}" must be a string`),sr(`"${e}" must not be empty`)],vr=e=>[ar(`"${e}" must be a string`),or()],yr=e=>[ar(`"${e}" must be a string`),ir()],wr=pr(mr("accessKey")),br=e=>({exchange:wr(((t,n)=>Yn(e.post(Sn.accessKey.exchange,{loginOptions:n},{token:t}))))}),kr=(e,t,n)=>(t.forEach((t=>{const r=t.split(".");let o=r.shift(),i=e;for(;r.length>0;){if(i=i[o],!o||!i)throw Error(`Invalid path "${t}", "${o}" is missing or has no value`);o=r.shift()}if("function"!=typeof i[o])throw Error(`"${t}" is not a function`);const s=i[o];i[o]=n(s)})),e),Ir=({pollingIntervalMs:e=1e3,timeoutMs:t=6e5}={})=>({pollingIntervalMs:Math.max(e||1e3,1e3),timeoutMs:Math.min(t||xn,xn)});var Sr,Or;!function(e){e.sms="sms",e.voice="voice",e.whatsapp="whatsapp"}(Sr||(Sr={})),function(e){e.email="email"}(Or||(Or={}));const jr=Object.assign(Object.assign({},Sr),Or);var xr;!function(e){e.waiting="waiting",e.running="running",e.completed="completed",e.failed="failed"}(xr||(xr={}));const Cr=mr("loginId"),Er=pr(mr("token")),_r=pr(Cr),Ar=pr(mr("pendingRef")),Rr=pr(Cr,vr("email")),Tr=e=>({verify:Er((t=>Yn(e.post(Sn.enchantedLink.verify,{token:t})))),signIn:_r(((t,n,r,o)=>Yn(e.post(Xn(Sn.enchantedLink.signIn,jr.email),{loginId:t,URI:n,loginOptions:r},{token:o})))),signUpOrIn:_r(((t,n,r)=>Yn(e.post(Xn(Sn.enchantedLink.signUpOrIn,jr.email),{loginId:t,URI:n,loginOptions:r})))),signUp:_r(((t,n,r,o)=>Yn(e.post(Xn(Sn.enchantedLink.signUp,jr.email),{loginId:t,URI:n,user:r,loginOptions:o})))),waitForSession:Ar(((t,n)=>new Promise((r=>{const{pollingIntervalMs:o,timeoutMs:i}=Ir(n);let s;const a=setInterval((async()=>{const n=await e.post(Sn.enchantedLink.session,{pendingRef:t});n.ok&&(clearInterval(a),s&&clearTimeout(s),r(Yn(Promise.resolve(n))))}),o);s=setTimeout((()=>{r({error:{errorDescription:`Session polling timeout exceeded: ${i}ms`,errorCode:"0"},ok:!1}),clearInterval(a)}),i)})))),update:{email:Rr(((t,n,r,o,i)=>Yn(e.post(Sn.enchantedLink.update.email,Object.assign({loginId:t,email:n,URI:r},i),{token:o}))))}}),Ur=pr(mr("flowId")),$r=pr(mr("executionId"),mr("stepId"),mr("interactionId")),Pr=e=>({start:Ur(((t,n,r,o,i,s,a)=>Yn(e.post(Sn.flow.start,{flowId:t,options:n,conditionInteractionId:r,interactionId:o,componentsVersion:i,flowVersions:s,input:a})))),next:$r(((t,n,r,o,i,s)=>Yn(e.post(Sn.flow.next,{executionId:t,stepId:n,interactionId:r,version:o,componentsVersion:i,input:s}))))}),Dr=mr("loginId"),Lr=pr(mr("token")),Mr=pr(Dr),Nr=pr(Dr,yr("phone")),Wr=pr(Dr,vr("email")),qr=Object.keys(jr).filter((e=>e!==Sr.voice)),Fr=e=>({verify:Lr((t=>Yn(e.post(Sn.magicLink.verify,{token:t})))),signIn:qr.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Mr(((t,r,o,i)=>Yn(e.post(Xn(Sn.magicLink.signIn,n),{loginId:t,URI:r,loginOptions:o},{token:i}))))})),{}),signUp:qr.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Mr(((t,r,o,i)=>Yn(e.post(Xn(Sn.magicLink.signUp,n),{loginId:t,URI:r,user:o,loginOptions:i}))))})),{}),signUpOrIn:qr.reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Mr(((t,r,o)=>Yn(e.post(Xn(Sn.magicLink.signUpOrIn,n),{loginId:t,URI:r,loginOptions:o}))))})),{}),update:{email:Wr(((t,n,r,o,i)=>Yn(e.post(Sn.magicLink.update.email,Object.assign({loginId:t,email:n,URI:r},i),{token:o})))),phone:Object.keys(Sr).filter((e=>e!==Sr.voice)).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Nr(((t,r,o,i,s)=>Yn(e.post(Xn(Sn.magicLink.update.phone,n),Object.assign({loginId:t,phone:r,URI:o},s),{token:i}))))})),{})}});var zr;!function(e){e.facebook="facebook",e.github="github",e.google="google",e.microsoft="microsoft",e.gitlab="gitlab",e.apple="apple",e.discord="discord",e.linkedin="linkedin",e.slack="slack"}(zr||(zr={}));const Jr=pr(mr("code")),Hr=e=>({start:Object.assign(((t,n,r,o,i)=>Yn(e.post(Sn.oauth.start,r||{},{queryParams:Object.assign(Object.assign({provider:t},n&&{redirectURL:n}),i&&{loginHint:i}),token:o}))),Object.keys(zr).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:(t,r,o,i)=>Yn(e.post(Sn.oauth.start,r||{},{queryParams:Object.assign(Object.assign({provider:n},t&&{redirectURL:t}),i&&{loginHint:i}),token:o}))})),{})),exchange:Jr((t=>Yn(e.post(Sn.oauth.exchange,{code:t})))),startNative:(t,n,r)=>Yn(e.post(Sn.oauth.startNative,{provider:t,loginOptions:n,implicit:r})),finishNative:(t,n,r,o,i)=>Yn(e.post(Sn.oauth.finishNative,{provider:t,stateId:n,user:r,code:o,idToken:i})),getOneTapClientId:t=>Yn(e.get(Sn.oauth.oneTap.getOneTapClientId.replace("{provider}",t))),verifyOneTapIDToken:(t,n,r,o)=>Yn(e.post(Sn.oauth.oneTap.verifyOneTapIDToken,{provider:t,idToken:n,nonce:r,loginOptions:o})),exchangeOneTapIDToken:(t,n,r,o)=>Yn(e.post(Sn.oauth.oneTap.exchangeOneTapIDToken,{provider:t,idToken:n,nonce:r,loginOptions:o}))}),Kr=mr("appId"),Vr=pr(Kr),Br=e=>({connect:Vr(((t,n,r)=>{const o=null==n?void 0:n.tenantId,i=null==n?void 0:n.tenantLevel;return null==n||delete n.tenantId,null==n||delete n.tenantLevel,Yn(e.post(Sn.outbound.connect,{appId:t,tenantId:o,tenantLevel:i,options:n},{token:r}))}))}),Xr=mr("loginId"),Yr=pr(Xr,mr("code")),Gr=pr(Xr),Zr=pr(Xr,yr("phone")),Qr=pr(Xr,vr("email")),eo=e=>({verify:Object.keys(jr).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Yr(((t,r)=>Yn(e.post(Xn(Sn.otp.verify,n),{code:r,loginId:t}))))})),{}),signIn:Object.keys(jr).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Gr(((t,r,o)=>Yn(e.post(Xn(Sn.otp.signIn,n),{loginId:t,loginOptions:r},{token:o}))))})),{}),signUp:Object.keys(jr).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Gr(((t,r,o)=>Yn(e.post(Xn(Sn.otp.signUp,n),{loginId:t,user:r,loginOptions:o}))))})),{}),signUpOrIn:Object.keys(jr).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Gr(((t,r)=>Yn(e.post(Xn(Sn.otp.signUpOrIn,n),{loginId:t,loginOptions:r}))))})),{}),update:{email:Qr(((t,n,r,o)=>Yn(e.post(Sn.otp.update.email,Object.assign({loginId:t,email:n},o),{token:r})))),phone:Object.keys(Sr).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:Zr(((t,r,o,i)=>Yn(e.post(Xn(Sn.otp.update.phone,n),Object.assign({loginId:t,phone:r},i),{token:o}))))})),{})}}),to=pr(mr("tenant")),no=pr(mr("code")),ro=e=>({start:to(((t,n,r,o,i,s,a)=>Yn(e.post(Sn.saml.start,r||{},Object.assign({queryParams:Object.assign(Object.assign(Object.assign(Object.assign({tenant:t},n&&{redirectURL:n}),i&&{ssoId:i}),s&&{forceAuthn:"true"}),a&&{loginHint:a})},o&&{token:o}))))),exchange:no((t=>Yn(e.post(Sn.saml.exchange,{code:t}))))}),oo=mr("loginId"),io=pr(oo,mr("code")),so=pr(oo),ao=pr(oo),co=e=>({signUp:so(((t,n)=>Yn(e.post(Sn.totp.signUp,{loginId:t,user:n})))),verify:io(((t,n,r,o)=>Yn(e.post(Sn.totp.verify,{loginId:t,code:n,loginOptions:r},{token:o})))),update:ao(((t,n)=>Yn(e.post(Sn.totp.update,{loginId:t},{token:n}))))}),lo=mr("loginId"),uo=mr("newPassword"),ho=pr(lo,mr("password")),po=pr(lo),fo=pr(lo,uo),go=pr(lo,mr("oldPassword"),uo),mo=e=>({signUp:ho(((t,n,r,o)=>Yn(e.post(Sn.password.signUp,{loginId:t,password:n,user:r,loginOptions:o})))),signIn:ho(((t,n,r)=>Yn(e.post(Sn.password.signIn,{loginId:t,password:n,loginOptions:r})))),sendReset:po(((t,n,r)=>Yn(e.post(Sn.password.sendReset,{loginId:t,redirectUrl:n,templateOptions:r})))),update:fo(((t,n,r)=>Yn(e.post(Sn.password.update,{loginId:t,newPassword:n},{token:r})))),replace:go(((t,n,r)=>Yn(e.post(Sn.password.replace,{loginId:t,oldPassword:n,newPassword:r})))),policy:()=>Yn(e.get(Sn.password.policy))}),vo=fr("loginId"),yo=mr("loginId"),wo=mr("origin"),bo=pr(yo,wo,mr("name")),ko=pr(yo,wo),Io=pr(vo,wo),So=pr(yo,wo,gr("token")),Oo=pr(mr("transactionId"),mr("response")),jo=e=>({signUp:{start:bo(((t,n,r,o)=>Yn(e.post(Sn.webauthn.signUp.start,{user:{loginId:t,name:r},origin:n,passkeyOptions:o})))),finish:Oo(((t,n)=>Yn(e.post(Sn.webauthn.signUp.finish,{transactionId:t,response:n}))))},signIn:{start:Io(((t,n,r,o,i)=>Yn(e.post(Sn.webauthn.signIn.start,{loginId:t,origin:n,loginOptions:r,passkeyOptions:i},{token:o})))),finish:Oo(((t,n)=>Yn(e.post(Sn.webauthn.signIn.finish,{transactionId:t,response:n}))))},signUpOrIn:{start:ko(((t,n,r)=>Yn(e.post(Sn.webauthn.signUpOrIn.start,{loginId:t,origin:n,passkeyOptions:r}))))},update:{start:So(((t,n,r,o)=>Yn(e.post(Sn.webauthn.update.start,{loginId:t,origin:n,passkeyOptions:o},{token:r})))),finish:Oo(((t,n)=>Yn(e.post(Sn.webauthn.update.finish,{transactionId:t,response:n}))))}}),xo=fr("loginId"),Co=pr(xo),Eo=pr(mr("pendingRef")),_o=e=>({signUpOrIn:Co(((t,n)=>Yn(e.post(Sn.notp.signUpOrIn,{loginId:t,loginOptions:n})))),signUp:Co(((t,n,r)=>Yn(e.post(Sn.notp.signUp,{loginId:t,user:n,loginOptions:r})))),signIn:Co(((t,n,r)=>Yn(e.post(Sn.notp.signIn,{loginId:t,loginOptions:n},{token:r})))),waitForSession:Eo(((t,n)=>new Promise((r=>{const{pollingIntervalMs:o,timeoutMs:i}=Ir(n);let s;const a=setInterval((async()=>{const n=await e.post(Sn.notp.session,{pendingRef:t});n.ok&&(clearInterval(a),s&&clearTimeout(s),r(Yn(Promise.resolve(n))))}),o);s=setTimeout((()=>{r({error:{errorDescription:`Session polling timeout exceeded: ${i}ms`,errorCode:"0"},ok:!1}),clearInterval(a)}),i)}))))}),Ao=pr(mr("token")),Ro=pr(gr("token"));var To,Uo=pr([(To=mr("projectId"),Zn(((e,t)=>n=>er(...t).validate(((e,t)=>{const n=(Array.isArray(t)?t.join("."):String(t)).replace(/\[\\?("|')?(\w|d)+\\?("|')?\]/g,((e,t,n)=>"."+n)).split("."),r=n.length;let o=0,i=e===Object(e)?e:void 0;for(;null!=i&&o<r;)i=i[n[o++]];return o&&o===r&&void 0!==i?i:void 0})(n,e)))("projectId",To))())])((e=>{const{projectId:t,logger:n,baseUrl:r,cookiePolicy:o,baseHeaders:i={},refreshCookieName:s,fetch:a}=e;return c=qn({baseUrl:r,projectId:t,logger:n,hooks:{get beforeRequest(){var t;return null===(t=e.hooks)||void 0===t?void 0:t.beforeRequest},get afterRequest(){var t;return null===(t=e.hooks)||void 0===t?void 0:t.afterRequest},get transformResponse(){var t;return null===(t=e.hooks)||void 0===t?void 0:t.transformResponse}},cookiePolicy:o,baseConfig:{baseHeaders:i},refreshCookieName:s,fetch:a}),{accessKey:br(c),otp:eo(c),magicLink:Fr(c),enchantedLink:Tr(c),oauth:Hr(c),outbound:Br(c),saml:ro(c),totp:co(c),notp:_o(c),webauthn:jo(c),password:mo(c),flow:Pr(c),refresh:Ro(((e,t,n,r)=>{const o={};n&&(o.externalToken=n);const i=r?Sn.tryRefresh:Sn.refresh;return Yn(c.post(i,o,{token:e,queryParams:t}))})),selectTenant:pr([ar("tenantId")],[dr('"token" must be string or undefined')])(((e,t)=>Yn(c.post(Sn.selectTenant,{tenant:e},{token:t})))),logout:Ro((e=>Yn(c.post(Sn.logout,{},{token:e})))),logoutAll:Ro((e=>Yn(c.post(Sn.logoutAll,{},{token:e})))),me:Ro((e=>Yn(c.get(Sn.me,{token:e})))),myTenants:pr([hr('"tenants" must a string array or a boolean')],[dr('"token" must be string or undefined')])(((e,t)=>{const n={};return"boolean"==typeof e?n.dct=e:n.ids=e,Yn(c.post(Sn.myTenants,n,{token:t}))})),history:Ro((e=>Yn(c.get(Sn.history,{token:e})))),isJwtExpired:Ao(Hn),getTenants:Ao(Kn),getJwtPermissions:Ao(Vn),getJwtRoles:Ao(Bn),getCurrentTenant:Ao(Gn),httpClient:c};var c})),$o=Object.assign(Uo,{DeliveryMethods:jr});
/*! js-cookie v3.0.5 | MIT */function Po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Do=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=Po({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in o)o[s]&&(i+="; "+s,!0!==o[s]&&(i+="="+o[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=t.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Po({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Po({},this.attributes,t))},withConverter:function(t){return e(Po({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});var Lo={default:"endpoint"},Mo="Blocked by CSP",No="The endpoint parameter is not a valid URL",Wo="Failed to load the JS script of the agent",qo="9319";function Fo(e,t){var n,r,o,i,s,a=[],c=(n=function(e){var t=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0);return{current:function(){return t[0]},postpone:function(){var e=t.shift();void 0!==e&&t.push(e)},exclude:function(){t.shift()}}}(e),i=0,r=function(){return Math.random()*Math.min(3e3,100*Math.pow(2,i++))},o=new Set,[n.current(),function(e,t){var i,s=t instanceof Error?t.message:"";if(s===Mo||s===No)n.exclude(),i=0;else if(s===qo)n.exclude();else if(s===Wo){var a=Date.now()-e.getTime()<50,c=n.current();c&&a&&!o.has(c)&&(o.add(c),i=0),n.postpone()}else n.postpone();var l=n.current();return void 0===l?void 0:[l,null!=i?i:e.getTime()+r()-Date.now()]}]),l=c[0],u=c[1];if(void 0===l)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var d=function(e){var n=new Date,r=function(t){return a.push({url:e,startedAt:n,finishedAt:new Date,error:t})},o=t(e);return o.then((function(){return r()}),r),o.catch((function(e){if(null!=s||(s=e),a.length>=5)throw s;var t=u(n,e);if(!t)throw s;var r,o=t[0],i=t[1];return(r=i,new Promise((function(e){return setTimeout(e,r)}))).then((function(){return d(o)}))}))};return d(l).then((function(e){return[e,a]}))}var zo="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",Jo=zo;function Ho(n){var r;n.scriptUrlPattern;var o=n.token,i=n.apiKey,s=void 0===i?o:i,a=t(n,["scriptUrlPattern","token","apiKey"]),c=null!==(r=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(n,"scriptUrlPattern"))&&void 0!==r?r:zo,l=function(){var e=[],t=function(){e.push({time:new Date,state:document.visibilityState})},n=function(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}(document,"visibilitychange",t);return t(),[e,n]}(),u=l[0],d=l[1];return Promise.resolve().then((function(){if(!s||"string"!=typeof s)throw new Error("API key required");var e=function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n("3.11.6"):e}))}(String(e),t)}))}(c,s);return Fo(e,Ko)})).catch((function(e){throw d(),function(e){return e instanceof Error&&e.message===qo?new Error(Wo):e}(e)})).then((function(t){var n=t[0],r=t[1];return d(),n.load(e(e({},a),{ldi:{attempts:r,visibilityStates:u}}))}))}function Ko(e){return function(e,t,n){var r,o=document,i="securitypolicyviolation",s=function(t){var n=new URL(e,location.href),o=t.blockedURI;o!==n.href&&o!==n.protocol.slice(0,-1)&&o!==n.origin||(r=t,a())};o.addEventListener(i,s);var a=function(){return o.removeEventListener(i,s)};return Promise.resolve().then(t).then((function(e){return a(),e}),(function(e){return new Promise((function(e){var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(null)})).then((function(){if(a(),r)return n(r);throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,n){if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(e){if(e instanceof Error&&"TypeError"===e.name)return!0;throw e}}(e))throw new Error(No);var r=document.createElement("script"),o=function(){var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},i=document.head||document.getElementsByTagName("head")[0];r.onload=function(){o(),t()},r.onerror=function(){o(),n(new Error(Wo))},r.async=!0,r.src=e,i.appendChild(r)}))}(e)}),(function(){throw new Error(Mo)})).then(Vo)}function Vo(){var e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n,r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error(qo);return n}const Bo=e=>{try{return In(e).exp}catch(e){return null}},Xo=e=>{const{refresh_expire_in:t,refresh_token:n}=e;return t?Math.floor(Date.now()/1e3)+t:Bo(n)},Yo=e=>{const{expires_in:t,expires_at:n,access_token:r}=e;return n||(t?Math.floor(Date.now()/1e3)+t:r?Bo(r):void 0)},Go=(e,t)=>{var n;return["beforeRequest","afterRequest"].reduce(((n,r)=>{var o;return n[r]=[].concat((null===(o=e.hooks)||void 0===o?void 0:o[r])||[]).concat((null==t?void 0:t[r])||[]),n}),null!==(n=e.hooks)&&void 0!==n?n:e.hooks={}),e},Zo=async e=>{if(!(null==e?void 0:e.ok))return{};const n=await(null==e?void 0:e.clone().json());return(e=>{const{access_token:n,id_token:r,refresh_token:o,refresh_expire_in:i}=e,s=t(e,["access_token","id_token","refresh_token","refresh_expire_in"]);return Object.assign({sessionJwt:e.sessionJwt||n,idToken:r,refreshJwt:e.refreshJwt||o,sessionExpiration:e.sessionExpiration||Yo(e),cookieExpiration:e.cookieExpiration||Xo(e)},s)})((null==n?void 0:n.authInfo)||n||{})},Qo=async e=>{const t=await Zo(e);return(null==t?void 0:t.user)||((null==t?void 0:t.hasOwnProperty("userId"))?t:void 0)},ei="undefined"!=typeof localStorage,ti=(e,t)=>ei&&(null===localStorage||void 0===localStorage?void 0:localStorage.setItem(e,t)),ni=e=>ei&&(null===localStorage||void 0===localStorage?void 0:localStorage.getItem(e)),ri=e=>ei&&(null===localStorage||void 0===localStorage?void 0:localStorage.removeItem(e)),oi=(...e)=>{console.debug(...e)},ii="3.2.0",si="undefined"!=typeof window,ai=Math.pow(2,31)-1,ci=`https://descopecdn.com/npm/oidc-client-ts@${ii}/dist/browser/oidc-client-ts.min.js`,li=`https://cdn.jsdelivr.net/npm/oidc-client-ts@${ii}/dist/browser/oidc-client-ts.min.js`,ui="DS",di="DSR",hi="DSI";function pi(e=""){return ni(`${e}${di}`)||""}function fi(e=""){return Do.get(ui)||ni(`${e}${ui}`)||""}function gi(e=""){return ni(`${e}${hi}`)||""}function mi(e=""){ri(`${e}${di}`),ri(`${e}${ui}`),ri(`${e}${hi}`),Do.remove(ui)}const vi=si&&(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("fingerprint.endpoint.url"))||"https://api.descope.com",yi="vsid",wi="vrid",bi=(e=!1)=>{const t=localStorage.getItem("fp");if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.expiry&&!e?null:n.value},ki=async(e,t=vi)=>{try{if(bi())return;const n=(Date.now().toString(36)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)).substring(0,27),r=new URL(t);r.pathname="/fXj8gt3x8VulJBna/x96Emn69oZwcd7I6";const o=new URL(t);o.pathname="/fXj8gt3x8VulJBna/w78aRZnnDZ3Aqw0I";const i=o.toString()+"?apiKey=<apiKey>&version=<version>&loaderVersion=<loaderVersion>",s=Ho({apiKey:e,endpoint:[r.toString(),Lo],scriptUrlPattern:[i,Jo]}),a=await s,{requestId:c}=await a.get({linkedId:n}),l=((e,t)=>({[yi]:e,[wi]:t}))(n,c);(e=>{const t={value:e,expiry:(new Date).getTime()+864e5};localStorage.setItem("fp",JSON.stringify(t))})(l)}catch(e){console.warn("Could not load fingerprint",e)}},Ii=e=>{const t=bi(!0);return t&&e.body&&(e.body.fpData=t),e},Si="descopeFlowNonce",Oi="X-Descope-Flow-Nonce",ji="/v1/flow/start",xi="/v1/flow/next",Ci=(e,t=Si)=>`${t}${e}`,Ei=e=>{var t;return(null===(t=/.*\|#\|(.*)/.exec(e))||void 0===t?void 0:t[1])||null},_i=e=>{var t;return e.path===xi&&(null===(t=e.body)||void 0===t?void 0:t.executionId)?Ei(e.body.executionId):null},Ai="dls_last_user_login_id",Ri="dls_last_user_display_name",Ti=()=>ni(Ai),Ui=()=>ni(Ri),$i=e=>async(...t)=>{var n;t[1]=t[1]||{};const[,r={}]=t,o=Ti(),i=Ui();return o&&(null!==(n=r.lastAuth)&&void 0!==n||(r.lastAuth={}),r.lastAuth.loginId=o,r.lastAuth.name=i),await e(...t)};function Pi(){const e=[];return{pub:t=>{e.forEach((e=>e(t)))},sub:t=>{const n=e.push(t)-1;return()=>e.splice(n,1)}}}async function Di(e){const t=function(e){var t;const n=JSON.parse(e);return n.publicKey.challenge=Fi(n.publicKey.challenge),n.publicKey.user.id=Fi(n.publicKey.user.id),null===(t=n.publicKey.excludeCredentials)||void 0===t||t.forEach((e=>{e.id=Fi(e.id)})),n}(e);return n=await navigator.credentials.create(t),JSON.stringify({id:n.id,rawId:zi(n.rawId),type:n.type,response:{attestationObject:zi(n.response.attestationObject),clientDataJSON:zi(n.response.clientDataJSON)}});var n}async function Li(e){const t=Wi(e);return qi(await navigator.credentials.get(t))}async function Mi(e,t){const n=Wi(e);return n.signal=t.signal,n.mediation="conditional",qi(await navigator.credentials.get(n))}async function Ni(e=!1){if(!si)return Promise.resolve(!1);const t=!!(window.PublicKeyCredential&&navigator.credentials&&navigator.credentials.create&&navigator.credentials.get);return t&&e&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable():t}function Wi(e){var t;const n=JSON.parse(e);return n.publicKey.challenge=Fi(n.publicKey.challenge),null===(t=n.publicKey.allowCredentials)||void 0===t||t.forEach((e=>{e.id=Fi(e.id)})),n}function qi(e){return JSON.stringify({id:e.id,rawId:zi(e.rawId),type:e.type,response:{authenticatorData:zi(e.response.authenticatorData),clientDataJSON:zi(e.response.clientDataJSON),signature:zi(e.response.signature),userHandle:e.response.userHandle?zi(e.response.userHandle):void 0}})}function Fi(e){const t=e.replace(/_/g,"/").replace(/-/g,"+");return Uint8Array.from(atob(t),(e=>e.charCodeAt(0))).buffer}function zi(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}var Ji,Hi=(Ji=e=>({async signUp(t,n,r){const o=await e.webauthn.signUp.start(t,window.location.origin,n,r);if(!o.ok)return o;const i=await Di(o.data.options);return await e.webauthn.signUp.finish(o.data.transactionId,i)},async signIn(t,n){const r=await e.webauthn.signIn.start(t,window.location.origin,void 0,void 0,n);if(!r.ok)return r;const o=await Li(r.data.options);return await e.webauthn.signIn.finish(r.data.transactionId,o)},async signUpOrIn(t,n){var r;const o=await e.webauthn.signUpOrIn.start(t,window.location.origin,n);if(!o.ok)return o;if(null===(r=o.data)||void 0===r?void 0:r.create){const t=await Di(o.data.options);return await e.webauthn.signUp.finish(o.data.transactionId,t)}{const t=await Li(o.data.options);return await e.webauthn.signIn.finish(o.data.transactionId,t)}},async update(t,n,r){const o=await e.webauthn.update.start(t,window.location.origin,n,r);if(!o.ok)return o;const i=await Di(o.data.options);return await e.webauthn.update.finish(o.data.transactionId,i)},helpers:{create:Di,get:Li,isSupported:Ni,conditional:Mi}}),(...e)=>{const t=Ji(...e);return Object.assign(t.signUp,e[0].webauthn.signUp),Object.assign(t.signIn,e[0].webauthn.signIn),Object.assign(t.signUpOrIn,e[0].webauthn.signUpOrIn),Object.assign(t.update,e[0].webauthn.update),t});const Ki="/fedcm/config",Vi=()=>{if(window.crypto&&window.crypto.getRandomValues){const e=new Uint8Array(16);return window.crypto.getRandomValues(e),Array.from(e,(e=>e.toString(16).padStart(2,"0"))).join("")}return Math.random().toString(36).substring(2)};async function Bi(e,t){var n;try{await Xi(e,t)}catch(e){null===(n=null==t?void 0:t.onFailed)||void 0===n||n.call(t,e)}}async function Xi(e,t){var n,r;const o=await async function(e,t="google",n,r,o){const i=Vi(),s=await async function(){return new Promise(((e,t)=>{if(window.google)return void e(window.google.accounts.id);let n=document.getElementById("google-gsi-client-script");n||(n=document.createElement("script"),document.head.appendChild(n),n.async=!0,n.defer=!0,n.id="google-gsi-client-script",n.src="https://accounts.google.com/gsi/client"),n.onload=function(){window.google?e(window.google.accounts.id):t("Failed to load Google GSI client script - not loaded properly")},n.onerror=function(){t("Failed to load Google GSI client script - failed to load")}}))}(),a=await e.oauth.getOneTapClientId(t);if(!a.ok)throw new Error("Failed to get OneTap client ID for provider "+t);const c=a.data.clientId;return new Promise((e=>{var a,l;const u=n=>{e({provider:t,nonce:i,credential:null==n?void 0:n.credential})};s.initialize(Object.assign(Object.assign({},n),{itp_support:null===(a=null==n?void 0:n.itp_support)||void 0===a||a,use_fedcm_for_prompt:null===(l=null==n?void 0:n.use_fedcm_for_prompt)||void 0===l||l,client_id:c,callback:u,nonce:i})),s.prompt((e=>{var t,n;if(o&&(null==e?void 0:e.isDismissedMoment())){const n=null===(t=e.getDismissedReason)||void 0===t?void 0:t.call(e);return null==o||o(n),void u()}if(r&&(null==e?void 0:e.isSkippedMoment())){const t=null===(n=e.getSkippedReason)||void 0===n?void 0:n.call(e);return null==r||r(t),void u()}}))}))}(e,t.provider,t.oneTapConfig,t.onSkipped,t.onDismissed);if(!o.credential)return null;if(null==t?void 0:t.onCodeReceived){const r=await e.oauth.verifyOneTapIDToken(o.provider,o.credential,o.nonce,null==t?void 0:t.loginOptions);if(!r.ok||!r.data)throw new Error("Failed to verify OneTap client ID for provider "+o.provider);null===(n=null==t?void 0:t.onCodeReceived)||void 0===n||n.call(t,r.data.code)}else{const n=await e.oauth.exchangeOneTapIDToken(o.provider,o.credential,o.nonce,null==t?void 0:t.loginOptions);if(!n.ok||!n.data)throw new Error("Failed to exchange OneTap client ID for provider "+o.provider);null===(r=null==t?void 0:t.onAuthenticated)||void 0===r||r.call(t,n.data)}}var Yi=e=>Object.assign(Object.assign({},e.flow),{start:async(...t)=>{const n=await Ni(),r=Object.assign(Object.assign({location:window.location.href},t[1]),{deviceInfo:{webAuthnSupport:n},startOptionsVersion:1});return t[1]=r,e.flow.start(...t)}});let Gi;const Zi=(e,t)=>new Promise(((n,r)=>{if(!e.length)return r(new Error("No URLs provided to loadScriptWithFallback"));const o=t();if(o)return n(o);const i=e.shift(),s=document.createElement("script");s.src=i,s.id=(e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t).toString(16)})(i),s.onload=()=>{const e=t();if(e)return n(e);throw new Error("Could not get entry after loading script from URL")},s.addEventListener("error",(()=>{Zi(e,t),s.setAttribute("data-error","true")})),document.body.appendChild(s)})),Qi=(e,t,n)=>{const r=async()=>{let r,o;return r&&o||({client:r,stateUserKey:o}=await(async(e,t,n)=>{Gi||(Gi=(async()=>{try{return require("oidc-client-ts")}catch(e){return Zi([ci,li],(()=>window.oidc))}})());const{OidcClient:r,WebStorageStateStore:o}=await Gi;if(!r)throw new Error("oidc-client-ts is not installed. Please install it by running `npm install oidc-client-ts`");const i=t,s=(null==n?void 0:n.redirectUri)||window.location.href,a=(null==n?void 0:n.scope)||"openid email roles descope.custom_claims offline_access",c=`${i}_user`;let l=e.httpClient.buildUrl(t);(null==n?void 0:n.applicationId)&&(l=`${l}/${n.applicationId}`);const u={authority:l,client_id:t,redirect_uri:s,response_type:"code",scope:a,stateStore:new o({store:window.localStorage,prefix:i}),loadUserInfo:!0,fetchRequestCredentials:"same-origin"};return(null==n?void 0:n.redirectUri)&&(u.redirect_uri=n.redirectUri),(null==n?void 0:n.scope)&&(u.scope=n.scope),{client:new r(u),stateUserKey:c}})(e,t,n)),{client:r,stateUserKey:o}},o=async(t="")=>{var n;const{client:o,stateUserKey:i}=await r(),s=await o.processSigninResponse(t||window.location.href);var a;return await(null===(n=e.httpClient.hooks)||void 0===n?void 0:n.afterRequest({},new Response(JSON.stringify(s)))),window.localStorage.setItem(i,JSON.stringify({id_token:(a=s).id_token,session_state:a.session_state,profile:a.profile})),(()=>{const e=new URL(window.location.href);e.searchParams.delete("code"),e.searchParams.delete("state"),window.history.replaceState({},document.title,e.toString())})(),s};return{loginWithRedirect:async(e={},t=!1)=>{const{client:n}=await r(),o=await n.createSigninRequest(e),{url:i}=o;return t||(window.location.href=i),{ok:!0,data:o}},finishLogin:o,finishLoginIfNeed:async(e="")=>{if(window.location.search.includes("code")&&window.location.search.includes("state"))return await o(e)},refreshToken:async t=>{var n;const{client:o,stateUserKey:i}=await r(),s=(e=>{const t=window.localStorage.getItem(e);return t?JSON.parse(t):null})(i);if(!s)throw new Error("User not found in storage to refresh token");let a=t;if(!a){const t={};e.httpClient.hooks.beforeRequest(t),a=t.token}const c=await o.useRefreshToken({state:{refresh_token:a,session_state:s.session_state,profile:s.profile}});return await(null===(n=e.httpClient.hooks)||void 0===n?void 0:n.afterRequest({},new Response(JSON.stringify(c)))),c},logout:async(e,t=!1)=>{const{client:n,stateUserKey:o}=await r();e||(e={}),e.id_token_hint=e.id_token_hint||gi(),e.post_logout_redirect_uri=e.post_logout_redirect_uri||window.location.href;const i=await n.createSignoutRequest(e),{url:s}=i;return window.localStorage.removeItem(o),t||window.location.replace(s),i}}},es=function(...e){return t=>e.reduce(((e,t)=>t(e)),t)}((e=>n=>{var{fpKey:r,fpLoad:o}=n,i=t(n,["fpKey","fpLoad"]);return si?(r&&o&&ki(r).catch((()=>null)),e(Go(i,{beforeRequest:Ii}))):e(i)}),(e=>n=>{var{autoRefresh:r}=n,o=t(n,["autoRefresh"]);if(!r||"undefined"!=typeof window&&window.descopeBridge)return e(o);const{clearAllTimers:i,setTimer:s}=(()=>{const e=[];return{clearAllTimers:()=>{for(;e.length;)clearTimeout(e.pop())},setTimer:(t,n)=>{e.push(setTimeout(t,n))}}})();let a,c;si&&document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&a&&new Date>a&&(oi("Expiration time passed, refreshing session"),l.refresh(pi()||c))}));const l=e(Go(o,{afterRequest:async(e,t)=>{const{sessionJwt:n,refreshJwt:r,sessionExpiration:o}=await Zo(t);if(401===(null==t?void 0:t.status))oi("Received 401, canceling all timers"),i();else if(n||o){if(a=((e,t)=>{if(t)return new Date(1e3*t);oi("Could not extract expiration time from session token, trying to decode the token");try{const t=In(e);if(t.exp)return new Date(1e3*t.exp)}catch(e){return null}})(n,o),!a)return void oi("Could not extract expiration time from session token");c=r;const e=(e=>{let t=((n=e)?n.getTime()-(new Date).getTime():0)-2e4;var n;return t>ai&&(oi(`Timeout is too large (${t}ms), setting it to ${ai}ms`),t=ai),t})(a);if(i(),e<=2e4)return void oi("Session is too close to expiration, not setting refresh timer");const t=new Date(Date.now()+e).toLocaleTimeString("en-US",{hour12:!1});oi(`Setting refresh timer for ${t}. (${e}ms)`),s((()=>{oi("Refreshing session due to timer"),l.refresh(pi()||r)}),e)}}}));return kr(l,["logout","logoutAll","oidc.logout"],(e=>async(...t)=>{const n=await e(...t);return oi("Clearing all timers"),i(),n}))}),(e=>t=>e(Object.assign(Object.assign({},t),{baseHeaders:Object.assign({"x-descope-sdk-name":"web-js","x-descope-sdk-version":"1.35.1"},t.baseHeaders)}))),(e=>t=>{const n=Pi(),r=Pi(),o=Pi(),i=e(Go(t,{afterRequest:async(e,t)=>{if(401===(null==t?void 0:t.status))r.pub(null),o.pub(null),n.pub(null);else{const e=await Qo(t);e&&o.pub(e);const{sessionJwt:i,sessionExpiration:s}=await Zo(t);i&&r.pub(i),(s||i)&&n.pub(s||42)}}})),s=kr(i,["logout","logoutAll","oidc.logout"],(e=>async(...t)=>{const i=await e(...t);return r.pub(null),o.pub(null),n.pub(null),i}));return Object.assign(s,{onSessionTokenChange:r.sub,onUserChange:o.sub,onIsAuthenticatedChange:e=>n.sub((t=>{e(!!t)}))})}),(e=>n=>{const{enableFlowNonce:r=!0,nonceStoragePrefix:o=Si}=n,i=t(n,["enableFlowNonce","nonceStoragePrefix"]);return r?(((e=Si)=>{try{if(!ei)return;for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n&&n.startsWith(e)){const t=ni(n);if(t)try{JSON.parse(t).expiry<Date.now()&&ri(n)}catch(e){ri(n)}}}}catch(e){console.error("Error cleaning up expired nonces:",e)}})(o),e(Go(i,{afterRequest:async(e,t)=>{if(e.path!==ji&&e.path!==xi)return;const{nonce:n,executionId:r}=await(async(e,t)=>{try{const n=t.headers.get(Oi);let r=await t.clone().json().then((e=>(null==e?void 0:e.executionId)||null)).catch((()=>null));return r||(r=_i(e)),{nonce:n,executionId:Ei(r)}}catch(e){return{nonce:null,executionId:null}}})(e,t);n&&r&&((e,t,n,r=Si)=>{try{const o=Ci(e,r),i=n?172800:10800,s={value:t,expiry:Date.now()+1e3*i,isStart:n};ti(o,JSON.stringify(s))}catch(e){console.error("Error setting flow nonce:",e)}})(r,n,e.path===ji,o)},beforeRequest:e=>{if(e.path===xi){const t=_i(e);if(t){const n=((e,t=Si)=>{try{const n=Ci(e,t),r=ni(n);if(!r)return null;const o=JSON.parse(r);return o.expiry<Date.now()?(((e,t=Si)=>{try{const n=Ci(e,t);ri(n)}catch(e){console.error("Error removing flow nonce:",e)}})(e,t),null):o.value}catch(e){return console.error("Error getting flow nonce:",e),null}})(t,o);n&&(e.headers=e.headers||{},e.headers[Oi]=n)}}return e}}))):e(i)}),(e=>n=>{var{storeLastAuthenticatedUser:r=!0,keepLastAuthenticatedUserAfterLogout:o=!1}=n,i=t(n,["storeLastAuthenticatedUser","keepLastAuthenticatedUserAfterLogout"]);if(!r)return Object.assign(e(i),{getLastUserLoginId:Ti,getLastUserDisplayName:Ui});const s=e(Go(i,{afterRequest:async(e,t)=>{var n;const r=await Qo(t),o=null===(n=null==r?void 0:r.loginIds)||void 0===n?void 0:n[0],i=null==r?void 0:r.name;o&&((e=>{ti(Ai,e)})(o),(e=>{ti(Ri,e)})(i))}}));let a=kr(s,["flow.start"],$i);return a=kr(a,["logout","logoutAll"],(e=>t=>async(...n)=>{const r=await t(...n);return e||(ri(Ai),ri(Ri)),r})(o)),Object.assign(a,{getLastUserLoginId:Ti,getLastUserDisplayName:Ui})}),(e=>n=>{var{persistTokens:r,sessionTokenViaCookie:o,storagePrefix:i}=n,s=t(n,["persistTokens","sessionTokenViaCookie","storagePrefix"]);if(!r||!si)return e(s);const a=e(Go(s,{beforeRequest:(c=i,e=>Object.assign(e,{token:e.token||pi(c)})),afterRequest:async(e,t)=>{const n=/^\/v\d+\/mgmt\//.test(e.path);401===(null==t?void 0:t.status)?n||mi(i):((e={},t=!1,n="")=>{var r;const{sessionJwt:o,refreshJwt:i}=e;if(i&&ti(`${n}${di}`,i),o)if(t){const n=t.sameSite||"Strict",i=null===(r=t.secure)||void 0===r||r;!function(e,t,n){if(t){const{cookieDomain:r,cookiePath:o,cookieSameSite:i,cookieExpiration:s,cookieSecure:a}=n,c=new Date(1e3*s),l=function(e){const t=window.location.hostname.split("."),n=e.split(".");return t.slice(-n.length).join(".")===e}(r);Do.set(e,t,{path:o,domain:l?r:void 0,expires:c,sameSite:i,secure:a})}}(ui,o,Object.assign(Object.assign({},e),{cookieSameSite:n,cookieSecure:i}))}else ti(`${n}${ui}`,o);e.idToken&&ti(`${n}${hi}`,e.idToken)})(await Zo(t),o,i)}}));var c;const l=kr(a,["logout","logoutAll","oidc.logout"],(e=>t=>async(...n)=>{const r=await t(...n);return mi(e),r})(i));return Object.assign(l,{getRefreshToken:()=>pi(i),getSessionToken:()=>fi(i),getIdToken:()=>gi(i)})}))((e=>{const t=$o(e),n=Qi(t,e.projectId,e.oidcConfig);return Object.assign(Object.assign({},t),{refresh:async(r,o)=>{var i;if(e.oidcConfig)try{return await n.refreshToken(r),Promise.resolve({ok:!0})}catch(e){return Promise.resolve({ok:!1,error:{errorCode:"J161001",errorDescription:e.toString()}})}const s=fi(),a=pi();let c="";if(e.getExternalToken)try{c=await(null===(i=e.getExternalToken)||void 0===i?void 0:i.call(e))}catch(e){oi("Error getting external token while refreshing",e)}return t.refresh(r,{dcs:s?"t":"f",dcr:a?"t":"f"},c,o)},logout:async r=>{if(e.oidcConfig)try{return await n.logout({id_token_hint:r}),Promise.resolve({ok:!0})}catch(e){return Promise.resolve({ok:!1,error:{errorCode:"J161000",errorDescription:e.toString()}})}return t.logout(r)},flow:Yi(t),webauthn:Hi(t),fedcm:(r=t,o=e.projectId,{onetap:{requestExchangeCode(e){Bi(r,e)},requestAuthentication(e){Bi(r,e)}},async oneTap(e,t,n,o,i){await Xi(r,{provider:e,oneTapConfig:t,loginOptions:n,onSkipped:o,onDismissed:i})},async launch(e){var t;const n={identity:{context:e||"signin",providers:[{configURL:r.httpClient.buildUrl(o+Ki),clientId:o}]}},i=await(null===(t=navigator.credentials)||void 0===t?void 0:t.get(n));return r.refresh(i.token)},isSupported:()=>si&&"IdentityCredential"in window,async isLoggedIn(e){var t;const n=r.httpClient.buildUrl(o+Ki);try{const r={identity:{context:e||"signin",providers:[{configURL:n,clientId:o}]}},i=await(null===(t=navigator.credentials)||void 0===t?void 0:t.get(r));return!!i&&!!i.token}catch(e){return!1}}}),oidc:n});var r,o})),ts={search:"/v1/mgmt/audit/search"},ns=e=>n(void 0,[e],void 0,(function*({text:e,sort:t}){return new Promise((n=>{const r=[],o=(new Date).getTime()/1e3+2592e3,i=new Date(o).toLocaleString();for(let e=1;e<9;e+=1)r.push({id:`Audit ${e}`,action:`Action ${e}`,actorId:`Actor ${e}`,type:"info",method:`Method ${e}`,userId:`User ${e}`,device:`Device ${e}`,geo:`Geo ${e}`,remoteAddress:`127.0.0.${e}`,externalIds:[`Login ID ${e}`],occurred:o,occurredFormatted:i});t.forEach((e=>{r.sort(((t,n)=>{var r,o;return e.desc?null===(o=n[e.field])||void 0===o?void 0:o.localeCompare(t[e.field]):null===(r=t[e.field])||void 0===r?void 0:r.localeCompare(n[e.field])}))})),n(r.filter((t=>t.id.toLowerCase().includes(e.toLowerCase())||t.action.toLowerCase().includes(e.toLowerCase())||t.type.toLowerCase().includes(e.toLowerCase())||t.device.toLowerCase().includes(e.toLowerCase())||t.method.toLowerCase().includes(e.toLowerCase())||t.geo.toLowerCase().includes(e.toLowerCase())||t.remoteAddress.toLowerCase().includes(e.toLowerCase())||t.externalIds.includes(e.toLowerCase())||t.userId.toLowerCase().includes(e.toLowerCase()))))}))})),rs=({httpClient:e,tenant:t,mock:r})=>({search:(...o)=>n(void 0,[...o],void 0,(function*({page:o,limit:i=1e4,text:s,sort:a,from:c}={}){if(r)return ns({page:o,limit:i,text:s,sort:a},t);const l=yield e.post(ts.search,{limit:i,page:o,text:s,sort:a,from:c},{queryParams:{tenant:t}});yield(e=>n(void 0,void 0,void 0,(function*(){const t=yield e.text(),n=JSON.parse(t);if(!e.ok){const t=`${n.errorDescription}${n.errorMessage?`: ${n.errorMessage}`:""}`;throw Error(t||`${e.status} ${e.statusText}`)}e.json=()=>Promise.resolve(n),e.text=()=>Promise.resolve(t)})))(l);return(yield l.json()).audits}))}),os=l((e=>{var t,s,a,c;const l=i(O,I,v,j,un,S({tenant:S.missingAttrValidator}))(e);return c=class extends l{constructor(){super(...arguments),t.add(this),s.set(this,void 0)}get tenantId(){return this.getAttribute("tenant")}get widgetId(){return this.getAttribute("widget-id")}get mock(){return this.getAttribute("mock")}get api(){return r(this,s,"f")||r(this,t,"m",a).call(this),r(this,s,"f")}init(){const e=Object.create(null,{init:{get:()=>super.init}});return n(this,void 0,void 0,(function*(){var n;yield null===(n=e.init)||void 0===n?void 0:n.call(this),this.observeAttributes(["project-id","base-url","tenant"],(()=>{r(this,s,"f")&&r(this,t,"m",a).call(this)}))}))}},s=new WeakMap,t=new WeakSet,a=function(){this.logger.debug("creating an sdk instance"),o(this,s,((e,t,n,r)=>{const o=es(Object.assign(Object.assign({},e),{persistTokens:!0,baseHeaders:{"x-descope-widget-type":"audit-management-widget","x-descope-widget-id":r,"x-descope-widget-version":"0.5.9"}}));return{audit:rs({httpClient:o.httpClient,tenant:t,mock:n})}})({projectId:this.projectId,baseUrl:this.baseUrl,refreshCookieName:this.refreshCookieName},this.tenantId,"true"===this.mock,this.widgetId),"f")},c})),is=l((e=>{const t=i(ln({name:"widget",initialState:wn,reducers:{setSelectedAuditId:(e,{payload:t})=>{e.selectedAuditId=t}},extraReducers:e=>{yn.reducer(e)},asyncActions:{searchAudit:yn.action}}),k,v,os)(e);return class extends t{constructor(...e){super(...e),this.state=wn,this.subscribe((e=>{this.logger.debug("State update:",e),this.state=e}))}}})),ss=l((e=>{const t=i(_,S({"widget-id":S.missingAttrValidator}))(e);return class extends t{get widgetId(){return this.getAttribute("widget-id")}fetchWidgetPage(e){return n(this,void 0,void 0,(function*(){return(yield this.fetchStaticResource(`audit-management-widget/${this.widgetId}/${e}`,"text")).body}))}}})),as=l((e=>{var t,o,a;return a=class extends(i(v,k,W,K,ss,is)(e)){constructor(){super(...arguments),t.add(this)}onWidgetRootReady(){return n(this,void 0,void 0,(function*(){}))}init(){const e=Object.create(null,{init:{get:()=>super.init}});return n(this,void 0,void 0,(function*(){var n;yield null===(n=e.init)||void 0===n?void 0:n.call(this),yield Promise.all([r(this,t,"m",o).call(this)]),this.onWidgetRootReady()}))}},t=new WeakSet,o=function(){return n(this,void 0,void 0,(function*(){const e=s(yield this.fetchWidgetPage("root.html"));yield this.loadDescopeUiComponents(e),this.contentRootElement.append(e.content.cloneNode(!0))}))},a})),cs=l((e=>{var t,o,s,a,l;return l=class extends(i(v,as,is)(e)){constructor(){super(...arguments),t.add(this),o.set(this,c((()=>{const e=this.rangeInput.value,t=new Date;let n;switch(e){case"minuets15":n=t.setMinutes(t.getMinutes()-15);break;case"hour":n=t.setHours(t.getHours()-1);break;case"hour6":n=t.setHours(t.getHours()-6);break;case"day":default:n=t.setDate(t.getDate()-1);break;case"day3":n=t.setDate(t.getDate()-3);break;case"week":n=t.setDate(t.getDate()-7);break;case"week2":n=t.setDate(t.getDate()-14);break;case"month":n=t.setMonth(t.getMonth()-1)}this.actions.searchAudit({text:this.searchInput.value,from:Math.floor(new Date(n).getTime())})})))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return n(this,void 0,void 0,(function*(){var n;yield null===(n=e.onWidgetRootReady)||void 0===n?void 0:n.call(this),r(this,t,"m",s).call(this),r(this,t,"m",a).call(this)}))}},o=new WeakMap,t=new WeakSet,s=function(){var e;this.searchInput=new oe(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="search-input"]'),{logger:this.logger}),this.searchInput.onInput(r(this,o,"f")),r(this,o,"f").call(this)},a=function(){var e;this.rangeInput=new re(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="range-input"]'),{logger:this.logger}),this.rangeInput.onInput(r(this,o,"f"))},l})),ls=l((e=>{var t,o,s,c;return c=class extends(i(is,v,as)(e)){constructor(){super(...arguments),t.add(this),s.set(this,(e=>{let t,n;return(...r)=>(t&&a(t,r)||(t=r,n=e(...r)),n)})((e=>{this.auditTable.data=e})))}onWidgetRootReady(){const e=Object.create(null,{onWidgetRootReady:{get:()=>super.onWidgetRootReady}});return n(this,void 0,void 0,(function*(){var n;yield null===(n=e.onWidgetRootReady)||void 0===n?void 0:n.call(this),r(this,t,"m",o).call(this),r(this,s,"f").call(this,fn(this.state)),this.subscribe(r(this,s,"f").bind(this),fn)}))}},s=new WeakMap,t=new WeakSet,o=function(){var e;this.auditTable=new Q(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector('[data-id="audit-table"]'),{logger:this.logger}),this.auditTable.onSelectedItemsChange((e=>{this.actions.setSelectedAuditId(e.detail.value.map((({id:e})=>e)))}))},c})),us=l((e=>class extends(i(T,ae,ls,cs)(e)){init(){const e=Object.create(null,{init:{get:()=>super.init}});return n(this,void 0,void 0,(function*(){var t;yield null===(t=e.init)||void 0===t?void 0:t.call(this)}))}})),ds=i((e=>class extends(us(e)){}))(HTMLElement);customElements.define("descope-audit-management-widget",ds);const hs=(e,t,n,r={})=>{var o,i,s,a;return[Math.min(Math.max(t,("all"===r.left?e.offsetWidth:null!==(o=r.left)&&void 0!==o?o:0)-e.offsetWidth),window.innerWidth-("all"===r.right?e.offsetWidth:null!==(i=r.right)&&void 0!==i?i:0)),Math.min(Math.max(n,("all"===r.top?e.offsetHeight:null!==(s=r.top)&&void 0!==s?s:0)-e.offsetHeight),window.innerHeight-("all"===r.bottom?e.offsetHeight:null!==(a=r.bottom)&&void 0!==a?a:0))]};var ps,fs,gs,ms,vs,ys,ws,bs,ks,Is;const Ss=document.createElement("template");Ss.innerHTML=`\n<div style="top:32px; left:${window.innerWidth-300-32}px;" class="debugger">\n  <div class="header">\n    <span>Debugger messages</span>\n  </div>\n  <div class="content">\n    <div class="empty-state">\n      No errors detected 👀\n    </div>\n  </div>\n</div>\n`;const Os=i(z)(HTMLElement);class js extends Os{constructor(){var e;super(),ps.add(this),fs.set(this,new g({messages:[]})),gs.set(this,void 0),ms.set(this,void 0),vs.set(this,void 0),ys.set(this,{resize:r(this,ps,"m",Is).bind(this)}),this.attachShadow({mode:"open"}),null===(e=this.shadowRoot)||void 0===e||e.appendChild(Ss.content.cloneNode(!0)),this.injectStyle('\n.debugger {\n    all: initial;\n    width: 300px;\n    height: 200px;\n    background-color: #FAFAFA;\n    position: fixed;\n    font-family: "Helvetica Neue", sans-serif;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 10px;\n    border-radius: 8px;\n    overflow: hidden;\n    border: 1px solid lightgrey;\n    pointer-events: initial;\n    display: flex;\n    flex-direction: column;\n    min-width: 200px;\n    max-width: 600px;\n    max-height: calc(100% - 64px);\n    min-height: 200px;\n    resize: both;\n  }\n\n  .header {\n    padding: 8px 16px;\n    display: flex;\n    align-items: center;\n    background-color: #EEEEEE;\n    cursor: move;\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  .content {\n    font-size: 14px;\n    flex-grow: 1;\n    overflow: auto;\n  }\n\n  .msg {\n    border-bottom: 1px solid lightgrey;\n    padding: 8px 16px;\n    display: flex;\n    gap: 5px;\n    background-color: #FAFAFA;\n  }\n\n  .msg.collapsible {\n    cursor: pointer;\n  }\n\n  .empty-state {\n    padding: 8px 16px;\n    background-color: #FAFAFA;\n  }\n\n\n  .msg.collapsible:not(.collapsed) {\n    background-color: #F5F5F5;\n  }\n\n  .msg_title {\n    padding-bottom: 5px;\n    display: flex;\n    gap: 8px;\n    font-weight: 500;\n  }\n\n  .msg svg {\n    padding: 1px;\n    flex-shrink: 0;\n    margin-top: -2px;\n  }\n\n  .msg_content {\n    overflow: hidden;\n    flex-grow: 1;\n    margin-right:5px;\n  }\n\n  .msg_desc {\n    color: #646464;\n    cursor: initial;\n    word-wrap: break-word;\n  }\n\n  .msg.collapsed .msg_desc {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .msg.collapsible.collapsed .chevron {\n    transform: rotate(-45deg) translateX(-2px);\n  }\n\n  .msg.collapsible .chevron {\n    content: "";\n    width:6px;\n    height:6px;\n    border-bottom: 2px solid grey;\n    border-right: 2px solid grey;\n    transform: rotate(45deg) translateX(-1px);\n    margin: 5px;\n    flex-shrink:0;\n  }\n'),o(this,gs,this.shadowRoot.querySelector(".debugger"),"f"),o(this,ms,r(this,gs,"f").querySelector(".content"),"f"),o(this,vs,r(this,gs,"f").querySelector(".header"),"f")}updateData(e){r(this,fs,"f").update((t=>({messages:t.messages.concat(e)})))}connectedCallback(){var e;((e,t,n)=>{let r=0,o=0,i=0,s=0;function a(t){t.preventDefault(),r=i-t.clientX,o=s-t.clientY,i=t.clientX,s=t.clientY;const[a,c]=hs(e,e.offsetLeft-r,e.offsetTop-o,n);e.style.top=`${c}px`,e.style.left=`${a}px`}function c(){document.onmouseup=null,document.onmousemove=null}function l(e){e.preventDefault(),i=e.clientX,s=e.clientY,document.onmouseup=c,document.onmousemove=a}t?t.onmousedown=l:e.onmousedown=l})(r(this,gs,"f"),r(this,vs,"f"),{top:"all",bottom:100,left:100,right:100}),window.addEventListener("resize",r(this,ys,"f").resize),(e=r(this,gs,"f")).onmousemove=t=>{var n;const r=t.target;(r.w&&r.w!==r.offsetWidth||r.h&&r.h!==r.offsetHeight)&&(null===(n=e.onresize)||void 0===n||n.call(e,t)),r.w=r.offsetWidth,r.h=r.offsetHeight},r(this,gs,"f").onresize=r(this,ps,"m",ks).bind(this),r(this,fs,"f").subscribe(r(this,ps,"m",ws).bind(this))}disconnectedCallback(){r(this,fs,"f").unsubscribeAll(),window.removeEventListener("resize",r(this,ys,"f").resize)}}fs=new WeakMap,gs=new WeakMap,ms=new WeakMap,vs=new WeakMap,ys=new WeakMap,ps=new WeakSet,ws=function(e){r(this,ps,"m",bs).call(this,e),r(this,ps,"m",ks).call(this)},bs=function(e){r(this,ms,"f").innerHTML=e.messages.map((e=>`\n    <div class="msg">\n      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M5.99984 13.167L8.99984 10.167L11.9998 13.167L13.1665 12.0003L10.1665 9.00033L13.1665 6.00033L11.9998 4.83366L8.99984 7.83366L5.99984 4.83366L4.83317 6.00033L7.83317 9.00033L4.83317 12.0003L5.99984 13.167ZM8.99984 17.3337C7.84706 17.3337 6.76373 17.1148 5.74984 16.677C4.73595 16.2398 3.854 15.6462 3.104 14.8962C2.354 14.1462 1.76039 13.2642 1.32317 12.2503C0.885393 11.2364 0.666504 10.1531 0.666504 9.00033C0.666504 7.84755 0.885393 6.76421 1.32317 5.75033C1.76039 4.73644 2.354 3.85449 3.104 3.10449C3.854 2.35449 4.73595 1.7606 5.74984 1.32283C6.76373 0.885603 7.84706 0.666992 8.99984 0.666992C10.1526 0.666992 11.2359 0.885603 12.2498 1.32283C13.2637 1.7606 14.1457 2.35449 14.8957 3.10449C15.6457 3.85449 16.2393 4.73644 16.6765 5.75033C17.1143 6.76421 17.3332 7.84755 17.3332 9.00033C17.3332 10.1531 17.1143 11.2364 16.6765 12.2503C16.2393 13.2642 15.6457 14.1462 14.8957 14.8962C14.1457 15.6462 13.2637 16.2398 12.2498 16.677C11.2359 17.1148 10.1526 17.3337 8.99984 17.3337ZM8.99984 15.667C10.8609 15.667 12.4373 15.0212 13.729 13.7295C15.0207 12.4378 15.6665 10.8614 15.6665 9.00033C15.6665 7.13921 15.0207 5.56283 13.729 4.27116C12.4373 2.97949 10.8609 2.33366 8.99984 2.33366C7.13873 2.33366 5.56234 2.97949 4.27067 4.27116C2.979 5.56283 2.33317 7.13921 2.33317 9.00033C2.33317 10.8614 2.979 12.4378 4.27067 13.7295C5.56234 15.0212 7.13873 15.667 8.99984 15.667Z" fill="#ED404A"/>\n</svg>\n\n      <div class="msg_content">\n        <div class="msg_title">\n          ${e.title}\n        </div>\n        <div class="msg_desc">\n          ${e.description||""}\n        </div>\n      </div>\n      <div class="chevron"></div>\n    </div>\n  `)).join("")},ks=function(){r(this,ms,"f").querySelectorAll(".msg").forEach((e=>{const t=e,n=t.querySelector(".msg_desc"),r=n.scrollWidth>n.clientWidth,o=n.clientHeight>20;r||o?(t.classList.add("collapsible"),t.onclick=e=>{e.target.classList.contains("msg_desc")||t.classList.toggle("collapsed")}):(t.classList.remove("collapsible"),t.onclick=null)}))},Is=function(){const[e,t]=hs(r(this,gs,"f"),Number.parseInt(r(this,gs,"f").style.left,10),Number.parseInt(r(this,gs,"f").style.top,10),{top:"all",bottom:100,left:100,right:100});r(this,gs,"f").style.top=`${t}px`,r(this,gs,"f").style.left=`${e}px`},customElements.get("descope-debugger")||customElements.define("descope-debugger",js);var xs=Object.freeze({__proto__:null,default:js});return ds}();
//# sourceMappingURL=index.js.map
